(()=>{var e,t,n,r={6237(e,t,n){"use strict";n.d(t,{xV:()=>l,ML:()=>o});var r=n(8909);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return"object"===i(e)&&null!==e&&"addEventListener"in e&&"removeEventListener"in e}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.target,s=void 0===o?window:o,l=n.passive,u=void 0!==l&&l,c=n.capture,d=void 0!==c&&c,f=(0,r.useMemo)(function(){return{target:s,passive:u,capture:d}},[s,u,d]),p=(0,r.useRef)(t);(0,r.useEffect)(function(){p.current=t},[t]),(0,r.useEffect)(function(){var e;"object"===i(e=s)&&null!==e&&"current"in e&&(s=s.current)}),(0,r.useEffect)(function(){var t=function(e){return p.current(e)};return a(s)&&s.addEventListener(e,t,f),function(){a(s)&&s.removeEventListener(e,t,f)}},[e,s,f])}var s=/Mac/.test(navigator.platform);function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.keyName,a=e.shiftKey,l=void 0!==a&&a,u=e.altKey,c=void 0!==u&&u,d=e.modKey,f=e.ctrlKey,p=void 0!==f&&f,h=e.metaKey,g=void 0!==h&&h;void 0!==d&&d&&(p=!s,g=s);var m=n.event,v=n.target,y=n.passive,b=n.capture,w=(0,r.useCallback)(function(e){e instanceof KeyboardEvent&&i.toLowerCase()===e.key.toLowerCase()&&l===e.shiftKey&&c===e.altKey&&p===e.ctrlKey&&g===e.metaKey&&(y||e.preventDefault(),t(e))},[t,y,i,l,c,p,g]),_=(0,r.useMemo)(function(){return s?[p&&"⌃",c&&"⌥",l&&"⇧",g&&"⌘",""===i?"":"".concat(i[0].toUpperCase()).concat(i.slice(1))].filter(Boolean).join(""):[p&&"Ctrl",c&&"Alt",l&&"Shift",g&&"⊞",i.toUpperCase()].filter(Boolean).join(" + ")},[i,l,c,p,g]);return o(void 0===m?"keydown":m,w,{target:v,passive:y,capture:b}),_}},1955(e,t,n){"use strict";function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}n.d(t,{Z:()=>r,e:()=>i})},5846(e,t,n){"use strict";n.d(t,{w:()=>i});var r=n(1955);function i(){return!(0,r.Z)()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}e=n.hmd(e)},9328(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */";return[n].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([i]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},5055(e,t,n){"use strict";n.d(t,{i7:()=>z,AH:()=>$,HO:()=>B}),n(1845);var r,i,a,o,s,l,u,c,d,f,p,h,g,m=/*#__PURE__*/function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,n,r=((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t);n=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,n),this.tags.push(r)}var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(i);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);a.insertRule(e,o?0:a.cssRules.length)}catch(e){}}else i.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}();let v=function(e){function t(e,t,r){var i=t.trim().split(h);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=n(e,t[s],r).trim();break;default:var l=s=0;for(t=[];s<a;++s)for(var u=0;u<o;++u)t[l++]=n(e[u]+" ",i[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<+n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,a){var o=e+";",s=2*t+3*n+4*a;if(944===s){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===I||2===I&&i(l,1)?"-webkit-"+l+l:l}if(0===I||2===I&&!i(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(T,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return f.test(o)?o.replace(d,":-webkit-")+o.replace(d,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(b,"tb");break;case 232:l=o.replace(b,"tb-rl");break;case 220:l=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,a).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+a&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(x,"$1"),n,t)}function a(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function o(e,t,n,r,i,a,o,s,u,c){for(var d,f=0,p=t;f<P;++f)switch(d=R[f].call(l,e,p,n,r,i,a,o,s,u,c)){case void 0:case!1:case!0:case null:break;default:p=d}if(p!==t)return p}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!=typeof e?I=1:(I=2,D=e):I=0),s}function l(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<P){var l=o(-1,n,s,s,C,k,0,0,0,0);void 0!==l&&"string"==typeof l&&(n=l)}var d=function e(n,s,l,d,f){for(var p,h,g,b,_,S=0,x=0,E=0,T=0,R=0,D=0,N=g=p=0,L=0,j=0,U=0,F=0,B=l.length,z=B-1,$="",H="",V="",q="";L<B;){if(h=l.charCodeAt(L),L===z&&0!==x+T+E+S&&(0!==x&&(h=47===x?10:47),T=E=S=0,B++,z++),0===x+T+E+S){if(L===z&&(0<j&&($=$.replace(c,"")),0<$.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:$+=l.charAt(L)}h=59}switch(h){case 123:for(p=($=$.trim()).charCodeAt(0),g=1,F=++L;L<B;){switch(h=l.charCodeAt(L)){case 123:g++;break;case 125:g--;break;case 47:switch(h=l.charCodeAt(L+1)){case 42:case 47:e:{for(N=L+1;N<z;++N)switch(l.charCodeAt(N)){case 47:if(42===h&&42===l.charCodeAt(N-1)&&L+2!==N){L=N+1;break e}break;case 10:if(47===h){L=N+1;break e}}L=N}}break;case 91:h++;case 40:h++;case 34:case 39:for(;L++<z&&l.charCodeAt(L)!==h;);}if(0===g)break;L++}if(g=l.substring(F,L),0===p&&(p=($=$.replace(u,"").trim()).charCodeAt(0)),64===p){switch(0<j&&($=$.replace(c,"")),h=$.charCodeAt(1)){case 100:case 109:case 115:case 45:j=s;break;default:j=M}if(F=(g=e(s,j,g,h,f+1)).length,0<P&&(_=o(3,g,j=t(M,$,U),s,C,k,F,h,f,d),$=j.join(""),void 0!==_&&0===(F=(g=_.trim()).length)&&(h=0,g="")),0<F)switch(h){case 115:$=$.replace(w,a);case 100:case 109:case 45:g=$+"{"+g+"}";break;case 107:g=($=$.replace(m,"$1 $2"))+"{"+g+"}",g=1===I||2===I&&i("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=$+g,112===d&&(H+=g,g="")}else g=""}else g=e(s,t(s,$,U),g,d,f+1);V+=g,g=U=j=N=p=0,$="",h=l.charCodeAt(++L);break;case 125:case 59:if(1<(F=($=(0<j?$.replace(c,""):$).trim()).length))switch(0===N&&(45===(p=$.charCodeAt(0))||96<p&&123>p)&&(F=($=$.replace(" ",":")).length),0<P&&void 0!==(_=o(1,$,s,n,C,k,H.length,d,f,d))&&0===(F=($=_.trim()).length)&&($="\0\0"),p=$.charCodeAt(0),h=$.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){q+=$+l.charAt(L);break}default:58!==$.charCodeAt(F-1)&&(H+=r($,p,h,$.charCodeAt(2)))}U=j=N=p=0,$="",h=l.charCodeAt(++L)}}switch(h){case 13:case 10:47===x?x=0:0===1+p&&107!==d&&0<$.length&&(j=1,$+="\0"),0<P*O&&o(0,$,s,n,C,k,H.length,d,f,d),k=1,C++;break;case 59:case 125:if(0===x+T+E+S){k++;break}default:switch(k++,b=l.charAt(L),h){case 9:case 32:if(0===T+S+x)switch(R){case 44:case 58:case 9:case 32:b="";break;default:32!==h&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===T+x+S&&(j=U=1,b="\f"+b);break;case 108:if(0===T+x+S+A&&0<N)switch(L-N){case 2:112===R&&58===l.charCodeAt(L-3)&&(A=R);case 8:111===D&&(A=D)}break;case 58:0===T+x+S&&(N=L);break;case 44:0===x+E+T+S&&(j=1,b+="\r");break;case 34:case 39:0===x&&(T=T===h?0:0===T?h:T);break;case 91:0===T+x+E&&S++;break;case 93:0===T+x+E&&S--;break;case 41:0===T+x+S&&E--;break;case 40:0===T+x+S&&(0===p&&(2*R+3*D===533||(p=1)),E++);break;case 64:0===x+E+T+S+N+g&&(g=1);break;case 42:case 47:if(!(0<T+S+E))switch(x){case 0:switch(2*h+3*l.charCodeAt(L+1)){case 235:x=47;break;case 220:F=L,x=42}break;case 42:47===h&&42===R&&F+2!==L&&(33===l.charCodeAt(F+2)&&(H+=l.substring(F,L+1)),b="",x=0)}}0===x&&($+=b)}D=R,R=h,L++}if(0<(F=H.length)){if(j=s,0<P&&void 0!==(_=o(2,H,j,n,C,k,F,d,f,d))&&0===(H=_).length)return q+H+V;if(H=j.join(",")+"{"+H+"}",0!==I*A){switch(2!==I||i(H,2)||(A=0),A){case 111:H=H.replace(y,":-moz-$1")+H;break;case 112:H=H.replace(v,"::-webkit-input-$1")+H.replace(v,"::-moz-$1")+H.replace(v,":-ms-input-$1")+H}A=0}}return q+H+V}(M,s,n,0,0);return 0<P&&void 0!==(l=o(-2,d,s,s,C,k,d.length,0,0,0))&&(d=l),A=0,k=C=1,d}var u=/^\0+/g,c=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,h=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,S=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,k=1,C=1,A=0,I=1,M=[],R=[],P=0,D=null,O=0;return l.use=function e(t){switch(t){case void 0:case null:P=R.length=0;break;default:if("function"==typeof t)R[P++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else O=0|!!t}return e},l.set=s,void 0!==e&&s(e),l};n(3051);var y="/*|*/",b=y+"}";function w(e){e&&_.current.insert(e+"}")}var _={current:null},S=function(e,t,n,r,i,a,o,s,l,u){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return _.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+y;break;case 3:switch(s){case 102:case 112:return _.current.insert(n[0]+t),"";default:return t+(0===u?y:"")}case -2:t.split(b).forEach(w)}};let x=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))*0x5bd1e995+((t>>>16)*59797<<16),t^=t>>>24,n=(65535&t)*0x5bd1e995+((t>>>16)*59797<<16)^(65535&n)*0x5bd1e995+((n>>>16)*59797<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n^=255&e.charCodeAt(r),n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)},E={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var T=/[A-Z]|^ms/g,k=/_EMO_([^_]+?)_([^]*?)_EMO_/g,C=function(e){return 45===e.charCodeAt(1)},A=function(e){return null!=e&&"boolean"!=typeof e},I=(d=function(e){return C(e)?e:e.replace(T,"-$&").toLowerCase()},f={},function(e){return void 0===f[e]&&(f[e]=d(e)),f[e]}),M=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(k,function(e,t,n){return g={name:t,styles:n,next:g},t})}return 1===E[e]||C(e)||"number"!=typeof t||0===t?t:t+"px"};function R(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return g={name:n.name,styles:n.styles,next:g},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)g={name:i.name,styles:i.styles,next:g},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=R(e,t,n[i],!1);else for(var a in n){var o=n[a];if("object"!=typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":A(o)&&(r+=I(a)+":"+M(a,o)+";");else if(Array.isArray(o)&&"string"==typeof o[0]&&(null==t||void 0===t[o[0]]))for(var s=0;s<o.length;s++)A(o[s])&&(r+=I(a)+":"+M(a,o[s])+";");else{var l=R(e,t,o,!1);switch(a){case"animation":case"animationName":r+=I(a)+":"+l+";";break;default:r+=a+"{"+l+"}"}}}return r}(e,t,n);case"function":if(void 0!==e){var a=g,o=n(e);return g=a,R(e,t,o,r)}}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var P=/label:\s*([^\s;\n{]+)\s*;/g,D=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r,i=!0,a="";g=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=R(n,t,o,!1)):a+=o[0];for(var s=1;s<e.length;s++)a+=R(n,t,e[s],46===a.charCodeAt(a.length-1)),i&&(a+=o[s]);P.lastIndex=0;for(var l="";null!==(r=P.exec(a));)l+="-"+r[1];return{name:x(a)+l,styles:a,next:g}};function O(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "}),r}var N=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do e.insert("."+r,i,e.sheet,!0),i=i.next;while(void 0!==i)}};function L(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function j(e,t,n){var r=[],i=O(e,r,n);return r.length<2?n:i+t(r)}var U=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var o in a="",i)i[o]&&o&&(a&&(a+=" "),a+=o);break;default:a=i}a&&(n&&(n+=" "),n+=a)}}return n},F=((r=void 0,r={},o=r.key||"css",void 0!==r.prefix&&(i={prefix:r.prefix}),s=new v(i),l={},a=r.container||document.head,u=document.querySelectorAll("style[data-emotion-"+o+"]"),Array.prototype.forEach.call(u,function(e){e.getAttribute("data-emotion-"+o).split(" ").forEach(function(e){l[e]=!0}),e.parentNode!==a&&a.appendChild(e)}),s.use(r.stylisPlugins)(S),p=c={key:o,sheet:new m({key:o,container:a,nonce:r.nonce,speedy:r.speedy}),nonce:r.nonce,inserted:l,registered:{},insert:function(e,t,n,r){var i=t.name;_.current=n,s(e,t.styles),r&&(c.inserted[i]=!0)}}).sheet.speedy=function(e){this.isSpeedy=e},p.compat=!0,{css:h=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,p.registered,void 0);return N(p,r,!1),p.key+"-"+r.name},cx:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return j(p.registered,h,U(t))},injectGlobal:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,p.registered);L(p,r)},keyframes:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,p.registered),i="animation-"+r.name;return L(p,{name:r.name,styles:"@keyframes "+i+"{"+r.styles+"}"}),i},hydrate:function(e){e.forEach(function(e){p.inserted[e]=!0})},flush:function(){p.registered={},p.inserted={},p.sheet.flush()},sheet:p.sheet,cache:p,getRegisteredStyles:O.bind(null,p.registered),merge:j.bind(null,p.registered,h)}),B=(F.flush,F.hydrate,F.cx,F.merge,F.getRegisteredStyles,F.injectGlobal),z=F.keyframes,$=F.css;F.sheet,F.cache},62(e,t,n){"use strict";n.d(t,{A:()=>u});var r={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},i=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],a=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],o=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],s="undefined"!=typeof window&&void 0!==window.document?window.document:{},l="fullscreenEnabled"in s&&Object.keys(r)||i[0]in s&&i||a[0]in s&&a||o[0]in s&&o||[];let u={requestFullscreen:function(e){return e[l[r.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[l[r.requestFullscreen]]},get exitFullscreen(){return s[l[r.exitFullscreen]].bind(s)},get fullscreenPseudoClass(){return":"+l[r.fullscreen]},addEventListener:function(e,t,n){return s.addEventListener(l[r[e]],t,n)},removeEventListener:function(e,t,n){return s.removeEventListener(l[r[e]],t,n)},get fullscreenEnabled(){return!!s[l[r.fullscreenEnabled]]},set fullscreenEnabled(val){},get fullscreenElement(){return s[l[r.fullscreenElement]]},set fullscreenElement(val){},get onfullscreenchange(){return s[("on"+l[r.fullscreenchange]).toLowerCase()]},set onfullscreenchange(handler){return s[("on"+l[r.fullscreenchange]).toLowerCase()]=handler},get onfullscreenerror(){return s[("on"+l[r.fullscreenerror]).toLowerCase()]},set onfullscreenerror(handler){return s[("on"+l[r.fullscreenerror]).toLowerCase()]=handler}}},813(e){"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=!function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};if("abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join(""))return!1;return!0}catch(e){return!1}}()?function(e,i){for(var a,o,s=function(e){if(null==e)throw TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in a=Object(arguments[l]))n.call(a,u)&&(s[u]=a[u]);if(t){o=t(a);for(var c=0;c<o.length;c++)r.call(a,o[c])&&(s[o[c]]=a[o[c]])}}return s}:Object.assign},5492(e,t,n){"use strict";/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */n(3051),n(9404),n(9982),n(7399),n(6970),n(1048),n(2236),n(1650),n(6884),n(8710),n(3617),n(3019),n(8657),n(3380),n(6139),n(2569),n(8198),n(7918),n(8900),n(708),n(2657),n(1452),n(6546),n(1749),n(6754),n(6299),n(3643),n(3053),n(1029),n(9155),n(3070),n(3696);var r,i,a,o,s,l,u,c=n(8909),d=n(813),f=n(2571);function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!c)throw Error(p(227));function h(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var g=!1,m=null,v=!1,y=null,b={onError:function(e){g=!0,m=e}};function w(e,t,n,r,i,a,o,s,l){g=!1,m=null,h.apply(b,arguments)}var _=null,S=null,x=null;function E(e,t,n){var r=e.type||"unknown-event";e.currentTarget=x(n),function(e,t,n,r,i,a,o,s,l){if(w.apply(this,arguments),g){if(g){var u=m;g=!1,m=null}else throw Error(p(198));v||(v=!0,y=u)}}(r,t,void 0,e),e.currentTarget=null}var T=null,k={};function C(){if(T)for(var e in k){var t=k[e],n=T.indexOf(e);if(!(-1<n))throw Error(p(96,e));if(!I[n]){if(!t.extractEvents)throw Error(p(97,e));for(var r in I[n]=t,n=t.eventTypes){var i=void 0,a=n[r];if(M.hasOwnProperty(r))throw Error(p(99,r));M[r]=a;var o=a.phasedRegistrationNames;if(o){for(i in o)o.hasOwnProperty(i)&&A(o[i],t,r);i=!0}else a.registrationName?(A(a.registrationName,t,r),i=!0):i=!1;if(!i)throw Error(p(98,r,e))}}}}function A(e,t,n){if(R[e])throw Error(p(100,e));R[e]=t,P[e]=t.eventTypes[n].dependencies}var I=[],M={},R={},P={};function D(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!k.hasOwnProperty(t)||k[t]!==r){if(k[t])throw Error(p(102,t));k[t]=r,n=!0}}n&&C()}var O="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,N=null,L=null,j=null;function U(e){if(e=S(e)){if("function"!=typeof N)throw Error(p(280));var t=e.stateNode;t&&(t=_(t),N(e.stateNode,e.type,t))}}function F(e){L?j?j.push(e):j=[e]:L=e}function B(){if(L){var e=L,t=j;if(j=L=null,U(e),t)for(e=0;e<t.length;e++)U(t[e])}}function z(e,t){return e(t)}function $(e,t,n,r,i){return e(t,n,r,i)}function H(){}var V=z,q=!1,W=!1;function K(){(null!==L||null!==j)&&(H(),B())}function G(e,t,n){if(W)return e(t,n);W=!0;try{return V(e,t,n)}finally{W=!1,K()}}var X=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y=Object.prototype.hasOwnProperty,J={},Q={};function Z(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ee[e]=new Z(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ee[t]=new Z(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ee[e]=new Z(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ee[e]=new Z(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ee[e]=new Z(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ee[e]=new Z(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){ee[e]=new Z(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){ee[e]=new Z(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){ee[e]=new Z(e,5,!1,e.toLowerCase(),null,!1)});var et=/[\-:]([a-z])/g;function en(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(et,en);ee[t]=new Z(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(et,en);ee[t]=new Z(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(et,en);ee[t]=new Z(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){ee[e]=new Z(e,1,!1,e.toLowerCase(),null,!1)}),ee.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){ee[e]=new Z(e,1,!1,e.toLowerCase(),null,!0)});var er=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function ei(e,t,n,r){var i,a=ee.hasOwnProperty(t)?ee[t]:null;(null!==a?0===a.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?(i=t,(Y.call(Q,i)||!Y.call(J,i)&&(X.test(i)?Q[i]=!0:(J[i]=!0,!1)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}er.hasOwnProperty("ReactCurrentDispatcher")||(er.ReactCurrentDispatcher={current:null}),er.hasOwnProperty("ReactCurrentBatchConfig")||(er.ReactCurrentBatchConfig={suspense:null});var ea=/^(.*)[\\\/]/,eo="function"==typeof Symbol&&Symbol.for,es=eo?Symbol.for("react.element"):60103,el=eo?Symbol.for("react.portal"):60106,eu=eo?Symbol.for("react.fragment"):60107,ec=eo?Symbol.for("react.strict_mode"):60108,ed=eo?Symbol.for("react.profiler"):60114,ef=eo?Symbol.for("react.provider"):60109,ep=eo?Symbol.for("react.context"):60110,eh=eo?Symbol.for("react.concurrent_mode"):60111,eg=eo?Symbol.for("react.forward_ref"):60112,em=eo?Symbol.for("react.suspense"):60113,ev=eo?Symbol.for("react.suspense_list"):60120,ey=eo?Symbol.for("react.memo"):60115,eb=eo?Symbol.for("react.lazy"):60116,ew=eo?Symbol.for("react.block"):60121,e_="function"==typeof Symbol&&Symbol.iterator;function eS(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=e_&&e[e_]||e["@@iterator"])?e:null}function ex(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case eu:return"Fragment";case el:return"Portal";case ed:return"Profiler";case ec:return"StrictMode";case em:return"Suspense";case ev:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ep:return"Context.Consumer";case ef:return"Context.Provider";case eg:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ey:return ex(e.type);case ew:return ex(e.render);case eb:if(e=1===e._status?e._result:null)return ex(e)}return null}function eE(e){var t="";do{switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break;default:var r=e._debugOwner,i=e._debugSource,a=ex(e.type);n=null,r&&(n=ex(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(ea,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function eT(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ek(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function eC(e){e._valueTracker||(e._valueTracker=function(e){var t=ek(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function eA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ek(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function eI(e,t){var n=t.checked;return d({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function eM(e,t){var n=null==t.defaultValue?"":t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:n=eT(null!=t.value?t.value:n),controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function eR(e,t){null!=(t=t.checked)&&ei(e,"checked",t,!1)}function eP(e,t){eR(e,t);var n=eT(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?eO(e,t.type,n):t.hasOwnProperty("defaultValue")&&eO(e,t.type,eT(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function eD(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(("submit"===r||"reset"===r)&&(void 0===t.value||null===t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function eO(e,t,n){("number"!==t||e.ownerDocument.activeElement!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function eN(e,t){var n,r;return e=d({children:void 0},t),n=t.children,r="",c.Children.forEach(n,function(e){null!=e&&(r+=e)}),(t=r)&&(e.children=t),e}function eL(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(i=0,n=""+eT(n),t=null;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ej(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(p(91));return d({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eU(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(p(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(p(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:eT(n)}}function eF(e,t){var n=eT(t.value),r=eT(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function eB(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ez(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e$(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ez(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var eH,eV,eq=(eH=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((eV=eV||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eV.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return eH(e,t,n,r)})}:eH);function eW(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}function eK(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var eG={animationend:eK("Animation","AnimationEnd"),animationiteration:eK("Animation","AnimationIteration"),animationstart:eK("Animation","AnimationStart"),transitionend:eK("Transition","TransitionEnd")},eX={},eY={};function eJ(e){if(eX[e])return eX[e];if(!eG[e])return e;var t,n=eG[e];for(t in n)if(n.hasOwnProperty(t)&&t in eY)return eX[e]=n[t];return e}O&&(eY=document.createElement("div").style,"AnimationEvent"in window||(delete eG.animationend.animation,delete eG.animationiteration.animation,delete eG.animationstart.animation),"TransitionEvent"in window||delete eG.transitionend.transition);var eQ=eJ("animationend"),eZ=eJ("animationiteration"),e0=eJ("animationstart"),e1=eJ("transitionend"),e2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e3=new("function"==typeof WeakMap?WeakMap:Map);function e4(e){var t=e3.get(e);return void 0===t&&(t=new Map,e3.set(e,t)),t}function e5(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function e6(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function e8(e){if(e5(e)!==e)throw Error(p(188))}function e9(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=e5(e)))throw Error(p(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return e8(i),e;if(a===r)return e8(i),t;a=a.sibling}throw Error(p(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(p(189))}}if(n.alternate!==r)throw Error(p(190))}if(3!==n.tag)throw Error(p(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function e7(e,t){if(null==t)throw Error(p(30));return null==e?t:Array.isArray(e)?(Array.isArray(t)?e.push.apply(e,t):e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function te(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var tt=null;function tn(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)E(e,t[r],n[r]);else t&&E(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function tr(e){if(null!==e&&(tt=e7(tt,e)),e=tt,tt=null,e){if(te(e,tn),tt)throw Error(p(95));if(v)throw e=y,v=!1,y=null,e}}function ti(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ta(e){if(!O)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var to=[];function ts(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>to.length&&to.push(e)}function tl(e,t,n,r){if(to.length){var i=to.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function tu(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=nc(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ti(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,l=0;l<I.length;l++){var u=I[l];u&&(u=u.extractEvents(r,t,a,i,o))&&(s=e7(s,u))}tr(s)}}function tc(e,t,n){if(!n.has(e)){switch(e){case"scroll":t$(t,"scroll",!0);break;case"focus":case"blur":t$(t,"focus",!0),t$(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ta(e)&&t$(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===e2.indexOf(e)&&tz(e,t)}n.set(e,null)}}var td,tf,tp,th=!1,tg=[],tm=null,tv=null,ty=null,tb=new Map,tw=new Map,t_=[],tS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),tx="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function tE(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function tT(e,t){switch(e){case"focus":case"blur":tm=null;break;case"dragenter":case"dragleave":tv=null;break;case"mouseover":case"mouseout":ty=null;break;case"pointerover":case"pointerout":tb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tw.delete(t.pointerId)}}function tk(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=tE(t,n,r,i,a),null!==t&&null!==(t=nd(t))&&tf(t)):e.eventSystemFlags|=r,e}function tC(e){if(null!==e.blockedOn)return!1;var t=tW(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=nd(t);return null!==n&&tf(n),e.blockedOn=t,!1}return!0}function tA(e,t,n){tC(e)&&n.delete(t)}function tI(){for(th=!1;0<tg.length;){var e=tg[0];if(null!==e.blockedOn){null!==(e=nd(e.blockedOn))&&td(e);break}var t=tW(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:tg.shift()}null!==tm&&tC(tm)&&(tm=null),null!==tv&&tC(tv)&&(tv=null),null!==ty&&tC(ty)&&(ty=null),tb.forEach(tA),tw.forEach(tA)}function tM(e,t){e.blockedOn===t&&(e.blockedOn=null,th||(th=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,tI)))}function tR(e){function t(t){return tM(t,e)}if(0<tg.length){tM(tg[0],e);for(var n=1;n<tg.length;n++){var r=tg[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==tm&&tM(tm,e),null!==tv&&tM(tv,e),null!==ty&&tM(ty,e),tb.forEach(t),tw.forEach(t),n=0;n<t_.length;n++)(r=t_[n]).blockedOn===e&&(r.blockedOn=null);for(;0<t_.length&&null===(n=t_[0]).blockedOn;)(function(e){var t=nc(e.target);if(null!==t){var n=e5(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=e6(n))){e.blockedOn=t,f.unstable_runWithPriority(e.priority,function(){tp(n)});return}}else if(3===t&&n.stateNode.hydrate){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null})(n),null===n.blockedOn&&t_.shift()}var tP={},tD=new Map,tO=new Map;function tN(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},tO.set(r,t),tD.set(r,a),tP[i]=a}}tN("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),tN("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),tN(["abort","abort",eQ,"animationEnd",eZ,"animationIteration",e0,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",e1,"transitionEnd","waiting","waiting"],2);for(var tL="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),tj=0;tj<tL.length;tj++)tO.set(tL[tj],0);var tU=f.unstable_UserBlockingPriority,tF=f.unstable_runWithPriority,tB=!0;function tz(e,t){t$(t,e,!1)}function t$(e,t,n){var r=tO.get(t);switch(void 0===r?2:r){case 0:r=tH.bind(null,t,1,e);break;case 1:r=tV.bind(null,t,1,e);break;default:r=tq.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function tH(e,t,n,r){q||H();var i=q;q=!0;try{$(tq,e,t,n,r)}finally{(q=i)||K()}}function tV(e,t,n,r){tF(tU,tq.bind(null,e,t,n,r))}function tq(e,t,n,r){if(tB)if(0<tg.length&&-1<tS.indexOf(e))e=tE(null,e,t,n,r),tg.push(e);else{var i=tW(e,t,n,r);if(null===i)tT(e,r);else if(-1<tS.indexOf(e))e=tE(i,e,t,n,r),tg.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return tm=tk(tm,e,t,n,r,i),!0;case"dragenter":return tv=tk(tv,e,t,n,r,i),!0;case"mouseover":return ty=tk(ty,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return tb.set(a,tk(tb.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,tw.set(a,tk(tw.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){tT(e,r),e=tl(e,r,null,t);try{G(tu,e)}finally{ts(e)}}}}function tW(e,t,n,r){if(null!==(n=nc(n=ti(r)))){var i=e5(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=e6(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=tl(e,r,n,t);try{G(tu,e)}finally{ts(e)}return null}var tK={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tG=["Webkit","ms","Moz","O"];function tX(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||tK.hasOwnProperty(e)&&tK[e]?(""+t).trim():t+"px"}function tY(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tX(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(tK).forEach(function(e){tG.forEach(function(t){tK[t=t+e.charAt(0).toUpperCase()+e.substring(1)]=tK[e]})});var tJ=d({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tQ(e,t){if(t){if(tJ[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(p(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(p(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(p(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(p(62,""))}}function tZ(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t0="http://www.w3.org/1999/xhtml";function t1(e,t){var n=e4(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=P[t];for(var r=0;r<t.length;r++)tc(t[r],e,n)}function t2(){}function t3(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function t4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function t5(e,t){var n,r=t4(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=t4(r)}}function t6(){for(var e=window,t=t3();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=t3(e.document)}return t}function t8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var t9=null,t7=null;function ne(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function nt(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var nn="function"==typeof setTimeout?setTimeout:void 0,nr="function"==typeof clearTimeout?clearTimeout:void 0;function ni(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function na(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var no=Math.random().toString(36).slice(2),ns="__reactInternalInstance$"+no,nl="__reactEventHandlers$"+no,nu="__reactContainere$"+no;function nc(e){var t=e[ns];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nu]||n[ns]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=na(e);null!==e;){if(n=e[ns])return n;e=na(e)}return t}n=(e=n).parentNode}return null}function nd(e){return(e=e[ns]||e[nu])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function nf(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(p(33))}function np(e){return e[nl]||null}function nh(e){do e=e.return;while(e&&5!==e.tag);return e||null}function ng(e,t){var n=e.stateNode;if(!n)return null;var r=_(n);if(!r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r="button"!==(e=e.type)&&"input"!==e&&"select"!==e&&"textarea"!==e),e=!r;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(p(231,t,typeof n));return n}function nm(e,t,n){(t=ng(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=e7(n._dispatchListeners,t),n._dispatchInstances=e7(n._dispatchInstances,e))}function nv(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=nh(t);for(t=n.length;0<t--;)nm(n[t],"captured",e);for(t=0;t<n.length;t++)nm(n[t],"bubbled",e)}}function ny(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=ng(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=e7(n._dispatchListeners,t),n._dispatchInstances=e7(n._dispatchInstances,e))}function nb(e){e&&e.dispatchConfig.registrationName&&ny(e._targetInst,null,e)}function nw(e){te(e,nv)}var n_=null,nS=null,nx=null;function nE(){if(nx)return nx;var e,t,n=nS,r=n.length,i="value"in n_?n_.value:n_.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nx=i.slice(e,1<t?1-t:void 0)}function nT(){return!0}function nk(){return!1}function nC(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?nT:nk,this.isPropagationStopped=nk,this}function nA(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function nI(e){if(!(e instanceof this))throw Error(p(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function nM(e){e.eventPool=[],e.getPooled=nA,e.release=nI}d(nC.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nT)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nT)},persist:function(){this.isPersistent=nT},isPersistent:nk,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=nk,this._dispatchInstances=this._dispatchListeners=null}}),nC.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},nC.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return d(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=d({},r.Interface,e),n.extend=r.extend,nM(n),n},nM(nC);var nR=nC.extend({data:null}),nP=nC.extend({data:null}),nD=[9,13,27,32],nO=O&&"CompositionEvent"in window,nN=null;O&&"documentMode"in document&&(nN=document.documentMode);var nL=O&&"TextEvent"in window&&!nN,nj=O&&(!nO||nN&&8<nN&&11>=nN),nU={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},nF=!1;function nB(e,t){switch(e){case"keyup":return -1!==nD.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function nz(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var n$=!1,nH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nV(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nH[e.type]:"textarea"===t}var nq={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function nW(e,t,n){return(e=nC.getPooled(nq.change,e,t,n)).type="change",F(n),nw(e),e}var nK=null,nG=null;function nX(e){tr(e)}function nY(e){if(eA(nf(e)))return e}function nJ(e,t){if("change"===e)return t}var nQ=!1;function nZ(){nK&&(nK.detachEvent("onpropertychange",n0),nG=nK=null)}function n0(e){if("value"===e.propertyName&&nY(nG))if(e=nW(nG,e,ti(e)),q)tr(e);else{q=!0;try{z(nX,e)}finally{q=!1,K()}}}function n1(e,t,n){"focus"===e?(nZ(),nK=t,nG=n,nK.attachEvent("onpropertychange",n0)):"blur"===e&&nZ()}function n2(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nY(nG)}function n3(e,t){if("click"===e)return nY(t)}function n4(e,t){if("input"===e||"change"===e)return nY(t)}O&&(nQ=ta("input")&&(!document.documentMode||9<document.documentMode));var n5={eventTypes:nq,_isInputEventSupported:nQ,extractEvents:function(e,t,n,r){var i=t?nf(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=nJ;else if(nV(i))if(nQ)o=n4;else{o=n2;var s=n1}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=n3);if(o&&(o=o(e,t)))return nW(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&eO(i,"number",i.value)}},n6=nC.extend({view:null,detail:null}),n8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=n8[e])&&!!t[e]}function n7(){return n9}var re=0,rt=0,rn=!1,rr=!1,ri=n6.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:n7,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=re;return re=e.screenX,rn?"mousemove"===e.type?e.screenX-t:0:(rn=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=rt;return rt=e.screenY,rr?"mousemove"===e.type?e.screenY-t:0:(rr=!0,0)}}),ra=ri.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),ro={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},rs="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},rl=Object.prototype.hasOwnProperty;function ru(e,t){if(rs(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!rl.call(t,n[r])||!rs(e[n[r]],t[n[r]]))return!1;return!0}var rc=O&&"documentMode"in document&&11>=document.documentMode,rd={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},rf=null,rp=null,rh=null,rg=!1;function rm(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return rg||null==rf||rf!==t3(n)?null:(n="selectionStart"in(n=rf)&&t8(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},rh&&ru(rh,n)?null:(rh=n,(e=nC.getPooled(rd.select,rp,e,t)).type="select",e.target=rf,nw(e),e))}var rv=nC.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ry=nC.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rb=n6.extend({relatedTarget:null});function rw(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var r_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rx=n6.extend({key:function(e){if(e.key){var t=r_[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rw(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?rS[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:n7,charCode:function(e){return"keypress"===e.type?rw(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rw(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),rE=ri.extend({dataTransfer:null}),rT=n6.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:n7}),rk=nC.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rC=ri.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});if(T)throw Error(p(101));T=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),C(),_=np,S=nd,x=nf,D({SimpleEventPlugin:{eventTypes:tP,extractEvents:function(e,t,n,r){var i=tD.get(e);if(!i)return null;switch(e){case"keypress":if(0===rw(n))return null;case"keydown":case"keyup":e=rx;break;case"blur":case"focus":e=rb;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=ri;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=rE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=rT;break;case eQ:case eZ:case e0:e=rv;break;case e1:e=rk;break;case"scroll":e=n6;break;case"wheel":e=rC;break;case"copy":case"cut":case"paste":e=ry;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=ra;break;default:e=nC}return nw(t=e.getPooled(i,t,n,r)),t}},EnterLeaveEventPlugin:{eventTypes:ro,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o){if(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?nc(t):null)){var s=e5(t);(t!==s||5!==t.tag&&6!==t.tag)&&(t=null)}}else o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var l=ri,u=ro.mouseLeave,c=ro.mouseEnter,d="mouse";else("pointerout"===e||"pointerover"===e)&&(l=ra,u=ro.pointerLeave,c=ro.pointerEnter,d="pointer");if(e=null==o?a:nf(o),a=null==t?a:nf(t),(u=l.getPooled(u,o,n,r)).type=d+"leave",u.target=e,u.relatedTarget=a,(n=l.getPooled(c,t,n,r)).type=d+"enter",n.target=a,n.relatedTarget=e,r=o,d=t,r&&d)e:{for(l=r,c=d,o=0,e=l;e;e=nh(e))o++;for(e=0,t=c;t;t=nh(t))e++;for(;0<o-e;)l=nh(l),o--;for(;0<e-o;)c=nh(c),e--;for(;o--;){if(l===c||l===c.alternate)break e;l=nh(l),c=nh(c)}l=null}else l=null;for(c=l,l=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)l.push(r),r=nh(r);for(r=[];d&&d!==c&&(null===(o=d.alternate)||o!==c);)r.push(d),d=nh(d);for(d=0;d<l.length;d++)ny(l[d],"bubbled",u);for(d=r.length;0<d--;)ny(r[d],"captured",n);return 0===(64&i)?[u]:[u,n]}},ChangeEventPlugin:n5,SelectEventPlugin:{eventTypes:rd,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=e4(i),a=P.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?nf(t):window,e){case"focus":(nV(i)||"true"===i.contentEditable)&&(rf=i,rp=t,rh=null);break;case"blur":rh=rp=rf=null;break;case"mousedown":rg=!0;break;case"contextmenu":case"mouseup":case"dragend":return rg=!1,rm(n,r);case"selectionchange":if(rc)break;case"keydown":case"keyup":return rm(n,r)}return null}},BeforeInputEventPlugin:{eventTypes:nU,extractEvents:function(e,t,n,r){var i;if(nO)t:{switch(e){case"compositionstart":var a=nU.compositionStart;break t;case"compositionend":a=nU.compositionEnd;break t;case"compositionupdate":a=nU.compositionUpdate;break t}a=void 0}else n$?nB(e,n)&&(a=nU.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=nU.compositionStart);return a?(nj&&"ko"!==n.locale&&(n$||a!==nU.compositionStart?a===nU.compositionEnd&&n$&&(i=nE()):(nS="value"in(n_=r)?n_.value:n_.textContent,n$=!0)),a=nR.getPooled(a,t,n,r),i?a.data=i:null!==(i=nz(n))&&(a.data=i),nw(a),i=a):i=null,(e=nL?function(e,t){switch(e){case"compositionend":return nz(t);case"keypress":if(32!==t.which)return null;return nF=!0," ";case"textInput":return" "===(e=t.data)&&nF?null:e;default:return null}}(e,n):function(e,t){if(n$)return"compositionend"===e||!nO&&nB(e,t)?(e=nE(),nx=nS=n_=null,n$=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nj&&"ko"!==t.locale?null:t.data}}(e,n))?((t=nP.getPooled(nU.beforeInput,t,n,r)).data=e,nw(t)):t=null,null===i?t:null===t?i:[i,t]}}});var rA=[],rI=-1;function rM(e){0>rI||(e.current=rA[rI],rA[rI]=null,rI--)}function rR(e,t){rA[++rI]=e.current,e.current=t}var rP={},rD={current:rP},rO={current:!1},rN=rP;function rL(e,t){var n=e.type.contextTypes;if(!n)return rP;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function rj(e){return null!=(e=e.childContextTypes)}function rU(){rM(rO),rM(rD)}function rF(e,t,n){if(rD.current!==rP)throw Error(p(168));rR(rD,t),rR(rO,n)}function rB(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(p(108,ex(t)||"Unknown",i));return d({},n,{},r)}function rz(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rP,rN=rD.current,rR(rD,e),rR(rO,rO.current),!0}function r$(e,t,n){var r=e.stateNode;if(!r)throw Error(p(169));n?(r.__reactInternalMemoizedMergedChildContext=e=rB(e,t,rN),rM(rO),rM(rD),rR(rD,e)):rM(rO),rR(rO,n)}var rH=f.unstable_runWithPriority,rV=f.unstable_scheduleCallback,rq=f.unstable_cancelCallback,rW=f.unstable_requestPaint,rK=f.unstable_now,rG=f.unstable_getCurrentPriorityLevel,rX=f.unstable_ImmediatePriority,rY=f.unstable_UserBlockingPriority,rJ=f.unstable_NormalPriority,rQ=f.unstable_LowPriority,rZ=f.unstable_IdlePriority,r0={},r1=f.unstable_shouldYield,r2=void 0!==rW?rW:function(){},r3=null,r4=null,r5=!1,r6=rK(),r8=1e4>r6?rK:function(){return rK()-r6};function r9(){switch(rG()){case rX:return 99;case rY:return 98;case rJ:return 97;case rQ:return 96;case rZ:return 95;default:throw Error(p(332))}}function r7(e){switch(e){case 99:return rX;case 98:return rY;case 97:return rJ;case 96:return rQ;case 95:return rZ;default:throw Error(p(332))}}function ie(e,t){return rH(e=r7(e),t)}function it(e){return null===r3?(r3=[e],r4=rV(rX,ii)):r3.push(e),r0}function ir(){if(null!==r4){var e=r4;r4=null,rq(e)}ii()}function ii(){if(!r5&&null!==r3){r5=!0;var e=0;try{var t=r3;ie(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(null!==n)}}),r3=null}catch(t){throw null!==r3&&(r3=r3.slice(e+1)),rV(rX,ir),t}finally{r5=!1}}}function ia(e,t,n){return 0x3ffffffd-(((0x3ffffffd-e+t/10)/(n/=10)|0)+1)*n}function io(e,t){if(e&&e.defaultProps)for(var n in t=d({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var is={current:null},il=null,iu=null,ic=null;function id(){ic=iu=il=null}function ip(e){var t=is.current;rM(is),e.type._context._currentValue=t}function ih(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else if(null!==n&&n.childExpirationTime<t)n.childExpirationTime=t;else break;e=e.return}}function ig(e,t){il=e,ic=iu=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(aP=!0),e.firstContext=null)}function im(e,t){if(ic!==e&&!1!==t&&0!==t)if(("number"!=typeof t||0x3fffffff===t)&&(ic=e,t=0x3fffffff),t={context:e,observedBits:t,next:null},null===iu){if(null===il)throw Error(p(308));iu=t,il.dependencies={expirationTime:0,firstContext:t,responders:null}}else iu=iu.next=t;return e._currentValue}var iv=!1;function iy(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ib(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function iw(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function i_(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function iS(e,t){var n=e.alternate;null!==n&&ib(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ix(e,t,n,r){var i=e.updateQueue;iv=!1;var a=i.baseQueue,o=i.shared.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}a=o,i.shared.pending=null,null!==(s=e.alternate)&&null!==(s=s.updateQueue)&&(s.baseQueue=o)}if(null!==a){s=a.next;var l=i.baseState,u=0,c=null,f=null,p=null;if(null!==s)for(var h=s;;){if((o=h.expirationTime)<r){var g={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(f=p=g,c=l):p=p.next=g,o>u&&(u=o)}else{null!==p&&(p=p.next={expirationTime:0x3fffffff,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),oF(o,h.suspenseConfig);e:{var m=e,v=h;switch(o=t,g=n,v.tag){case 1:if("function"==typeof(m=v.payload)){l=m.call(g,l,o);break e}l=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null==(o="function"==typeof(m=v.payload)?m.call(g,l,o):m))break e;l=d({},l,o);break e;case 2:iv=!0}}null!==h.callback&&(e.effectTag|=32,null===(o=i.effects)?i.effects=[h]:o.push(h))}if(null===(h=h.next)||h===s)if(null===(o=i.shared.pending))break;else h=a.next=o.next,o.next=s,i.baseQueue=a=o,i.shared.pending=null}null===p?c=l:p.next=f,i.baseState=c,i.baseQueue=p,oB(u),e.expirationTime=u,e.memoizedState=l}}function iE(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(p(191,r));r.call(i)}}}var iT=er.ReactCurrentBatchConfig,ik=new c.Component().refs;function iC(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var iA={isMounted:function(e){return!!(e=e._reactInternalFiber)&&e5(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ok(),i=iT.suspense;(i=iw(r=oC(r,e,i),i)).payload=t,null!=n&&(i.callback=n),i_(e,i),oA(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ok(),i=iT.suspense;(i=iw(r=oC(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),i_(e,i),oA(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ok(),r=iT.suspense;(r=iw(n=oC(n,e,r),r)).tag=2,null!=t&&(r.callback=t),i_(e,r),oA(e,n)}};function iI(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||!ru(n,r)||!ru(i,a)}function iM(e,t,n){var r=!1,i=rP,a=t.contextType;return"object"==typeof a&&null!==a?a=im(a):(i=rj(t)?rN:rD.current,a=(r=null!=(r=t.contextTypes))?rL(e,i):rP),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=iA,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function iR(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&iA.enqueueReplaceState(t,t.state,null)}function iP(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ik,iy(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=im(a):i.context=rL(e,a=rj(t)?rN:rD.current),ix(e,n,i,r),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(iC(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&iA.enqueueReplaceState(i,i.state,null),ix(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var iD=Array.isArray;function iO(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(p(309));var r=n.stateNode}if(!r)throw Error(p(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ik&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(p(284));if(!n._owner)throw Error(p(290,e))}return e}function iN(e,t){if("textarea"!==e.type)throw Error(p(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function iL(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=o3(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?(t=o6(n,e.mode,r)).return=e:(t=i(t,n)).return=e,t}function l(e,t,n,r){return null!==t&&t.elementType===n.type?(r=i(t,n.props)).ref=iO(e,t,n):(r=o4(n.type,n.key,n.props,null,e.mode,r)).ref=iO(e,t,n),r.return=e,r}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=o8(n,e.mode,r)).return=e:(t=i(t,n.children||[])).return=e,t}function c(e,t,n,r,a){return null===t||7!==t.tag?(t=o5(n,e.mode,r,a)).return=e:(t=i(t,n)).return=e,t}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=o6(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case es:return(n=o4(t.type,t.key,t.props,null,e.mode,n)).ref=iO(e,null,t),n.return=e,n;case el:return(t=o8(t,e.mode,n)).return=e,t}if(iD(t)||eS(t))return(t=o5(t,e.mode,n,null)).return=e,t;iN(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case es:return n.key===i?n.type===eu?c(e,t,n.props.children,r,i):l(e,t,n,r):null;case el:return n.key===i?u(e,t,n,r):null}if(iD(n)||eS(n))return null!==i?null:c(e,t,n,r,null);iN(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case es:return e=e.get(null===r.key?n:r.key)||null,r.type===eu?c(t,e,r.props.children,i,r.key):l(t,e,r,i);case el:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(iD(r)||eS(r))return c(t,e=e.get(n)||null,r,i,null);iN(t,r)}return null}return function(s,l,u,c){var g="object"==typeof u&&null!==u&&u.type===eu&&null===u.key;g&&(u=u.props.children);var m="object"==typeof u&&null!==u;if(m)switch(u.$$typeof){case es:e:{for(m=u.key,g=l;null!==g;){if(g.key===m){if(7===g.tag){if(u.type===eu){n(s,g.sibling),(l=i(g,u.props.children)).return=s,s=l;break e}}else if(g.elementType===u.type){n(s,g.sibling),(l=i(g,u.props)).ref=iO(s,g,u),l.return=s,s=l;break e}n(s,g);break}t(s,g),g=g.sibling}u.type===eu?((l=o5(u.props.children,s.mode,c,u.key)).return=s,s=l):((c=o4(u.type,u.key,u.props,null,s.mode,c)).ref=iO(s,l,u),c.return=s,s=c)}return o(s);case el:e:{for(g=u.key;null!==l;){if(l.key===g)if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){n(s,l.sibling),(l=i(l,u.children||[])).return=s,s=l;break e}else{n(s,l);break}t(s,l),l=l.sibling}(l=o8(u,s.mode,c)).return=s,s=l}return o(s)}if("string"==typeof u||"number"==typeof u)return u=""+u,null!==l&&6===l.tag?(n(s,l.sibling),(l=i(l,u)).return=s):(n(s,l),(l=o6(u,s.mode,c)).return=s),o(s=l);if(iD(u))return function(i,o,s,l){for(var u=null,c=null,p=o,g=o=0,m=null;null!==p&&g<s.length;g++){p.index>g?(m=p,p=null):m=p.sibling;var v=f(i,p,s[g],l);if(null===v){null===p&&(p=m);break}e&&p&&null===v.alternate&&t(i,p),o=a(v,o,g),null===c?u=v:c.sibling=v,c=v,p=m}if(g===s.length)return n(i,p),u;if(null===p){for(;g<s.length;g++)null!==(p=d(i,s[g],l))&&(o=a(p,o,g),null===c?u=p:c.sibling=p,c=p);return u}for(p=r(i,p);g<s.length;g++)null!==(m=h(p,i,g,s[g],l))&&(e&&null!==m.alternate&&p.delete(null===m.key?g:m.key),o=a(m,o,g),null===c?u=m:c.sibling=m,c=m);return e&&p.forEach(function(e){return t(i,e)}),u}(s,l,u,c);if(eS(u))return function(i,o,s,l){var u=eS(s);if("function"!=typeof u)throw Error(p(150));if(null==(s=u.call(s)))throw Error(p(151));for(var c=u=null,g=o,m=o=0,v=null,y=s.next();null!==g&&!y.done;m++,y=s.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,l);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),o=a(b,o,m),null===c?u=b:c.sibling=b,c=b,g=v}if(y.done)return n(i,g),u;if(null===g){for(;!y.done;m++,y=s.next())null!==(y=d(i,y.value,l))&&(o=a(y,o,m),null===c?u=y:c.sibling=y,c=y);return u}for(g=r(i,g);!y.done;m++,y=s.next())null!==(y=h(g,i,m,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),o=a(y,o,m),null===c?u=y:c.sibling=y,c=y);return e&&g.forEach(function(e){return t(i,e)}),u}(s,l,u,c);if(m&&iN(s,u),void 0===u&&!g)switch(s.tag){case 1:case 0:throw Error(p(152,(s=s.type).displayName||s.name||"Component"))}return n(s,l)}}var ij=iL(!0),iU=iL(!1),iF={},iB={current:iF},iz={current:iF},i$={current:iF};function iH(e){if(e===iF)throw Error(p(174));return e}function iV(e,t){switch(rR(i$,t),rR(iz,e),rR(iB,iF),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:e$(null,"");break;default:t=e$(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}rM(iB),rR(iB,t)}function iq(){rM(iB),rM(iz),rM(i$)}function iW(e){iH(i$.current);var t=iH(iB.current),n=e$(t,e.type);t!==n&&(rR(iz,e),rR(iB,n))}function iK(e){iz.current===e&&(rM(iB),rM(iz))}var iG={current:0};function iX(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function iY(e,t){return{responder:e,props:t}}var iJ=er.ReactCurrentDispatcher,iQ=er.ReactCurrentBatchConfig,iZ=0,i0=null,i1=null,i2=null,i3=!1;function i4(){throw Error(p(321))}function i5(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rs(e[n],t[n]))return!1;return!0}function i6(e,t,n,r,i,a){if(iZ=a,i0=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,iJ.current=null===e||null===e.memoizedState?ab:aw,e=n(r,i),t.expirationTime===iZ){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(p(301));a+=1,i2=i1=null,t.updateQueue=null,iJ.current=a_,e=n(r,i)}while(t.expirationTime===iZ)}if(iJ.current=ay,t=null!==i1&&null!==i1.next,iZ=0,i2=i1=i0=null,i3=!1,t)throw Error(p(300));return e}function i8(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===i2?i0.memoizedState=i2=e:i2=i2.next=e,i2}function i9(){if(null===i1){var e=i0.alternate;e=null!==e?e.memoizedState:null}else e=i1.next;var t=null===i2?i0.memoizedState:i2.next;if(null!==t)i2=t,i1=e;else{if(null===e)throw Error(p(310));e={memoizedState:(i1=e).memoizedState,baseState:i1.baseState,baseQueue:i1.baseQueue,queue:i1.queue,next:null},null===i2?i0.memoizedState=i2=e:i2=i2.next=e}return i2}function i7(e,t){return"function"==typeof t?t(e):t}function ae(e){var t=i9(),n=t.queue;if(null===n)throw Error(p(311));n.lastRenderedReducer=e;var r=i1,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=o=a=null,l=i;do{var u=l.expirationTime;if(u<iZ){var c={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(o=s=c,a=r):s=s.next=c,u>i0.expirationTime&&(i0.expirationTime=u,oB(u))}else null!==s&&(s=s.next={expirationTime:0x3fffffff,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),oF(u,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===s?a=r:s.next=o,rs(r,t.memoizedState)||(aP=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function at(e){var t=i9(),n=t.queue;if(null===n)throw Error(p(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);rs(a,t.memoizedState)||(aP=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function an(e){var t=i8();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:i7,lastRenderedState:e}).dispatch=av.bind(null,i0,e),[t.memoizedState,e]}function ar(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=i0.updateQueue)?(t={lastEffect:null},i0.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ai(){return i9().memoizedState}function aa(e,t,n,r){var i=i8();i0.effectTag|=e,i.memoizedState=ar(1|t,n,void 0,void 0===r?null:r)}function ao(e,t,n,r){var i=i9();r=void 0===r?null:r;var a=void 0;if(null!==i1){var o=i1.memoizedState;if(a=o.destroy,null!==r&&i5(r,o.deps))return void ar(t,n,a,r)}i0.effectTag|=e,i.memoizedState=ar(1|t,n,a,r)}function as(e,t){return aa(516,4,e,t)}function al(e,t){return ao(516,4,e,t)}function au(e,t){return ao(4,2,e,t)}function ac(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(t.current=e=e(),function(){t.current=null}):void 0}function ad(e,t,n){return n=null!=n?n.concat([e]):null,ao(4,2,ac.bind(null,t,e),n)}function af(){}function ap(e,t){return i8().memoizedState=[e,void 0===t?null:t],e}function ah(e,t){var n=i9();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&i5(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ag(e,t){var n=i9();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&i5(t,r[1])?r[0]:(n.memoizedState=[e=e(),t],e)}function am(e,t,n){var r=r9();ie(98>r?98:r,function(){e(!0)}),ie(97<r?97:r,function(){var r=iQ.suspense;iQ.suspense=void 0===t?null:t;try{e(!1),n()}finally{iQ.suspense=r}})}function av(e,t,n){var r=ok(),i=iT.suspense;i={expirationTime:r=oC(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===i0||null!==a&&a===i0)i3=!0,i.expirationTime=iZ,i0.expirationTime=iZ;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,rs(s,o))return}catch(e){}finally{}oA(e,r)}}var ay={readContext:im,useCallback:i4,useContext:i4,useEffect:i4,useImperativeHandle:i4,useLayoutEffect:i4,useMemo:i4,useReducer:i4,useRef:i4,useState:i4,useDebugValue:i4,useResponder:i4,useDeferredValue:i4,useTransition:i4},ab={readContext:im,useCallback:ap,useContext:im,useEffect:as,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,aa(4,2,ac.bind(null,t,e),n)},useLayoutEffect:function(e,t){return aa(4,2,e,t)},useMemo:function(e,t){return t=void 0===t?null:t,i8().memoizedState=[e=e(),t],e},useReducer:function(e,t,n){var r=i8();return r.memoizedState=r.baseState=t=void 0!==n?n(t):t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=av.bind(null,i0,e),[r.memoizedState,e]},useRef:function(e){return i8().memoizedState={current:e}},useState:an,useDebugValue:af,useResponder:iY,useDeferredValue:function(e,t){var n=an(e),r=n[0],i=n[1];return as(function(){var n=iQ.suspense;iQ.suspense=void 0===t?null:t;try{i(e)}finally{iQ.suspense=n}},[e,t]),r},useTransition:function(e){var t=an(!1),n=t[0];return t=t[1],[ap(am.bind(null,t,e),[t,e]),n]}},aw={readContext:im,useCallback:ah,useContext:im,useEffect:al,useImperativeHandle:ad,useLayoutEffect:au,useMemo:ag,useReducer:ae,useRef:ai,useState:function(){return ae(i7)},useDebugValue:af,useResponder:iY,useDeferredValue:function(e,t){var n=ae(i7),r=n[0],i=n[1];return al(function(){var n=iQ.suspense;iQ.suspense=void 0===t?null:t;try{i(e)}finally{iQ.suspense=n}},[e,t]),r},useTransition:function(e){var t=ae(i7),n=t[0];return t=t[1],[ah(am.bind(null,t,e),[t,e]),n]}},a_={readContext:im,useCallback:ah,useContext:im,useEffect:al,useImperativeHandle:ad,useLayoutEffect:au,useMemo:ag,useReducer:at,useRef:ai,useState:function(){return at(i7)},useDebugValue:af,useResponder:iY,useDeferredValue:function(e,t){var n=at(i7),r=n[0],i=n[1];return al(function(){var n=iQ.suspense;iQ.suspense=void 0===t?null:t;try{i(e)}finally{iQ.suspense=n}},[e,t]),r},useTransition:function(e){var t=at(i7),n=t[0];return t=t[1],[ah(am.bind(null,t,e),[t,e]),n]}},aS=null,ax=null,aE=!1;function aT(e,t){var n=o1(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ak(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function aC(e){if(aE){var t=ax;if(t){var n=t;if(!ak(e,t)){if(!(t=ni(n.nextSibling))||!ak(e,t)){e.effectTag=-1025&e.effectTag|2,aE=!1,aS=e;return}aT(aS,n)}aS=e,ax=ni(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,aE=!1,aS=e}}function aA(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;aS=e}function aI(e){if(e!==aS)return!1;if(!aE)return aA(e),aE=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!nt(t,e.memoizedProps))for(t=ax;t;)aT(e,t),t=ni(t.nextSibling);if(aA(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(p(317));e:{for(t=0,e=e.nextSibling;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ax=ni(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ax=null}}else ax=aS?ni(e.stateNode.nextSibling):null;return!0}function aM(){ax=aS=null,aE=!1}var aR=er.ReactCurrentOwner,aP=!1;function aD(e,t,n,r){t.child=null===e?iU(t,null,n,r):ij(t,e.child,n,r)}function aO(e,t,n,r,i){n=n.render;var a=t.ref;return(ig(t,i),r=i6(e,t,n,r,a,i),null===e||aP)?(t.effectTag|=1,aD(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),aK(e,t,i))}function aN(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!=typeof o||o2(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=o4(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,aL(e,t,o,r,i,a))}return(o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:ru)(i,r)&&e.ref===t.ref))?aK(e,t,a):(t.effectTag|=1,(e=o3(o,r)).ref=t.ref,e.return=t,t.child=e)}function aL(e,t,n,r,i,a){return null!==e&&ru(e.memoizedProps,r)&&e.ref===t.ref&&(aP=!1,i<a)?(t.expirationTime=e.expirationTime,aK(e,t,a)):aU(e,t,n,r,a)}function aj(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function aU(e,t,n,r,i){var a=rj(n)?rN:rD.current;return(a=rL(t,a),ig(t,i),n=i6(e,t,n,r,a,i),null===e||aP)?(t.effectTag|=1,aD(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),aK(e,t,i))}function aF(e,t,n,r,i){if(rj(n)){var a=!0;rz(t)}else a=!1;if(ig(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),iM(t,n,r),iP(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?im(u):rL(t,u=rj(n)?rN:rD.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&iR(t,o,r,u),iv=!1;var f=t.memoizedState;o.state=f,ix(t,r,o,i),l=t.memoizedState,s!==r||f!==l||rO.current||iv?("function"==typeof c&&(iC(t,n,c,r),l=t.memoizedState),(s=iv||iI(t,n,s,r,f,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,ib(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:io(t.type,s),l=o.context,u="object"==typeof(u=n.contextType)&&null!==u?im(u):rL(t,u=rj(n)?rN:rD.current),(d="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&iR(t,o,r,u),iv=!1,l=t.memoizedState,o.state=l,ix(t,r,o,i),f=t.memoizedState,s!==r||l!==f||rO.current||iv?("function"==typeof c&&(iC(t,n,c,r),f=t.memoizedState),(c=iv||iI(t,n,s,r,l,f,u))?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=u,r=c):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return aB(e,t,n,r,a,i)}function aB(e,t,n,r,i,a){aj(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&r$(t,n,!1),aK(e,t,a);r=t.stateNode,aR.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=ij(t,e.child,null,a),t.child=ij(t,null,s,a)):aD(e,t,s,a),t.memoizedState=r.state,i&&r$(t,n,!0),t.child}function az(e){var t=e.stateNode;t.pendingContext?rF(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rF(e,t.context,!1),iV(e,t.containerInfo)}var a$={dehydrated:null,retryTime:0};function aH(e,t,n){var r,i=t.mode,a=t.pendingProps,o=iG.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),rR(iG,1&o),null===e){if(void 0!==a.fallback&&aC(t),s){if(s=a.fallback,(a=o5(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=o5(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=a$,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=iU(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(n=o3(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=o3(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=a$,t.child=n,i}return n=ij(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=o5(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=o5(s,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=a$,t.child=a,n}return t.memoizedState=null,t.child=ij(t,e,a.children,n)}function aV(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ih(e.return,t)}function aq(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function aW(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(aD(e,t,r.children,n),0!==(2&(r=iG.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&aV(e,n);else if(19===e.tag)aV(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rR(iG,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===iX(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),aq(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===iX(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}aq(t,!0,n,null,a,t.lastEffect);break;case"together":aq(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function aK(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&oB(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(p(153));if(null!==t.child){for(n=o3(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=o3(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aG(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function aX(e,t){return{value:e,source:t,stack:eE(t)}}a=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},o=function(){},s=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var o,s,l=t.stateNode;switch(iH(iB.current),e=null,n){case"input":a=eI(l,a),r=eI(l,r),e=[];break;case"option":a=eN(l,a),r=eN(l,r),e=[];break;case"select":a=d({},a,{value:void 0}),r=d({},r,{value:void 0}),e=[];break;case"textarea":a=ej(l,a),r=ej(l,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(l.onclick=t2)}for(o in tQ(n,r),n=null,a)if(!r.hasOwnProperty(o)&&a.hasOwnProperty(o)&&null!=a[o])if("style"===o)for(s in l=a[o])l.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(R.hasOwnProperty(o)?e||(e=[]):(e=e||[]).push(o,null));for(o in r){var u=r[o];if(l=null!=a?a[o]:void 0,r.hasOwnProperty(o)&&u!==l&&(null!=u||null!=l))if("style"===o)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(e||(e=[]),e.push(o,n)),n=u;else"dangerouslySetInnerHTML"===o?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(o,u)):"children"===o?l===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(o,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(R.hasOwnProperty(o)?(null!=u&&t1(i,o),e||l===u||(e=[])):(e=e||[]).push(o,u))}n&&(e=e||[]).push("style",n),(t.updateQueue=i=e)&&(t.effectTag|=4)}},l=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var aY="function"==typeof WeakSet?WeakSet:Set;function aJ(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=eE(n)),null!==n&&ex(n.type),t=t.value,null!==e&&1===e.tag&&ex(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function aQ(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){oX(e,t)}else t.current=null}function aZ(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function a0(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function a1(e,t,n){switch("function"==typeof oZ&&oZ(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;ie(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n)try{n()}catch(e){oX(t,e)}e=e.next}while(e!==r)})}break;case 1:aQ(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){oX(e,t)}}(t,n);break;case 5:aQ(t);break;case 4:a4(e,t,n)}}function a2(e){return 5===e.tag||3===e.tag||4===e.tag}function a3(e){e:{for(var t=e.return;null!==t;){if(a2(t)){var n=t;break e}t=t.return}throw Error(p(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(p(161))}16&n.effectTag&&(eW(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||a2(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag||null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=t2));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function a4(e,t,n){for(var r,i,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(p(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var s=e,l=a,u=l;;)if(a1(s,u,n),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}i?(s=r,l=a.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(a1(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function a5(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:aZ(3,t);return;case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[nl]=r,"input"===e&&"radio"===r.type&&null!=r.name&&eR(n,r),tZ(e,i),t=tZ(e,r),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];"style"===o?tY(n,s):"dangerouslySetInnerHTML"===o?eq(n,s):"children"===o?eW(n,s):ei(n,o,s,t)}switch(e){case"input":eP(n,r);break;case"textarea":eF(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?eL(n,!!r.multiple,e,!1):!!r.multiple!==t&&(null!=r.defaultValue?eL(n,!!r.multiple,r.defaultValue,!0):eL(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(p(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,tR(t.containerInfo));return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,oh=r8()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,a.style.display=tX("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a6(t);return;case 19:a6(t);return}throw Error(p(163))}function a6(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new aY),t.forEach(function(t){var r=oJ.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var a8="function"==typeof WeakMap?WeakMap:Map;function a9(e,t,n){(n=iw(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){om||(om=!0,ov=r),aJ(e,t)},n}function a7(e,t,n){(n=iw(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return aJ(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===oy?oy=new Set([this]):oy.add(this),aJ(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var oe=Math.ceil,ot=er.ReactCurrentDispatcher,on=er.ReactCurrentOwner,or=0,oi=null,oa=null,oo=0,os=0,ol=null,ou=0x3fffffff,oc=0x3fffffff,od=null,of=0,op=!1,oh=0,og=null,om=!1,ov=null,oy=null,ob=!1,ow=null,o_=90,oS=null,ox=0,oE=null,oT=0;function ok(){return(48&or)!==0?0x3ffffffd-(r8()/10|0):0!==oT?oT:oT=0x3ffffffd-(r8()/10|0)}function oC(e,t,n){if(0===(2&(t=t.mode)))return 0x3fffffff;var r=r9();if(0===(4&t))return 99===r?0x3fffffff:0x3ffffffe;if((16&or)!==0)return oo;if(null!==n)e=ia(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=0x3fffffff;break;case 98:e=ia(e,150,100);break;case 97:case 96:e=ia(e,5e3,250);break;case 95:e=2;break;default:throw Error(p(326))}return null!==oi&&e===oo&&--e,e}function oA(e,t){if(50<ox)throw ox=0,oE=null,Error(p(185));if(null!==(e=oI(e,t))){var n=r9();0x3fffffff===t?(8&or)!==0&&(48&or)===0?oD(e):(oR(e),0===or&&ir()):oR(e),(4&or)===0||98!==n&&99!==n||(null===oS?oS=new Map([[e,t]]):(void 0===(n=oS.get(e))||n>t)&&oS.set(e,t))}}function oI(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(oi===i&&(oB(t),4===os&&se(i,oo)),st(i,t)),i}function oM(e){var t=e.lastExpiredTime;if(0!==t||(t=e.firstPendingTime,!o7(e,t)))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function oR(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=0x3fffffff,e.callbackPriority=99,e.callbackNode=it(oD.bind(null,e));else{var t=oM(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r,i,a,o=ok();if(o=0x3fffffff===t?99:1===t||2===t?95:0>=(o=10*(0x3ffffffd-t)-10*(0x3ffffffd-o))?99:250>=o?98:5250>=o?97:95,null!==n){var s=e.callbackPriority;if(e.callbackExpirationTime===t&&s>=o)return;n!==r0&&rq(n)}e.callbackExpirationTime=t,e.callbackPriority=o,t=0x3fffffff===t?it(oD.bind(null,e)):(r=o,i=oP.bind(null,e),a={timeout:10*(0x3ffffffd-t)-r8()},rV(r=r7(r),i,a)),e.callbackNode=t}}}function oP(e,t){if(oT=0,t)return sn(e,t=ok()),oR(e),null;var n=oM(e);if(0!==n){if(t=e.callbackNode,(48&or)!==0)throw Error(p(327));if(oW(),e===oi&&n===oo||oL(e,n),null!==oa){var r=or;or|=16;for(var i=oU();;)try{for(;null!==oa&&!r1();)oa=oz(oa);break}catch(t){oj(e,t)}if(id(),or=r,ot.current=i,1===os)throw t=ol,oL(e,n),se(e,n),oR(e),t;if(null===oa)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,oi=null,r=os){case 0:case 1:throw Error(p(345));case 2:sn(e,2<n?2:n);break;case 3:if(se(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=oH(i)),0x3fffffff===ou&&10<(i=oh+500-r8())){if(op){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,oL(e,n);break}}if(0!==(a=oM(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=nn(oV.bind(null,e),i);break}oV(e);break;case 4:if(se(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=oH(i)),op&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,oL(e,n);break}if(0!==(i=oM(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(0x3fffffff!==oc?r=10*(0x3ffffffd-oc)-r8():0x3fffffff===ou?r=0:(r=10*(0x3ffffffd-ou)-5e3,n=10*(0x3ffffffd-n)-(i=r8()),0>(r=i-r)&&(r=0),n<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oe(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=nn(oV.bind(null,e),r);break}oV(e);break;case 5:if(0x3fffffff!==ou&&null!==od){a=ou;var o=od;if(0>=(r=0|o.busyMinDurationMs)?r=0:(i=0|o.busyDelayMs,r=(a=r8()-(10*(0x3ffffffd-a)-(0|o.timeoutMs||5e3)))<=i?0:i+r-a),10<r){se(e,n),e.timeoutHandle=nn(oV.bind(null,e),r);break}}oV(e);break;default:throw Error(p(329))}if(oR(e),e.callbackNode===t)return oP.bind(null,e)}}return null}function oD(e){var t=e.lastExpiredTime;if(t=0!==t?t:0x3fffffff,(48&or)!==0)throw Error(p(327));if(oW(),e===oi&&t===oo||oL(e,t),null!==oa){var n=or;or|=16;for(var r=oU();;)try{for(;null!==oa;)oa=oz(oa);break}catch(t){oj(e,t)}if(id(),or=n,ot.current=r,1===os)throw n=ol,oL(e,t),se(e,t),oR(e),n;if(null!==oa)throw Error(p(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,oi=null,oV(e),oR(e)}return null}function oO(e,t){var n=or;or|=1;try{return e(t)}finally{0===(or=n)&&ir()}}function oN(e,t){var n=or;or&=-2,or|=8;try{return e(t)}finally{0===(or=n)&&ir()}}function oL(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,nr(n)),null!==oa)for(n=oa.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&rU();break;case 3:iq(),rM(rO),rM(rD);break;case 5:iK(r);break;case 4:iq();break;case 13:case 19:rM(iG);break;case 10:ip(r)}n=n.return}oi=e,oa=o3(e.current,null),oo=t,os=0,ol=null,oc=ou=0x3fffffff,od=null,of=0,op=!1}function oj(e,t){for(;;){try{if(id(),iJ.current=ay,i3)for(var n=i0.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(iZ=0,i2=i1=i0=null,i3=!1,null===oa||null===oa.return)return os=1,ol=t,oa=null;e:{var i=oa.return,a=oa,o=t;if(t=oo,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var s,l=o;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!==(1&iG.current),d=i;do{if(s=13===d.tag){var f=d.memoizedState;if(null!==f)s=null!==f.dehydrated;else{var p=d.memoizedProps;s=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(s){var h=d.updateQueue;if(null===h){var g=new Set;g.add(l),d.updateQueue=g}else h.add(l);if(0===(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var m=iw(0x3fffffff,null);m.tag=2,i_(a,m)}a.expirationTime=0x3fffffff;break e}o=void 0,a=t;var v=e.pingCache;if(null===v?(v=e.pingCache=new a8,o=new Set,v.set(l,o)):(o=v.get(l),void 0===o&&(o=new Set,v.set(l,o))),!o.has(a)){o.add(a);var y=oY.bind(null,e,l,a);l.then(y,y)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);o=Error((ex(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+eE(a))}5!==os&&(os=2),o=aX(o,a),d=i;do{switch(d.tag){case 3:l=o,d.effectTag|=4096,d.expirationTime=t;var b=a9(d,l,t);iS(d,b);break e;case 1:l=o;var w=d.type,_=d.stateNode;if(0===(64&d.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===oy||!oy.has(_)))){d.effectTag|=4096,d.expirationTime=t;var S=a7(d,l,t);iS(d,S);break e}}d=d.return}while(null!==d)}oa=o$(oa)}catch(e){t=e;continue}break}}function oU(){var e=ot.current;return ot.current=ay,null===e?ay:e}function oF(e,t){e<ou&&2<e&&(ou=e),null!==t&&e<oc&&2<e&&(oc=e,od=t)}function oB(e){e>of&&(of=e)}function oz(e){var t=u(e.alternate,e,oo);return e.memoizedProps=e.pendingProps,null===t&&(t=o$(e)),on.current=null,t}function o$(e){oa=e;do{var t=oa.alternate;if(e=oa.return,0===(2048&oa.effectTag)){if(t=function(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return rj(t.type)&&rU(),null;case 3:return iq(),rM(rO),rM(rD),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===e||null===e.child)&&aI(t)&&(t.effectTag|=4),o(t),null;case 5:iK(t),n=iH(i$.current);var i=t.type;if(null!==e&&null!=t.stateNode)s(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(p(166));return null}if(e=iH(iB.current),aI(t)){r=t.stateNode,i=t.type;var u=t.memoizedProps;switch(r[ns]=t,r[nl]=u,i){case"iframe":case"object":case"embed":tz("load",r);break;case"video":case"audio":for(e=0;e<e2.length;e++)tz(e2[e],r);break;case"source":tz("error",r);break;case"img":case"image":case"link":tz("error",r),tz("load",r);break;case"form":tz("reset",r),tz("submit",r);break;case"details":tz("toggle",r);break;case"input":eM(r,u),tz("invalid",r),t1(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},tz("invalid",r),t1(n,"onChange");break;case"textarea":eU(r,u),tz("invalid",r),t1(n,"onChange")}for(var c in tQ(i,u),e=null,u)if(u.hasOwnProperty(c)){var f=u[c];"children"===c?"string"==typeof f?r.textContent!==f&&(e=["children",f]):"number"==typeof f&&r.textContent!==""+f&&(e=["children",""+f]):R.hasOwnProperty(c)&&null!=f&&t1(n,c)}switch(i){case"input":eC(r),eD(r,u,!0);break;case"textarea":eC(r),eB(r);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(r.onclick=t2)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(c=9===n.nodeType?n:n.ownerDocument,e===t0&&(e=ez(i)),e===t0?"script"===i?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(i,{is:r.is}):(e=c.createElement(i),"select"===i&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,i),e[ns]=t,e[nl]=r,a(e,t,!1,!1),t.stateNode=e,c=tZ(i,r),i){case"iframe":case"object":case"embed":tz("load",e),f=r;break;case"video":case"audio":for(f=0;f<e2.length;f++)tz(e2[f],e);f=r;break;case"source":tz("error",e),f=r;break;case"img":case"image":case"link":tz("error",e),tz("load",e),f=r;break;case"form":tz("reset",e),tz("submit",e),f=r;break;case"details":tz("toggle",e),f=r;break;case"input":eM(e,r),f=eI(e,r),tz("invalid",e),t1(n,"onChange");break;case"option":f=eN(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},f=d({},r,{value:void 0}),tz("invalid",e),t1(n,"onChange");break;case"textarea":eU(e,r),f=ej(e,r),tz("invalid",e),t1(n,"onChange");break;default:f=r}tQ(i,f);var h=f;for(u in h)if(h.hasOwnProperty(u)){var g=h[u];"style"===u?tY(e,g):"dangerouslySetInnerHTML"===u?null!=(g=g?g.__html:void 0)&&eq(e,g):"children"===u?"string"==typeof g?("textarea"!==i||""!==g)&&eW(e,g):"number"==typeof g&&eW(e,""+g):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(R.hasOwnProperty(u)?null!=g&&t1(n,u):null!=g&&ei(e,u,g,c))}switch(i){case"input":eC(e),eD(e,r,!1);break;case"textarea":eC(e),eB(e);break;case"option":null!=r.value&&e.setAttribute("value",""+eT(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?eL(e,!!r.multiple,n,!1):null!=r.defaultValue&&eL(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof f.onClick&&(e.onclick=t2)}ne(i,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)l(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(p(166));n=iH(i$.current),iH(iB.current),aI(t)?(n=t.stateNode,r=t.memoizedProps,n[ns]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ns]=t,t.stateNode=n)}return null;case 13:if(rM(iG),r=t.memoizedState,0!==(64&t.effectTag))return t.expirationTime=n,t;return n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&aI(t):(r=null!==(i=e.memoizedState),n||null===i||null!==(i=e.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=i,i.nextEffect=u):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&iG.current)?0===os&&(os=3):((0===os||3===os)&&(os=4),0!==of&&null!==oi&&(se(oi,oo),st(oi,of)))),(n||r)&&(t.effectTag|=4),null;case 4:return iq(),o(t),null;case 10:return ip(t),null;case 19:if(rM(iG),null===(r=t.memoizedState))return null;if(i=0!==(64&t.effectTag),null===(u=r.rendering)){if(i)aG(r,!1);else if(0!==os||null!==e&&0!==(64&e.effectTag))for(u=t.child;null!==u;){if(null!==(e=iX(u))){for(t.effectTag|=64,aG(r,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)i=r,u=n,i.effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=u,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,u=e.dependencies,i.dependencies=null===u?null:{expirationTime:u.expirationTime,firstContext:u.firstContext,responders:u.responders}),r=r.sibling;return rR(iG,1&iG.current|2),t.child}u=u.sibling}}else{if(!i)if(null!==(e=iX(u))){if(t.effectTag|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),aG(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*r8()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,aG(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=r8()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=r8(),n.sibling=null,t=iG.current,rR(iG,i?1&t|2:1&t),n):null}throw Error(p(156,t.tag))}(t,oa,oo),1===oo||1!==oa.childExpirationTime){for(var n=0,r=oa.child;null!==r;){var i=r.expirationTime,u=r.childExpirationTime;i>n&&(n=i),u>n&&(n=u),r=r.sibling}oa.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=oa.firstEffect),null!==oa.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=oa.firstEffect),e.lastEffect=oa.lastEffect),1<oa.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=oa:e.firstEffect=oa,e.lastEffect=oa))}else{if(null!==(t=function(e){switch(e.tag){case 1:rj(e.type)&&rU();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(iq(),rM(rO),rM(rD),0!==(64&(t=e.effectTag)))throw Error(p(285));return e.effectTag=-4097&t|64,e;case 5:return iK(e),null;case 13:return rM(iG),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return rM(iG),null;case 4:return iq(),null;case 10:return ip(e),null;default:return null}}(oa)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=oa.sibling))return t;oa=e}while(null!==oa);return 0===os&&(os=5),null}function oH(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function oV(e){return ie(99,oq.bind(null,e,r9())),null}function oq(e,t){do oW();while(null!==ow);if((48&or)!==0)throw Error(p(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(p(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=oH(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===oi&&(oa=oi=null,oo=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=or;or|=32,on.current=null,t9=tB;var o=t6();if(t8(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{var l=(s=(s=o.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(l&&0!==l.rangeCount){s=l.anchorNode;var u,c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch(e){s=null;break e}var f=0,h=-1,g=-1,m=0,v=0,y=o,b=null;t:for(;;){for(;y!==s||0!==c&&3!==y.nodeType||(h=f+c),y!==d||0!==l&&3!==y.nodeType||(g=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(u=y.firstChild);)b=y,y=u;for(;;){if(y===o)break t;if(b===s&&++m===c&&(h=f),b===d&&++v===l&&(g=f),null!==(u=y.nextSibling))break;b=(y=b).parentNode}y=u}s=-1===h||-1===g?null:{start:h,end:g}}else s=null}s=s||{start:0,end:0}}else s=null;t7={activeElementDetached:null,focusedElem:o,selectionRange:s},tB=!1,og=i;do try{for(;null!==og;){var w,_,S=og.effectTag;0!==(256&S)&&function(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:io(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(p(163))}(og.alternate,og),0===(512&S)||ob||(ob=!0,w=97,_=function(){return oW(),null},rV(w=r7(w),_,void 0)),og=og.nextEffect}}catch(e){if(null===og)throw Error(p(330));oX(og,e),og=og.nextEffect}while(null!==og);og=i;do try{for(o=e,s=t;null!==og;){var x=og.effectTag;if(16&x&&eW(og.stateNode,""),128&x){var E=og.alternate;if(null!==E){var T=E.ref;null!==T&&("function"==typeof T?T(null):T.current=null)}}switch(1038&x){case 2:a3(og),og.effectTag&=-3;break;case 6:a3(og),og.effectTag&=-3,a5(og.alternate,og);break;case 1024:og.effectTag&=-1025;break;case 1028:og.effectTag&=-1025,a5(og.alternate,og);break;case 4:a5(og.alternate,og);break;case 8:c=og,a4(o,c,s),function e(t){var n=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==n&&e(n)}(c)}og=og.nextEffect}}catch(e){if(null===og)throw Error(p(330));oX(og,e),og=og.nextEffect}while(null!==og);if(T=t7,E=t6(),x=T.focusedElem,s=T.selectionRange,E!==x&&x&&x.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(x.ownerDocument.documentElement,x)){for(null!==s&&t8(x)&&(E=s.start,void 0===(T=s.end)&&(T=E),("selectionStart"in x)?(x.selectionStart=E,x.selectionEnd=Math.min(T,x.value.length)):(T=(E=x.ownerDocument||document)&&E.defaultView||window).getSelection&&(T=T.getSelection(),c=x.textContent.length,o=Math.min(s.start,c),s=void 0===s.end?o:Math.min(s.end,c),!T.extend&&o>s&&(c=s,s=o,o=c),c=t5(x,o),d=t5(x,s),c&&d&&(1!==T.rangeCount||T.anchorNode!==c.node||T.anchorOffset!==c.offset||T.focusNode!==d.node||T.focusOffset!==d.offset)&&((E=E.createRange()).setStart(c.node,c.offset),T.removeAllRanges(),o>s?(T.addRange(E),T.extend(d.node,d.offset)):(E.setEnd(d.node,d.offset),T.addRange(E))))),E=[],T=x;T=T.parentNode;)1===T.nodeType&&E.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"==typeof x.focus&&x.focus(),x=0;x<E.length;x++)(T=E[x]).element.scrollLeft=T.left,T.element.scrollTop=T.top}tB=!!t9,t7=t9=null,e.current=n,og=i;do try{for(x=e;null!==og;){var k=og.effectTag;if(36&k&&function(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:a0(3,n);return;case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:io(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}null!==(t=n.updateQueue)&&iE(n,t,e);return;case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}iE(n,t,e)}return;case 5:e=n.stateNode,null===t&&4&n.effectTag&&ne(n.type,n.memoizedProps)&&e.focus();return;case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:null===n.memoizedState&&null!==(n=n.alternate)&&null!==(n=n.memoizedState)&&null!==(n=n.dehydrated)&&tR(n);return}throw Error(p(163))}(x,og.alternate,og),128&k){E=void 0;var C=og.ref;if(null!==C){var A=og.stateNode;og.tag,E=A,"function"==typeof C?C(E):C.current=E}}og=og.nextEffect}}catch(e){if(null===og)throw Error(p(330));oX(og,e),og=og.nextEffect}while(null!==og);og=null,r2(),or=a}else e.current=n;if(ob)ob=!1,ow=e,o_=t;else for(og=i;null!==og;)t=og.nextEffect,og.nextEffect=null,og=t;if(0===(t=e.firstPendingTime)&&(oy=null),0x3fffffff===t?e===oE?ox++:(ox=0,oE=e):ox=0,"function"==typeof oQ&&oQ(n.stateNode,r),oR(e),om)throw om=!1,e=ov,ov=null,e;return(8&or)!==0||ir(),null}function oW(){if(90!==o_){var e=97<o_?97:o_;return o_=90,ie(e,oK)}}function oK(){if(null===ow)return!1;var e=ow;if(ow=null,(48&or)!==0)throw Error(p(331));var t=or;for(or|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:aZ(5,n),a0(5,n)}}catch(t){if(null===e)throw Error(p(330));oX(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return or=t,ir(),!0}function oG(e,t,n){t=a9(e,t=aX(n,t),0x3fffffff),i_(e,t),null!==(e=oI(e,0x3fffffff))&&oR(e)}function oX(e,t){if(3===e.tag)oG(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){oG(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===oy||!oy.has(r))){e=a7(n,e=aX(t,e),0x3fffffff),i_(n,e),null!==(n=oI(n,0x3fffffff))&&oR(n);break}}n=n.return}}function oY(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),oi===e&&oo===n?4===os||3===os&&0x3fffffff===ou&&r8()-oh<500?oL(e,oo):op=!0:o7(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,oR(e)))}function oJ(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=oC(t=ok(),e,null)),null!==(e=oI(e,t))&&oR(e)}u=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||rO.current)aP=!0;else{if(r<n){switch(aP=!1,t.tag){case 3:az(t),aM();break;case 5:if(iW(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:rj(t.type)&&rz(t);break;case 4:iV(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,rR(is,(i=t.type._context)._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState){if(0!==(r=t.child.childExpirationTime)&&r>=n)return aH(e,t,n);return rR(iG,1&iG.current),null!==(t=aK(e,t,n))?t.sibling:null}rR(iG,1&iG.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return aW(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),rR(iG,iG.current),!r)return null}return aK(e,t,n)}aP=!1}}else aP=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=rL(t,rD.current),ig(t,n),i=i6(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,rj(r)){var a=!0;rz(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,iy(t);var o=r.getDerivedStateFromProps;"function"==typeof o&&iC(t,r,o,e),i.updater=iA,t.stateNode=i,i._reactInternalFiber=t,iP(t,r,e,n),t=aB(null,t,r,!0,a,n)}else t.tag=0,aD(null,t,i,n),t=t.child;return t;case 16:e:{i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var s=i;if(-1===s._status){s._status=0;var l=s._ctor;s._result=l=l(),l.then(function(e){0===s._status&&(e=e.default,s._status=1,s._result=e)},function(e){0===s._status&&(s._status=2,s._result=e)})}if(1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"==typeof e)return+!!o2(e);if(null!=e){if((e=e.$$typeof)===eg)return 11;if(e===ey)return 14}return 2}(i),e=io(i,e),a){case 0:t=aU(null,t,i,e,n);break e;case 1:t=aF(null,t,i,e,n);break e;case 11:t=aO(null,t,i,e,n);break e;case 14:t=aN(null,t,i,io(i.type,e),r,n);break e}throw Error(p(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:io(r,i),aU(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:io(r,i),aF(e,t,r,i,n);case 3:if(az(t),r=t.updateQueue,null===e||null===r)throw Error(p(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ib(e,t),ix(t,r,null,n),(r=t.memoizedState.element)===i)aM(),t=aK(e,t,n);else{if((i=t.stateNode.hydrate)&&(ax=ni(t.stateNode.containerInfo.firstChild),aS=t,i=aE=!0),i)for(n=iU(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else aD(e,t,r,n),aM();t=t.child}return t;case 5:return iW(t),null===e&&aC(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,nt(r,i)?o=null:null!==a&&nt(r,a)&&(t.effectTag|=16),aj(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(aD(e,t,o,n),t=t.child),t;case 6:return null===e&&aC(t),null;case 13:return aH(e,t,n);case 4:return iV(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ij(t,null,r,n):aD(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:io(r,i),aO(e,t,r,i,n);case 7:return aD(e,t,t.pendingProps,n),t.child;case 8:case 12:return aD(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value;var u=t.type._context;if(rR(is,u._currentValue),u._currentValue=a,null!==o)if(0===(a=rs(u=o.value,a)?0:("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,a):0x3fffffff)|0)){if(o.children===i.children&&!rO.current){t=aK(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){o=u.child;for(var d=c.firstContext;null!==d;){if(d.context===r&&0!==(d.observedBits&a)){1===u.tag&&((d=iw(n,null)).tag=2,i_(u,d)),u.expirationTime<n&&(u.expirationTime=n),null!==(d=u.alternate)&&d.expirationTime<n&&(d.expirationTime=n),ih(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}d=d.next}}else o=10===u.tag&&u.type===t.type?null:u.child;if(null!==o)o.return=u;else for(o=u;null!==o;){if(o===t){o=null;break}if(null!==(u=o.sibling)){u.return=o.return,o=u;break}o=o.return}u=o}aD(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ig(t,n),r=r(i=im(i,a.unstable_observedBits)),t.effectTag|=1,aD(e,t,r,n),t.child;case 14:return a=io(i=t.type,t.pendingProps),a=io(i.type,a),aN(e,t,i,a,r,n);case 15:return aL(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:io(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,rj(r)?(e=!0,rz(t)):e=!1,ig(t,n),iM(t,r,i),iP(t,r,i,n),aB(null,t,r,!0,e,n);case 19:return aW(e,t,n)}throw Error(p(156,t.tag))};var oQ=null,oZ=null;function o0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function o1(e,t,n,r){return new o0(e,t,n,r)}function o2(e){return!(!(e=e.prototype)||!e.isReactComponent)}function o3(e,t){var n=e.alternate;return null===n?((n=o1(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function o4(e,t,n,r,i,a){var o=2;if(r=e,"function"==typeof e)o2(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case eu:return o5(n.children,i,a,t);case eh:o=8,i|=7;break;case ec:o=8,i|=1;break;case ed:return(e=o1(12,n,t,8|i)).elementType=ed,e.type=ed,e.expirationTime=a,e;case em:return(e=o1(13,n,t,i)).type=em,e.elementType=em,e.expirationTime=a,e;case ev:return(e=o1(19,n,t,i)).elementType=ev,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ef:o=10;break e;case ep:o=9;break e;case eg:o=11;break e;case ey:o=14;break e;case eb:o=16,r=null;break e;case ew:o=22;break e}throw Error(p(130,null==e?e:typeof e,""))}return(t=o1(o,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function o5(e,t,n,r){return(e=o1(7,e,r,t)).expirationTime=n,e}function o6(e,t,n){return(e=o1(6,e,null,t)).expirationTime=n,e}function o8(e,t,n){return(t=o1(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function o9(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function o7(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function se(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function st(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function sn(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function sr(e,t,n,r){var i=t.current,a=ok(),o=iT.suspense;a=oC(a,i,o);e:if(n){n=n._reactInternalFiber;t:{if(e5(n)!==n||1!==n.tag)throw Error(p(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(rj(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(p(171))}if(1===n.tag){var l=n.type;if(rj(l)){n=rB(n,l,s);break e}}n=s}else n=rP;return null===t.context?t.context=n:t.pendingContext=n,(t=iw(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),i_(i,t),oA(i,a),a}function si(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function sa(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function so(e,t){sa(e,t),(e=e.alternate)&&sa(e,t)}function ss(e,t,n){var r,i,a=new o9(e,t,n=null!=n&&!0===n.hydrate),o=o1(3,null,null,2===t?7:3*(1===t));a.current=o,o.stateNode=a,iy(o),e[nu]=a.current,n&&0!==t&&(i=e4(r=9===e.nodeType?e:e.ownerDocument),tS.forEach(function(e){tc(e,r,i)}),tx.forEach(function(e){tc(e,r,i)})),this._internalRoot=a}function sl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function su(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=si(o);s.call(e)}}sr(t,o,e,i)}else{if(o=(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ss(e,0,t?{hydrate:!0}:void 0)}(n,r))._internalRoot,"function"==typeof i){var l=i;i=function(){var e=si(o);l.call(e)}}oN(function(){sr(t,o,e,i)})}return si(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!sl(t))throw Error(p(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:el,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}ss.prototype.render=function(e){sr(e,this._internalRoot,null,null)},ss.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;sr(null,e,null,function(){t[nu]=null})},td=function(e){if(13===e.tag){var t=ia(ok(),150,100);oA(e,t),so(e,t)}},tf=function(e){13===e.tag&&(oA(e,3),so(e,3))},tp=function(e){if(13===e.tag){var t=ok();t=oC(t,e,null),oA(e,t),so(e,t)}},N=function(e,t,n){switch(t){case"input":if(eP(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=np(r);if(!i)throw Error(p(90));eA(r),eP(r,i)}}}break;case"textarea":eF(e,n);break;case"select":null!=(t=n.value)&&eL(e,!!n.multiple,t,!1)}},z=oO,$=function(e,t,n,r,i){var a=or;or|=4;try{return ie(98,e.bind(null,t,n,r,i))}finally{0===(or=a)&&ir()}},H=function(){(49&or)===0&&(function(){if(null!==oS){var e=oS;oS=null,e.forEach(function(e,t){sn(t,e),oR(t)}),ir()}}(),oW())},V=function(e,t){var n=or;or|=2;try{return e(t)}finally{0===(or=n)&&ir()}},i=(r={findFiberByHostInstance:nc,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{var n=t.inject(e);oQ=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(e){}},oZ=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(d({},r,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:er.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=e9(e))?null:e.stateNode},findFiberByHostInstance:function(e){return i?i(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={Events:[nd,nf,np,D,M,nw,function(e){te(e,nb)},F,B,tq,tr,oW,{current:!1}]},t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(p(188));throw Error(p(268,Object.keys(e)))}return null===(e=e9(t))?null:e.stateNode},t.flushSync=function(e,t){if((48&or)!==0)throw Error(p(187));var n=or;or|=1;try{return ie(99,e.bind(null,t))}finally{or=n,ir()}},t.hydrate=function(e,t,n){if(!sl(t))throw Error(p(200));return su(null,e,t,!0,n)},t.render=function(e,t,n){if(!sl(t))throw Error(p(200));return su(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!sl(e))throw Error(p(40));return!!e._reactRootContainer&&(oN(function(){su(null,null,e,!1,function(){e._reactRootContainer=null,e[nu]=null})}),!0)},t.unstable_batchedUpdates=oO,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sl(n))throw Error(p(200));if(null==e||void 0===e._reactInternalFiber)throw Error(p(38));return su(e,t,n,!1,r)},t.version="16.13.1"},4060(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(5492)},764(e,t,n){"use strict";/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(813),i="function"==typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,m="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function _(){}function S(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=w.prototype;var x=S.prototype=new _;x.constructor=S,r(x,w.prototype),x.isPureReactComponent=!0;var E={current:null},T=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:E.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var I=/\/+/g,M=[];function R(e,t,n,r){if(M.length){var i=M.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function D(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;("undefined"===s||"boolean"===s)&&(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case a:case o:l=!0}}if(l)return r(i,t,""===n?"."+O(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+O(s=t[u],u);l+=e(s,c,r,i)}else if("function"==typeof(c=null===t||"object"!=typeof t?null:"function"==typeof(c=m&&t[m]||t["@@iterator"])?c:null))for(t=c.call(t),u=0;!(s=t.next()).done;)c=n+O(s=s.value,u++),l+=e(s,c,r,i);else if("object"===s)throw Error(v(31,"[object Object]"===(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function O(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r,i,o=e.result,s=e.keyPrefix;Array.isArray(e=e.func.call(e.context,t,e.count++))?j(e,o,n,function(e){return e}):null!=e&&(A(e)&&(r=e,i=s+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n,e={$$typeof:a,type:r.type,key:i,ref:r.ref,props:r.props,_owner:r._owner}),o.push(e))}function j(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(I,"$&/")+"/"),D(e,L,t=R(t,a,r,i)),P(t)}var U={current:null};function F(){var e=U.current;if(null===e)throw Error(v(321));return e}t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,N,t=R(null,null,t,n)),P(t)},count:function(e){return D(e,function(){return null},null)},toArray:function(e){var t=[];return j(e,t,null,function(e){return e}),t},only:function(e){if(!A(e))throw Error(v(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=u,t.PureComponent=S,t.StrictMode=l,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r},t.cloneElement=function(e,t,n){if(null==e)throw Error(v(267,e));var i=r({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)T.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return F().useCallback(e,t)},t.useContext=function(e,t){return F().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return F().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return F().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return F().useLayoutEffect(e,t)},t.useMemo=function(e,t){return F().useMemo(e,t)},t.useReducer=function(e,t,n){return F().useReducer(e,t,n)},t.useRef=function(e){return F().useRef(e)},t.useState=function(e){return F().useState(e)},t.version="16.13.1"},8909(e,t,n){"use strict";e.exports=n(764)},1668(e,t){"use strict";if("undefined"==typeof window||"function"!=typeof MessageChannel){var n,r,i,a,o,s=null,l=null,u=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(e){throw setTimeout(u,0),e}},c=Date.now();t.unstable_now=function(){return Date.now()-c},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(u,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},a=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,p=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var m=f.now();t.unstable_now=function(){return f.now()-m}}var v=!1,y=null,b=-1,w=5,_=0;a=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,x=S.port2;S.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();_=e+w;try{y(!0,e)?x.postMessage(null):(v=!1,y=null)}catch(e){throw x.postMessage(null),e}}else v=!1},n=function(e){y=e,v||(v=!0,x.postMessage(null))},r=function(e,n){b=p(function(){e(t.unstable_now())},n)},i=function(){h(b),b=-1}}function E(e,t){var n=e.length;for(e.push(t);;){var r=n-1>>>1,i=e[r];if(void 0!==i&&0<C(i,t))e[r]=t,e[n]=i,n=r;else break}}function T(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>C(o,n))void 0!==l&&0>C(l,o)?(e[r]=l,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else if(void 0!==l&&0>C(l,n))e[r]=l,e[s]=n,r=s;else break}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],I=[],M=1,R=null,P=3,D=!1,O=!1,N=!1;function L(e){for(var t=T(I);null!==t;){if(null===t.callback)k(I);else if(t.startTime<=e)k(I),t.sortIndex=t.expirationTime,E(A,t);else break;t=T(I)}}function j(e){if(N=!1,L(e),!O)if(null!==T(A))O=!0,n(U);else{var t=T(I);null!==t&&r(j,t.startTime-e)}}function U(e,n){O=!1,N&&(N=!1,i()),D=!0;var o=P;try{for(L(n),R=T(A);null!==R&&(!(R.expirationTime>n)||e&&!a());){var s=R.callback;if(null!==s){R.callback=null,P=R.priorityLevel;var l=s(R.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?R.callback=l:R===T(A)&&k(A),L(n)}else k(A);R=T(A)}if(null!==R)var u=!0;else{var c=T(I);null!==c&&r(j,c.startTime-n),u=!1}return u}finally{R=null,P=o,D=!1}}function F(e){switch(e){case 1:return -1;case 2:return 250;case 5:return 0x3fffffff;case 4:return 1e4;default:return 5e3}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||D||(O=!0,n(U))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return T(A)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();if("object"==typeof o&&null!==o){var l=o.delay;l="number"==typeof l&&0<l?s+l:s,o="number"==typeof o.timeout?o.timeout:F(e)}else o=F(e),l=s;return o=l+o,e={id:M++,callback:a,priorityLevel:e,startTime:l,expirationTime:o,sortIndex:-1},l>s?(e.sortIndex=l,E(I,e),null===T(A)&&e===T(I)&&(N?i():N=!0,r(j,l-s))):(e.sortIndex=o,E(A,e),O||D||(O=!0,n(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=T(A);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},2571(e,t,n){"use strict";e.exports=n(1668)},9122(e,t,n){n(3051),n(9404),n(9982),n(7399),n(6970),n(1048),n(2236),n(1650),n(6884),n(8710),n(3617),n(3019),n(8657),n(3380),n(8198),n(7918),n(8900),n(708),n(2657),n(1452),n(6546),n(1749),n(6754),n(6299),n(3643),n(3053),n(1029),n(9155),n(3070),n(3696),n(1845);var r="undefined"!=typeof window?window:n.g,i={};for(var a in(function(e,t,n){function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var i,a,o,s,l,u,c,d,f,p="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},h=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof e&&e,"object"==typeof self&&self,"object"==typeof t&&t];for(var r=0;r<n.length;++r){var i=n[r];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function g(e,t){if(t)e:{var n=h;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&p(n,e,{configurable:!0,writable:!0,value:t})}}function m(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function v(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}function y(e){if(!(e instanceof Array)){e=v(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}g("Symbol",function(e){function t(e,t){this.g=e,p(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(i){if(this instanceof e)throw TypeError("Symbol is not a constructor");return new t(n+(i||"")+"_"+r++,i)}}),g("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var i=h[t[n]];"function"==typeof i&&"function"!=typeof i.prototype[e]&&p(i.prototype,e,{configurable:!0,writable:!0,value:function(){return m(r(this))}})}return e});var b,w,_="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)w=Object.setPrototypeOf;else{e:{var S={};try{S.__proto__={a:!0},i=S.a;break e}catch(e){}i=!1}w=i?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw TypeError(e+" is not extensible");return e}:null}var x=w;function E(e,t){if(e.prototype=_(t.prototype),e.prototype.constructor=e,x)x(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.xh=t.prototype}function T(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.u=this.i=null}function k(e){if(e.o)throw TypeError("Generator is already running");e.o=!0}function C(e,t){e.i={Ee:t,Le:!0},e.g=e.m||e.j}function A(e,t,n){return e.g=n,{value:t}}function I(e){e.g=0}function M(e,t,n){e.m=t,void 0!=n&&(e.j=n)}function R(e){e.m=0,e.j=2}function P(e,t){e.g=t,e.m=0}function D(e){e.m=0;var t=e.i.Ee;return e.i=null,t}function O(e){e.u=[e.i],e.m=0,e.j=0}function N(e,t){var n=e.u.splice(0)[0];(n=e.i=e.i||n)?n.Le?e.g=e.m||e.j:void 0!=n.A&&e.j<n.A?(e.g=n.A,e.i=null):e.g=e.j:e.g=t}function L(e){this.g=new T,this.h=e}function j(e,t,n,r){try{var i=t.call(e.g.l,n);if(!(i instanceof Object))throw TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.o=!1,i;var a=i.value}catch(t){return e.g.l=null,C(e.g,t),U(e)}return e.g.l=null,r.call(e.g,a),U(e)}function U(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.o=!1,{value:t.value,done:!1}}catch(t){e.g.h=void 0,C(e.g,t)}if(e.g.o=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.Le)throw t.Ee;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function F(e){this.next=function(t){return k(e.g),e.g.l?t=j(e,e.g.l.next,t,e.g.s):(e.g.s(t),t=U(e)),t},this.throw=function(t){return k(e.g),e.g.l?t=j(e,e.g.l.throw,t,e.g.s):(C(e.g,t),t=U(e)),t},this.return=function(t){var n,r,i;return n=e,r=t,k(n.g),(i=n.g.l)?j(n,"return"in i?i.return:function(e){return{value:e,done:!0}},r,n.g.return):(n.g.return(r),U(n))},this[Symbol.iterator]=function(){return this}}function B(e){var t=new F(new L(e));function n(e){return t.next(e)}function r(e){return t.throw(e)}return new Promise(function(e,i){!function t(a){a.done?e(a.value):Promise.resolve(a.value).then(n,r).then(t,i)}(t.next())})}function z(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function H(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var a=e[i];if(t.call(n,a,i,e))return{Je:i,v:a}}return{Je:-1,v:void 0}}function V(e,t,n){if(null==e)throw TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}function q(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}T.prototype.s=function(e){this.h=e},T.prototype.return=function(e){this.i={return:e},this.g=this.j},T.prototype.A=function(e){this.g=e},g("Promise",function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i(function(){t.l()})}this.g.push(e)};var i=h.setTimeout;n.prototype.i=function(e){i(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.j(e)}}}this.g=null},n.prototype.j=function(e){this.i(function(){throw e})},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.F),reject:e(this.l)}},t.prototype.F=function(e){if(e===this)this.l(TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{switch(typeof e){case"object":var n=null!=e;break;case"function":n=!0;break;default:n=!1}n?this.D(e):this.m(e)}},t.prototype.D=function(e){var t=void 0;try{t=e.then}catch(e){this.l(e);return}"function"==typeof t?this.J(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.u()},t.prototype.G=function(){var e=this;i(function(){if(e.B()){var t=h.console;void 0!==t&&t.error(e.i)}},1)},t.prototype.B=function(){if(this.o)return!1;var e=h.CustomEvent,t=h.Event,n=h.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=h.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.u=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.H=function(e){var t=this.j();e.Lc(t.resolve,t.reject)},t.prototype.J=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){a(e)}}:t}var i,a,o=new t(function(e,t){i=e,a=t});return this.Lc(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Lc=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var i=v(e),a=i.next();!a.done;a=i.next())r(a.value).Lc(t,n)})},t.all=function(e){var n=v(e),i=n.next();return i.done?r([]):new t(function(e,t){var a=[],o=0;do a.push(void 0),o++,r(i.value).Lc(function(t){return function(n){a[t]=n,0==--o&&e(a)}}(a.length-1),t),i=n.next();while(!i.done)})},t}),g("WeakMap",function(e){function t(e){if(this.g=(s+=Math.random()+1).toString(),e){e=v(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function i(e){$(e,o)||p(e,o,{value:new n})}function a(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&i(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);if(2!=r.get(t)||3!=r.get(n))return!1;return r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n)}catch(e){return!1}}())return e;var o="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var s=0;return t.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(i(e),!$(e,o))throw Error("WeakMap key fail: "+e);return e[o][this.g]=t,this},t.prototype.get=function(e){return r(e)&&$(e,o)?e[o][this.g]:void 0},t.prototype.has=function(e){return r(e)&&$(e,o)&&$(e[o],this.g)},t.prototype.delete=function(e){return!!(r(e)&&$(e,o)&&$(e[o],this.g))&&delete e[o][this.g]},t}),g("Map",function(e){function t(){var e={};return e.Qa=e.next=e.head=e}function n(e,t){var n=e.g;return m(function(){if(n){for(;n.head!=e.g;)n=n.Qa;for(;n.next!=n.head;)return{done:!1,value:t(n=n.next)};n=null}return{done:!0,value:void 0}})}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++o,a.set(t,n)):n="p_"+t;var r=e.h[n];if(r&&$(e.h,n))for(e=0;e<r.length;e++){var i=r[e];if(t!==t&&i.key!==i.key||t===i.key)return{id:n,list:r,index:e,ga:i}}return{id:n,list:r,index:-1,ga:void 0}}function i(e){if(this.h={},this.g=t(),this.size=0,e){e=v(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(v([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();if(i.done||i.value[0]!=t||"s"!=i.value[1])return!1;return!(i=r.next()).done&&4==i.value[0].x&&"t"==i.value[1]&&!!r.next().done}catch(e){return!1}}())return e;var a=new WeakMap;i.prototype.set=function(e,t){var n=r(this,e=0===e?0:e);return n.list||(n.list=this.h[n.id]=[]),n.ga?n.ga.value=t:(n.ga={next:this.g,Qa:this.g.Qa,head:this.g,key:e,value:t},n.list.push(n.ga),this.g.Qa.next=n.ga,this.g.Qa=n.ga,this.size++),this},i.prototype.delete=function(e){return!!(e=r(this,e)).ga&&!!e.list&&(e.list.splice(e.index,1),e.list.length||delete this.h[e.id],e.ga.Qa.next=e.ga.next,e.ga.next.Qa=e.ga.Qa,e.ga.head=null,this.size--,!0)},i.prototype.clear=function(){this.h={},this.g=this.g.Qa=t(),this.size=0},i.prototype.has=function(e){return!!r(this,e).ga},i.prototype.get=function(e){return(e=r(this,e).ga)&&e.value},i.prototype.entries=function(){return n(this,function(e){return[e.key,e.value]})},i.prototype.keys=function(){return n(this,function(e){return e.key})},i.prototype.values=function(){return n(this,function(e){return e.value})},i.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var o=0;return i}),g("Set",function(e){function t(e){if(this.g=new Map,e){e=v(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.g.size}return!function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(v([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();if(i.done||i.value[0]!=t||i.value[1]!=t)return!1;return!(i=r.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done}catch(e){return!1}}()?(t.prototype.add=function(e){return e=0===e?0:e,this.g.set(e,e),this.size=this.g.size,this},t.prototype.delete=function(e){return e=this.g.delete(e),this.size=this.g.size,e},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(e){return this.g.has(e)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.g.forEach(function(r){return e.call(t,r,r,n)})},t):e}),g("Array.prototype.findIndex",function(e){return e||function(e,t){return H(this,e,t).Je}}),g("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}}),g("Array.prototype.includes",function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}}),g("String.prototype.includes",function(e){return e||function(e,t){return -1!==V(this,e,"includes").indexOf(e,t||0)}}),g("Array.prototype.find",function(e){return e||function(e,t){return H(this,e,t).v}}),g("String.prototype.startsWith",function(e){return e||function(e,t){var n=V(this,e,"startsWith"),r=n.length,i=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var a=0;a<i&&t<r;)if(n[t++]!=e[a++])return!1;return a>=i}}),g("Array.prototype.keys",function(e){return e||function(){return q(this,function(e){return e})}});var W="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)$(r,i)&&(e[i]=r[i])}return e};g("Object.assign",function(e){return e||W}),g("Array.from",function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var a=0;!(i=e.next()).done;)r.push(t.call(n,i.value,a++))}else for(i=e.length,a=0;a<i;a++)r.push(t.call(n,e[a],a));return r}}),g("Array.prototype.values",function(e){return e||function(){return q(this,function(e,t){return t})}}),g("Promise.prototype.finally",function(e){return e||function(e){return this.then(function(t){return Promise.resolve(e()).then(function(){return t})},function(t){return Promise.resolve(e()).then(function(){throw t})})}}),g("Array.prototype.entries",function(e){return e||function(){return q(this,function(e,t){return[e,t]})}}),g("String.prototype.repeat",function(e){return e||function(e){var t=V(this,null,"repeat");if(0>e||0x4fffffff<e)throw RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}}),g("Number.isNaN",function(e){return e||function(e){return"number"==typeof e&&isNaN(e)}}),g("Object.values",function(e){return e||function(e){var t,n=[];for(t in e)$(e,t)&&n.push(e[t]);return n}}),g("Math.log2",function(e){return e||function(e){return Math.log(e)/Math.LN2}}),g("Math.trunc",function(e){return e||function(e){if(isNaN(e=Number(e))||1/0===e||-1/0===e||0===e)return e;var t=Math.floor(Math.abs(e));return 0>e?-t:t}}),g("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)$(e,t)&&n.push([t,e[t]]);return n}});var K=this||self;function G(e,t){e=e.split(".");var n,r=K;for((e[0]in r)||void 0===r.execScript||r.execScript("var "+e[0]);e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function X(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}function Y(e){return e.h/(1-Math.pow(e.g,e.i))}function J(){this.h=new X(2),this.j=new X(5),this.g=0,this.i=128e3,this.l=16e3}function Q(){}function Z(){}function ee(){}function et(e){var t=z.apply(1,arguments);ei.has(e)||(ei.add(e),ee.apply(Q,y(t)))}function en(){}function er(){}X.prototype.sample=function(e,t){var n=Math.pow(this.g,e);isNaN(t=t*(1-n)+n*this.h)||(this.h=t,this.i+=e)},J.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},J.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},J.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(Y(this.h),Y(this.j))};var ei=new Set;if(e.console&&e.console.log.bind){var ea={},eo=(ea[1]=console.error.bind(console),ea[2]=console.warn.bind(console),ea[3]=console.info.bind(console),ea[4]=console.log.bind(console),ea[5]=console.debug.bind(console),ea[6]=console.debug.bind(console),ea);ee=eo[2],Z=eo[1]}function es(e){if(el.has(e))return el.get(e);var t=MediaSource.isTypeSupported(e);return el.set(e,t),t}var el=new Map;function eu(e,t){return!!("number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t))||e===t}function ec(e,t){-1<(t=e.indexOf(t))&&e.splice(t,1)}function ed(e,t,n){if(n||(n=eu),e.length!=t.length)return!1;t=t.slice();var r={};e=v(e);for(var i=e.next();!i.done;r={md:r.md},i=e.next()){if(r.md=i.value,-1==(i=t.findIndex(function(e){return function(t){return n(e.md,t)}}(r))))return!1;t[i]=t[t.length-1],t.pop()}return 0==t.length}function ef(e,t,n){if(n||(n=eu),e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function ep(e,t,n){this.startTime=e,this.direction=eb,this.endTime=t,this.payload=n,this.region=new eI,this.position=null,this.positionAlign=eh,this.size=0,this.textAlign=eg,this.writingMode=ew,this.lineInterpretation=e_,this.line=null,this.lineHeight="",this.lineAlign=eS,this.displayAlign=ev,this.fontSize=this.textStrokeWidth=this.textStrokeColor=this.textShadow=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=ek,this.fontStyle=eC,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.cellResolution={columns:32,rows:15}}ep.prototype.clone=function(){var e,t=new ep(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},G("shaka.text.Cue",ep);var eh="auto";ep.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:eh};var eg="center",em={LEFT:"left",RIGHT:"right",CENTER:eg,START:"start",END:"end"};ep.textAlign=em;var ev="after",ey={BEFORE:"before",CENTER:"center",AFTER:ev};ep.displayAlign=ey;var eb="ltr";ep.direction={HORIZONTAL_LEFT_TO_RIGHT:eb,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var ew="horizontal-tb";ep.writingMode={HORIZONTAL_TOP_TO_BOTTOM:ew,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var e_=0;ep.lineInterpretation={LINE_NUMBER:0,PERCENTAGE:1};var eS="start",ex={CENTER:"center",START:eS,END:"end"};ep.lineAlign=ex;var eE={white:"#FFF",lime:"#0F0",cyan:"#0FF",red:"#F00",yellow:"#FF0",magenta:"#F0F",blue:"#00F",black:"#000"};ep.defaultTextColor=eE;var eT={bg_white:"#FFF",bg_lime:"#0F0",bg_cyan:"#0FF",bg_red:"#F00",bg_yellow:"#FF0",bg_magenta:"#F0F",bg_blue:"#00F",bg_black:"#000"};ep.defaultTextBackgroundColor=eT;var ek=400;ep.fontWeight={NORMAL:400,BOLD:700};var eC="normal",eA={NORMAL:eC,ITALIC:"italic",OBLIQUE:"oblique"};function eI(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=eM,this.scroll=eR}ep.fontStyle=eA,ep.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},G("shaka.text.CueRegion",eI);var eM=1;eI.units={PX:0,PERCENTAGE:1,LINES:2};var eR="";function eP(){}function eD(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(eO(e)==eO(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=eL(e);t=eL(t);for(var r=0;r<e.byteLength;r++)if(n[r]!=t[r])return!1;return!0}function eO(e){return e instanceof ArrayBuffer?e:e.buffer}function eN(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function eL(e,t,n){return eU(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint8Array)}function ej(e,t,n){return eU(e,void 0===t?0:t,n=void 0===n?1/0:n,DataView)}function eU(e,t,n,r){var i=(e.byteOffset||0)+e.byteLength;return t=Math.max(0,Math.min((e.byteOffset||0)+t,i)),new r(eO(e),t,Math.min(t+Math.max(n,0),i)-t)}function eF(e,t,n){var r=z.apply(3,arguments);this.severity=e,this.category=t,this.code=n,this.data=r,this.handled=!1}eI.scrollMode={NONE:eR,UP:"up"},G("shaka.util.BufferUtils",eP),eP.toDataView=ej,eP.toUint8=eL,eP.toArrayBuffer=eN,eP.equal=eD,eF.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},G("shaka.util.Error",eF),eF.Severity={RECOVERABLE:1,CRITICAL:2},eF.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},eF.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_SRC_EQUALS:2016,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,HLS_AES_128_INVALID_IV_LENGTH:4043,HLS_AES_128_INVALID_KEY_LENGTH:4044,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004};var eB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");/*
                                                                                                                                       @license
                                                                                                                                       Copyright 2006 The Closure Library Authors
                                                                                                                                       SPDX-License-Identifier: Apache-2.0
                                                                                                                                       */function ez(e){var t;e instanceof ez?(e$(this,e.Ea),this.pb=e.pb,this.Ha=e.Ha,eH(this,e.Kb),this.qa=e.qa,eV(this,e.g.clone()),this.fb=e.fb):e&&(t=String(e).match(eB))?(e$(this,t[1]||"",!0),this.pb=eq(t[2]||""),this.Ha=eq(t[3]||"",!0),eH(this,t[4]),this.qa=eq(t[5]||"",!0),eV(this,t[6]||"",!0),this.fb=eq(t[7]||"")):this.g=new eZ(null)}function e$(e,t,n){e.Ea=n?eq(t,!0):t,e.Ea&&(e.Ea=e.Ea.replace(/:$/,""))}function eH(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.Kb=t}else e.Kb=null}function eV(e,t,n){t instanceof eZ?e.g=t:(n||(t=eW(t,eJ)),e.g=new eZ(t))}function eq(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function eW(e,t,n){return null!=e?(e=encodeURI(e).replace(t,eK),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function eK(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(b=ez.prototype).Ea="",b.pb="",b.Ha="",b.Kb=null,b.qa="",b.fb="",b.toString=function(){var e=[],t=this.Ea;if(t&&e.push(eW(t,eG,!0),":"),t=this.Ha){e.push("//");var n=this.pb;n&&e.push(eW(n,eG,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.Kb)&&e.push(":",String(t))}return(t=this.qa)&&(this.Ha&&"/"!=t.charAt(0)&&e.push("/"),e.push(eW(t,"/"==t.charAt(0)?eY:eX,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.fb)&&e.push("#",eW(t,eQ)),e.join("")},b.resolve=function(e){var t=this.clone();"data"===t.Ea&&(t=new ez);var n=!!e.Ea;n?e$(t,e.Ea):n=!!e.pb,n?t.pb=e.pb:n=!!e.Ha,n?t.Ha=e.Ha:n=null!=e.Kb;var r=e.qa;if(n)eH(t,e.Kb);else if(n=!!e.qa){if("/"!=r.charAt(0))if(this.Ha&&!this.qa)r="/"+r;else{var i=t.qa.lastIndexOf("/");-1!=i&&(r=t.qa.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?t.qa=r:n=""!==e.g.toString(),n?eV(t,e.g.clone()):n=!!e.fb,n&&(t.fb=e.fb),t},b.clone=function(){return new ez(this)};var eG=/[#\/\?@]/g,eX=/[#\?:]/g,eY=/[#\?]/g,eJ=/[#\?@]/g,eQ=/#/g;function eZ(e){this.g=e||null}function e0(e){if(!e.la&&(e.la={},e.Oc=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];a=decodeURIComponent(a.replace(/\+/g," ")),i=i||"",e.add(a,decodeURIComponent(i.replace(/\+/g," ")))}}function e1(e,t){return e.concat(t)}function e2(){}function e3(e){return null!=e}function e4(e,t){if(0==t.length)return e;var n=t.map(function(e){return new ez(e)});return e.map(function(e){return new ez(e)}).map(function(e){return n.map(function(t){return e.resolve(t)})}).reduce(e1,[]).map(function(e){return e.toString()})}function e5(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:t||[],keyIds:new Set}}function e6(e,t){if(1==t.length)return t[0];if(null!=(e=e8(e,t)))return e;throw new eF(2,4,4025,t)}function e8(e,t){for(var n=v(te[e]),r=n.next();!r.done;r=n.next()){r=r.value;for(var i=v(t),a=i.next();!a.done;a=i.next())if(a=a.value,r.test(a.trim()))return a.trim()}return e==e9?"":null}(b=eZ.prototype).la=null,b.Oc=null,b.add=function(e,t){e0(this),this.g=null;var n=this.la.hasOwnProperty(e)?this.la[e]:null;return n||(this.la[e]=n=[]),n.push(t),this.Oc++,this},b.set=function(e,t){return e0(this),this.g=null,this.la.hasOwnProperty(e)?this.la[e]=[t]:this.add(e,t),this},b.toString=function(){if(this.g)return this.g;if(!this.la)return"";var e,t=[];for(e in this.la)for(var n=encodeURIComponent(e),r=this.la[e],i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),t.push(a)}return this.g=t.join("&")},b.clone=function(){var e=new eZ;if(e.g=this.g,this.la){var t,n={};for(t in this.la)n[t]=this.la[t].concat();e.la=n,e.Oc=this.Oc}return e};var e9="text",e7={va:"video",Hc:"audio",X:e9,Wb:"image",Gg:"application"},te={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4$/,/^dts[cx]$/,/^[du]dts$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av01/,/^dvhe/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function tt(){var e,t,n=new Promise(function(n,r){e=n,t=r});return n.resolve=e,n.reject=t,n}function tn(e){this.h=e,this.g=void 0}function tr(e){this.h=e,this.g=null}function ti(e){this.h=e,this.g=null}function ta(){return!!e.MediaSource&&!!MediaSource.isTypeSupported}function to(e){return""!=tg().canPlayType(e)}function ts(){return!!navigator.userAgent.match(/Edge?\//)}function tl(){return th("Xbox One")}function tu(){return th("Tizen")}function tc(){return th("Web0S")&&th("Chrome/38.0.2125.122 Safari/537.36")}function td(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!tu()&&!th("PC=EOS")&&!th("VirginMedia")&&!tf()&&!th("AFT")}function tf(){return th("PlayStation 4")}function tp(){if(!td())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function th(e){return(navigator.userAgent||"").includes(e)}function tg(){return tv||(tm||(tm=new ti(function(){tv=null})),(tv=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(tv=document.createElement("video")),tm.N(1)),tv}tt.prototype.resolve=function(){},tt.prototype.reject=function(){},tn.prototype.value=function(){return void 0==this.g&&(this.g=this.h()),this.g},tr.prototype.N=function(t){var n=this;this.stop();var r=!0,i=null;return this.g=function(){e.clearTimeout(i),r=!1},i=e.setTimeout(function(){r&&n.h()},1e3*t),this},tr.prototype.stop=function(){this.g&&(this.g(),this.g=null)},ti.prototype.Mb=function(){return this.stop(),this.h(),this},ti.prototype.N=function(e){var t=this;return this.stop(),this.g=new tr(function(){t.h()}).N(e),this},ti.prototype.Ca=function(e){var t=this;return this.stop(),this.g=new tr(function(){t.g.N(e),t.h()}).N(e),this},ti.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},G("shaka.util.Timer",ti),ti.prototype.stop=ti.prototype.stop,ti.prototype.tickEvery=ti.prototype.Ca,ti.prototype.tickAfter=ti.prototype.N,ti.prototype.tickNow=ti.prototype.Mb;var tm=null,tv=null;function ty(){}function tb(t){if(!t)return"";if(239==(t=eL(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),e.TextDecoder&&!tf())return(t=new TextDecoder().decode(t)).includes("�")&&Z('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),t;for(var n="",r=0;r<t.length;++r){var i=65533;if(0==(128&t[r])?i=t[r]:t.length>=r+2&&192==(224&t[r])&&128==(192&t[r+1])?(i=(31&t[r])<<6|63&t[r+1],r+=1):t.length>=r+3&&224==(240&t[r])&&128==(192&t[r+1])&&128==(192&t[r+2])?(i=(15&t[r])<<12|(63&t[r+1])<<6|63&t[r+2],r+=2):t.length>=r+4&&240==(241&t[r])&&128==(192&t[r+1])&&128==(192&t[r+2])&&128==(192&t[r+3])&&(i=(7&t[r])<<18|(63&t[r+1])<<12|(63&t[r+2])<<6|63&t[r+3],r+=3),65535>=i)n+=String.fromCharCode(i);else{var a=1023&(i-=65536);n+=String.fromCharCode(55296+(i>>10)),n+=String.fromCharCode(56320+a)}}return n}function tw(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new eF(2,2,2004);var r=new Uint16Array(n=Math.floor(e.byteLength/2));e=ej(e);for(var i=0;i<n;i++)r[i]=e.getUint16(2*i,t);return tE.value()(r)}function t_(e){function t(e){return n.byteLength<=e||32<=n[e]&&126>=n[e]}if(!e)return"";var n=eL(e);if(239==n[0]&&187==n[1]&&191==n[2])return tb(n);if(254==n[0]&&255==n[1])return tw(n.subarray(2),!1);if(255==n[0]&&254==n[1])return tw(n.subarray(2),!0);if(0==n[0]&&0==n[2])return tw(e,!1);if(0==n[1]&&0==n[3])return tw(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return tb(e);throw new eF(2,2,2003)}function tS(t){if(e.TextEncoder&&!tf()){var n=new TextEncoder;return eN(n.encode(t))}n=new Uint8Array((t=unescape(t=encodeURIComponent(t))).length);for(var r=0;r<t.length;r++)n[r]=t[r].charCodeAt(0);return eN(n)}function tx(e,t){for(var n=new ArrayBuffer(2*e.length),r=new DataView(n),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n}G("shaka.util.StringUtils",ty),ty.resetFromCharCode=function(){tE.g=void 0},ty.toUTF16=tx,ty.toUTF8=tS,ty.fromBytesAutoDetect=t_,ty.fromUTF16=tw,ty.fromUTF8=tb;var tE=new tn(function(){for(var e={Ua:65536};0<e.Ua;e={Ua:e.Ua},e.Ua/=2)if(function(e){try{var t=new Uint8Array(e);return 0<String.fromCharCode.apply(null,t).length}catch(e){return!1}}(e.Ua))return function(e){return function(t){for(var n="",r=0;r<t.length;r+=e.Ua)n+=String.fromCharCode.apply(null,t.subarray(r,r+e.Ua));return n}}(e);return null});function tT(){}function tk(e){return e=eL(e),btoa(e=tE.value()(e))}function tC(e,t){return t=void 0==t||t,e=tk(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function tA(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}function tI(t){for(var n=t.length/2,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.parseInt(t.substr(2*i,2),16);return r}function tM(e){var t=eL(e);e="",t=v(t);for(var n=t.next();!n.done;n=t.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),e+=n;return e}function tR(){for(var e=z.apply(0,arguments),t=0,n=v(e),r=n.next();!r.done;r=n.next())t+=r.value.byteLength;for(t=new Uint8Array(t),n=0,r=(e=v(e)).next();!r.done;r=e.next())r=r.value,t.set(eL(r),n),n+=r.byteLength;return t}function tP(){}G("shaka.util.Uint8ArrayUtils",tT),tT.concat=tR,tT.toHex=tM,tT.fromHex=tI,tT.fromBase64=tA,tT.toBase64=tC,tT.toStandardBase64=tk,G("shaka.dependencies",tP),tP.has=function(e){return tO.has(e)},tP.add=function(e,t){if(!tD[e])throw Error(e+" is not supported");tO.set(e,function(){return t})};var tD={muxjs:"muxjs"};tP.Allowed=tD;var tO=new Map([["muxjs",function(){return e.muxjs}]]);function tN(e){var t=this;this.o=e,this.m=tO.get("muxjs")(),this.h=this.g=null,this.l=[],this.i=[],this.j=!1,this.m&&(this.g=new this.m.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.g.on("data",function(e){t.i=e.captions,t.l.push(tR(e.initSegment,e.data))}),this.g.on("done",function(){var e={data:tR.apply(tT,y(t.l)),captions:t.i};t.h.resolve(e),t.j=!1}))}function tL(e,t){var n=tj(e),r="audio/aac"==e.toLowerCase().split(";")[0];return!!tO.get("muxjs")()&&(!!n||!!r)&&(r?es('audio/mp4; codecs="mp4a.40.2"'):t?es(tF(t,e)):(t=tF("audio",e),e=tF("video",e),es(t)||es(e)))}function tj(e){return"mp2t"==e.toLowerCase().split(";")[0].split("/")[1]}function tU(e,t){return"audio/aac"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="mp4a.40.2"':tj(t)?tF(e,t):t}function tF(e,t){if(t=t.replace(/mp2t/i,"mp4"),"audio"==e&&(t=t.replace("video","audio")),e=/avc1\.(66|77|100)\.(\d+)/.exec(t)){var n="avc1.",r=e[1],i=Number(e[2]);n=("66"==r?n+"4200":"77"==r?n+"4d00":n+"6400")+(i>>4).toString(16)+(15&i).toString(16),t=t.replace(e[0],n)}return t}function tB(){}function tz(e,t){return t&&(e+='; codecs="'+t+'"'),e}function t$(e,t,n){return tL(t=tz(e,t),n)?tU(n,t):"video/mp2t"!=e&&"audio"==n?t.replace("video","audio"):t}function tH(e){var t=tq(e);switch(e=t[0],t=t[1].toLowerCase(),!0){case"mp4a"===e&&"69"===t:case"mp4a"===e&&"6b"===t:return"mp3";case"mp4a"===e&&"66"===t:case"mp4a"===e&&"67"===t:case"mp4a"===e&&"68"===t:case"mp4a"===e&&"40.2"===t:case"mp4a"===e&&"40.02"===t:case"mp4a"===e&&"40.5"===t:case"mp4a"===e&&"40.05"===t:case"mp4a"===e&&"40.29"===t:case"mp4a"===e&&"40.42"===t:return"aac";case"mp4a"===e&&"a5"===t:return"ac-3";case"mp4a"===e&&"a6"===t:return"ec-3";case"mp4a"===e&&"b2"===t:return"dtsx";case"mp4a"===e&&"a9"===t:return"dtsc";case"avc1"===e:case"avc3"===e:return"avc";case"hvc1"===e:case"hev1"===e:return"hevc";case"dvh1"===e:case"dvhe"===e:return"dovi"}return e}function tV(e){return(e=e.split(/ *; */)).shift(),(e=e.find(function(e){return e.startsWith("codecs=")}))?e.split("=")[1].replace(/^"|"$/g,""):""}function tq(e){var t=(e=e.split("."))[0];return e.shift(),[t,e.join(".")]}function tW(e){this.j=null,this.i=e,this.u=!1,this.l=this.s=0,this.m=1/0,this.h=this.g=null,this.B="",this.o=new Map}function tK(e){return!!tY[e]||"application/cea-608"==e||"application/cea-708"==e}function tG(e,t,n){if(e.B=t,t=e.o.get(t))for(var r=v(t.keys()),i=r.next();!i.done;i=r.next())(i=t.get(i.value).filter(function(e){return e.endTime<=n}))&&e.i.append(i)}function tX(e,t,n,r,i){var a=n+" "+r,o=new Map;t=v(t);for(var s=t.next();!s.done;s=t.next()){var l=s.value;s=l.stream,l=l.cue,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),function e(t,n,r){n.startTime+=r,n.endTime+=r,n=v(n.nestedCues);for(var i=n.next();!i.done;i=n.next())e(t,i.value,r)}(e,l,i),l.startTime>=e.l&&l.startTime<e.m&&(o.get(s).get(a).push(l),s==e.B&&e.i.append([l]))}for(a=(i=v(o.keys())).next();!a.done;a=i.next())for(a=a.value,e.o.has(a)||e.o.set(a,new Map),s=(t=v(o.get(a).keys())).next();!s.done;s=t.next())s=s.value,l=o.get(a).get(s),e.o.get(a).set(s,l);e.g=null==e.g?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(r,e.m))}tN.prototype.destroy=function(){return this.g&&this.g.dispose(),this.g=null,Promise.resolve()},G("shaka.util.MimeUtils",tB),tB.getFullType=tz,new Map().set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),tW.prototype.destroy=function(){return this.i=this.j=null,this.o.clear(),Promise.resolve()},tW.prototype.remove=function(e,t){var n=this;return B(function(r){if(1==r.g)return A(r,Promise.resolve(),2);!n.i||!n.i.remove(e,t)||null==n.g||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),I(r)})},G("shaka.text.TextEngine",tW),tW.prototype.destroy=tW.prototype.destroy,tW.findParser=function(e){return tY[e]},tW.unregisterParser=function(e){delete tY[e]},tW.registerParser=function(e,t){tY[e]=t};var tY={};function tJ(){}function tQ(e,t){return e=t1(e),t=t1(t),e.split("-")[0]==t.split("-")[0]}function tZ(e,t){return e=t1(e),t=t1(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&1==e.length&&2==t.length}function t0(e,t){return e=t1(e),t=t1(t),e=e.split("-"),t=t.split("-"),2==e.length&&2==t.length&&e[0]==t[0]}function t1(e){var t=e.split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=t6.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e}function t2(e,t){return e=t1(e),(t=t1(t))==e?4:tZ(t,e)?3:t0(t,e)?2:+!!tZ(e,t)}function t3(e){var t=e.indexOf("-");return e=(e=0<=t?e.substring(0,t):e).toLowerCase(),t6.get(e)||e}function t4(e){return e.language?t1(e.language):e.audio&&e.audio.language?t1(e.audio.language):e.video&&e.video.language?t1(e.video.language):"und"}function t5(e,t){e=t1(e);var n=new Set,r=v(t);for(t=r.next();!t.done;t=r.next())n.add(t1(t.value));for(t=(r=v(n)).next();!t.done;t=r.next())if((t=t.value)==e)return t;for(t=(r=v(n)).next();!t.done;t=r.next())if(tZ(t=t.value,e))return t;for(t=(r=v(n)).next();!t.done;t=r.next())if(t0(t=t.value,e))return t;for(t=(n=v(n)).next();!t.done;t=n.next())if(tZ(e,t=t.value))return t;return null}G("shaka.util.LanguageUtils",tJ),tJ.findClosestLocale=t5,tJ.getLocaleForVariant=t4,tJ.getLocaleForText=function(e){return t1(e.language||"und")},tJ.getBase=t3,tJ.relatedness=t2,tJ.areSiblings=function(e,t){var n=t3(e),r=t3(t);return e!=n&&t!=r&&n==r},tJ.normalize=t1,tJ.isSiblingOf=t0,tJ.isParentOf=tZ,tJ.areLanguageCompatible=tQ,tJ.areLocaleCompatible=function(e,t){return(e=t1(e))==(t=t1(t))};var t6=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function t8(){this.g={}}function t9(e,t,n,r,i){var a,o,s,l,u=e.variants;(t.length||n.length)&&(u=function(e,t,n){var r={};t=v(t);for(var i=t.next();!i.done;r={xd:r.xd},i=t.next())if(r.xd=i.value,(i=e.filter(function(e){return function(t){return t.video&&t.video.codecs.startsWith(e.xd)}}(r))).length){e=i;break}for(r={},t=(n=v(n)).next();!t.done;r={jd:r.jd},t=n.next())if(r.jd=t.value,(t=e.filter(function(e){return function(t){return t.audio&&t.audio.codecs.startsWith(e.jd)}}(r))).length){e=t;break}return e}(u,t,n));var c=function(e,t){t=v(t);for(var n,r,i=t.next();!i.done;i=t.next())if((i=i.value)==nS||i==nx){if(1==(e=function(e,t){var n=0,r=new t8;return e.forEach(function(e,i){for(var a=0,o=0,s=v(i),l=s.next();!l.done;l=s.next())(l=l.value).decodingInfos.length&&(a+=+!!l.decodingInfos[0][t],o++);(a/=o)>n?(r.g={},r.push(e,i),n=a):a==n&&r.push(e,i)}),r}(e,i)).size())return e.keys()[0]}else if(i==nE)break;return n="",r=1/0,e.forEach(function(e,t){var i=0,a=0;t=v(t);for(var o=t.next();!o.done;o=t.next())i+=o.value.bandwidth||0,++a;(i/=a)<r&&(n=e,r=i)}),n}((a=t=function(e){var t=new t8;e=v(e);for(var n=e.next();!n.done;n=e.next()){var r=t7(n=n.value);t.push(r,n)}return t}(u=nm(u,r)),o=0,s=new Map,l=a.size(),a.forEach(function(e,t){t=v(t);for(var n=t.next();!n.done;n=t.next()){var r=(n=n.value).video;if(r&&r.width&&r.height){r=r.width*r.height*(r.frameRate||1),s.has(r)||s.set(r,new t8);var i=s.get(r);i.push(e,n),i.size()===l&&(o=Math.max(o,r))}}}),t=o?s.get(o):a),i);e.variants=e.variants.filter(function(e){return t7(e)==c})}function t7(e){var t="";e.video&&(t=tH(e.video.codecs));var n="";return e.audio&&(n=tH(e.audio.codecs)),t+"-"+n}function ne(e,t,n){var r,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y=e.video;if(0!=e.disabledUntilTime){if(e.disabledUntilTime>Date.now()/1e3)return!1;e.disabledUntilTime=0}return(!y||!y.width||!y.height||(r=y.width,i=t.minWidth,a=Math.min(t.maxWidth,n.width),r>=i&&r<=a&&(o=y.height,s=t.minHeight,l=Math.min(t.maxHeight,n.height),o>=s&&o<=l)&&(u=y.width*y.height,c=t.minPixels,d=t.maxPixels,u>=c&&u<=d)))&&(!e||!e.video||!e.video.frameRate||(f=e.video.frameRate,p=t.minFrameRate,h=t.maxFrameRate,f>=p&&f<=h))&&(g=e.bandwidth,m=t.minBandwidth,v=t.maxBandwidth,g>=m&&g<=v)}function nt(e,t,n){var r=!1;e=v(e);for(var i=e.next();!i.done;i=e.next()){var a=(i=i.value).allowedByApplication;i.allowedByApplication=ne(i,t,n),a!=i.allowedByApplication&&(r=!0)}return r}function nn(e,t){return B(function(n){if(1==n.g)return A(n,nr(e.variants,t,!1),2);e.variants=e.variants.filter(function(e){var t=e.video;if(t){var n=na(t.codecs);if(t.codecs.includes(",")){var r=t.codecs.split(",");n=na(n=e6("video",r)),r=ni(r=e6("audio",r));var i=t$(t.mimeType,r,"audio");if(!es(i))return!1;n=[n,r].join()}if(!es(r=t$(t.mimeType,n,"video")))return!1;t.codecs=n}if(n=e.audio){if(r=ni(n.codecs),!es(i=t$(n.mimeType,r,"audio")))return!1;n.codecs=r}return tl()&&t&&(t.width&&1920<t.width||t.height&&1080<t.height)&&(t.codecs.includes("avc1.")||t.codecs.includes("avc3."))?(er(nb(e)),!1):((t=e.decodingInfos.some(function(e){return e.supported}))||nb(e),t)}),I(n)})}function nr(e,t,n){var r,i,a,o,s,l,u,c,d;return B(function(f){if(e.some(function(e){return e.decodingInfos.length}))return f.return();for(r=navigator.mediaCapabilities,i=[],a=function(e,t){var n;return B(function(i){return 1==i.g?(M(i,2),A(i,r.decodingInfo(t),4)):2!=i.g?(n=i.h,e.decodingInfos.push(n),P(i,0)):void(D(i),JSON.stringify(t),I(i))})},s=(o=v(e)).next();!s.done;s=o.next())for(c=(u=v(function(e,t,n){var r=e.audio,i=e.video;if(n={type:n?"file":"media-source"},i){var a=i.codecs;if(i.codecs.includes(",")){var o=i.codecs.split(",");a=na(a=e6("video",o)),o=e6("audio",o),o=t$(i.mimeType,o,"audio"),n.audio={contentType:o,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1}}if(a=na(a),a=t$(i.mimeType,a,"video"),n.video={contentType:a,width:i.width||64,height:i.height||64,bitrate:i.bandwidth||e.bandwidth||1,framerate:i.frameRate||1},i.hdr)switch(i.hdr){case"SDR":n.video.transferFunction="srgb";break;case"PQ":n.video.transferFunction="pq";break;case"HLG":n.video.transferFunction="hlg"}}if(r&&(a=ni(r.codecs),a=t$(r.mimeType,a,"audio"),n.audio={contentType:a,channels:r.channelsCount||2,bitrate:r.bandwidth||e.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio}),!(o=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])).length)return[n];e=[],a=new Map,o=v(o);for(var s=o.next();!s.done;s=o.next()){var l=s.value;a.get(l.keySystem)||a.set(l.keySystem,[]),a.get(l.keySystem).push(l)}o=t?"required":"optional",t=t?["persistent-license"]:["temporary"],l=v(a.keys());for(var u=l.next();!u.done;u=l.next()){var c=u.value;u=Object.assign({},n);var d=a.get(c);for(c={keySystem:c,initDataType:"cenc",persistentState:o,distinctiveIdentifier:"optional",sessionTypes:t},s=(d=v(d)).next();!s.done;s=d.next()){if((s=s.value).initData&&s.initData.length){for(var f=new Set,p=v(s.initData),h=p.next();!h.done;h=p.next())f.add(h.value.initDataType);c.initDataType=s.initData[0].initDataType}s.distinctiveIdentifierRequired&&(c.distinctiveIdentifier="required"),s.persistentStateRequired&&(c.persistentState="required"),s.sessionType&&(c.sessionTypes=[s.sessionType]),r&&(""!=s.audioRobustness?c.audio?c.audio.robustness=c.audio.robustness||s.audioRobustness:c.audio={robustness:s.audioRobustness}:c.audio||(c.audio={})),i&&(""!=s.videoRobustness?c.video?c.video.robustness=c.video.robustness||s.videoRobustness:c.video={robustness:s.videoRobustness}:c.video||(c.video={}))}u.keySystemConfiguration=c,e.push(u)}return e}(l=s.value,t,n))).next();!c.done;c=u.next())d=c.value,i.push(a(l,d));return A(f,Promise.all(i),0)})}function ni(e){return tu()&&"ac-3"==e.toLowerCase()?"ec-3":e}function na(e){if(e.includes("avc1")){var t=e.split(".");if(3==t.length)return t.shift()+"."+parseInt(t.shift(),10).toString(16)+("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if("vp9"==e)return"vp09.00.41.08";return e}function no(e,t){t.variants=t.variants.filter(function(t){var n=t.audio;return t=t.video,(!n||!e||!e.audio||!!ns(n,e.audio))&&(!t||!e||!e.video||!!ns(t,e.video))})}function ns(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]}function nl(e){var t=e.audio,n=e.video,r=t?t.mimeType:null,i=n?n.mimeType:null,a=t?t.codecs:null,o=n?n.codecs:null,s=[];o&&s.push(o),a&&s.push(a);var l=[];n&&l.push(n.mimeType),t&&l.push(t.mimeType),l=l[0]||null;var u=[];t&&u.push(t.kind),n&&u.push(n.kind),u=u[0]||null;var c=new Set;if(t)for(var d=v(t.roles),f=d.next();!f.done;f=d.next())c.add(f.value);if(n)for(f=(d=v(n.roles)).next();!f.done;f=d.next())c.add(f.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:u,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:l,audioMimeType:r,videoMimeType:i,codecs:s.join(", "),audioCodec:a,videoCodec:o,primary:e.primary,roles:Array.from(c),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles),e}function nu(e){return{id:e.id,active:!1,type:e9,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null}}function nc(e){var t=e.width||null,n=e.height||null,r=null;e.segmentIndex&&(r=e.segmentIndex.get(0));var i=e.tilesLayout;return r&&(i=r.tilesLayout||i),i&&null!=t&&(t/=Number(i.split("x")[0])),i&&null!=n&&(n/=Number(i.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:i||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId}}function nd(e){return e.__shaka_id||(e.__shaka_id=n_++),e.__shaka_id}function nf(e){var t=nh(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="application/cea-608"),e.kind&&(t.roles=[e.kind]),"forced"==e.kind&&(t.forced=!0),t}function np(e){var t=nh(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function nh(e){return{id:nd(e),active:!1,type:"",bandwidth:0,language:t1(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null}}function ng(e){return e.allowedByApplication&&e.allowedByKeySystem}function nm(e,t){var n=e.filter(function(e){return e.audio&&e.audio.channelsCount}),r=new Map;n=v(n);for(var i=n.next();!i.done;i=n.next()){var a=(i=i.value).audio.channelsCount;r.has(a)||r.set(a,[]),r.get(a).push(i)}return 0==(n=Array.from(r.keys())).length?e:(e=n.filter(function(e){return e<=t})).length?r.get(Math.max.apply(Math,y(e))):r.get(Math.min.apply(Math,y(n)))}function nv(e,t,n,r){var i=e,a=e.filter(function(e){return e.primary});a.length&&(i=a);var o=i.length?i[0].language:"";if(i=i.filter(function(e){return e.language==o}),t){var s=t5(t1(t),e.map(function(e){return e.language}));s&&(i=e.filter(function(e){return t1(e.language)==s}))}if(i=i.filter(function(e){return e.forced==r}),n){if((e=ny(i,n)).length)return e}else if((e=i.filter(function(e){return 0==e.roles.length})).length)return e;return(e=i.map(function(e){return e.roles}).reduce(e1,[])).length?ny(i,e[0]):i}function ny(e,t){return e.filter(function(e){return e.roles.includes(t)})}function nb(e){var t=[];return e.audio&&t.push(nw(e.audio)),e.video&&t.push(nw(e.video)),t.join(", ")}function nw(e){return"audio"==e.type?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:"video"==e.type?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}(b=t8.prototype).push=function(e,t){this.g.hasOwnProperty(e)?this.g[e].push(t):this.g[e]=[t]},b.get=function(e){return(e=this.g[e])?e.slice():null},b.remove=function(e,t){e in this.g&&(this.g[e]=this.g[e].filter(function(e){return e!=t}),0==this.g[e].length&&delete this.g[e])},b.forEach=function(e){for(var t in this.g)e(t,this.g[t])},b.size=function(){return Object.keys(this.g).length},b.keys=function(){return Object.keys(this.g)};var n_=0,nS="smooth",nx="powerEfficient",nE="bandwidth",nT=new Map().set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),nk=new Map().set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function nC(){var e=this;this.l=null,this.o=!1,this.i=new J,navigator.connection&&navigator.connection.addEventListener("change",function(){if(e.g.useNetworkInformation&&e.o){e.i=new J,e.g&&e.i.configure(e.g.advanced);var t=e.chooseVariant();t&&e.l(t)}}),this.m=[],this.u=1,this.B=!1,this.h=this.j=this.g=this.s=null,this.D=new ti(function(){if(e.g.restrictToElementSize){var t=e.chooseVariant();t&&e.l(t)}})}function nA(e){var t=e.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&e.g.useNetworkInformation&&(t=1e6*navigator.connection.downlink),t}function nI(e,t,n,r){return e&&(t=t.filter(function(t){return ne(t,e,{width:r,height:n})})),t.sort(function(e,t){return e.bandwidth-t.bandwidth})}(b=nC.prototype).stop=function(){this.l=null,this.o=!1,this.m=[],this.u=1,this.j=this.s=null,this.h&&(this.h.disconnect(),this.h=null),this.D.stop()},b.init=function(e){this.l=e},b.chooseVariant=function(){var t=1/0,n=1/0;this.g.restrictToScreenSize&&(n=this.g.ignoreDevicePixelRatio?1:e.devicePixelRatio,t=e.screen.height*n,n*=e.screen.width),this.h&&this.g.restrictToElementSize&&(n=this.g.ignoreDevicePixelRatio?1:e.devicePixelRatio,t=this.j.clientWidth*n,n*=this.j.clientHeight),t=nI(this.g.restrictions,this.m,t,n),n=this.i.getBandwidthEstimate(nA(this)),this.m.length&&!t.length&&(t=[(t=nI(null,this.m,1/0,1/0))[0]]);for(var r=t[0]||null,i=0;i<t.length;i++){for(var a=t[i],o=isNaN(this.u)?1:Math.abs(this.u),s=o*a.bandwidth/this.g.bandwidthDowngradeTarget,l={bandwidth:1/0},u=i+1;u<t.length;u++)if(a.bandwidth!=t[u].bandwidth){l=t[u];break}o=o*l.bandwidth/this.g.bandwidthUpgradeTarget,n>=s&&n<=o&&r.bandwidth!=a.bandwidth&&(r=a)}return this.s=Date.now(),r},b.enable=function(){this.o=!0},b.disable=function(){this.o=!1},b.segmentDownloaded=function(e,t){if(this.i.sample(e,t),null!=this.s&&this.o)e:{if(this.B){if(Date.now()-this.s<1e3*this.g.switchInterval)break e}else{if(!((e=this.i).g>=e.i))break e;this.B=!0}e=this.chooseVariant(),this.i.getBandwidthEstimate(nA(this)),e&&this.l(e)}},b.getBandwidthEstimate=function(){return this.i.getBandwidthEstimate(nA(this))},b.setVariants=function(e){this.m=e},b.playbackRateChanged=function(e){this.u=e},b.setMediaElement=function(t){var n=this;this.j=t,this.h&&(this.h.disconnect(),this.h=null),this.j&&"ResizeObserver"in e&&(this.h=new ResizeObserver(function(){n.D.N(nM)}),this.h.observe(this.j))},b.configure=function(e){this.g=e,this.i&&this.g&&this.i.configure(this.g.advanced)},G("shaka.abr.SimpleAbrManager",nC),nC.prototype.configure=nC.prototype.configure,nC.prototype.setMediaElement=nC.prototype.setMediaElement,nC.prototype.playbackRateChanged=nC.prototype.playbackRateChanged,nC.prototype.setVariants=nC.prototype.setVariants,nC.prototype.getBandwidthEstimate=nC.prototype.getBandwidthEstimate,nC.prototype.segmentDownloaded=nC.prototype.segmentDownloaded,nC.prototype.disable=nC.prototype.disable,nC.prototype.enable=nC.prototype.enable,nC.prototype.chooseVariant=nC.prototype.chooseVariant,nC.prototype.init=nC.prototype.init,nC.prototype.stop=nC.prototype.stop;var nM=1;function nR(e,t){this.g=e,this.h=t}function nP(e,t){var n=new nR(5,0),r=nN,i=r.g,a=n.h-i.h;(0<(n.g-i.g||a)?r.i:r.h)(r.g,n,e,t)}function nD(e,t,n,r){ee([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function nO(e,t,n,r){Z(n+"has been deprecated and has been removed in"+t+". We are now at version"+e+". Additional information:"+r)}nR.prototype.toString=function(){return"v"+this.g+"."+this.h};var nN=null;function nL(e,t){for(this.h=e,this.g=new Set([e]),t=(e=v(t=t||[])).next();!t.done;t=e.next())this.add(t.value)}function nj(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var r=t.audio;n=!((!(!n.channelsCount||!r.channelsCount||2<n.channelsCount||2<r.channelsCount)||n.channelsCount==r.channelsCount)&&nU(n,r)&&nF(n.roles,r.roles))}return!n&&(n=e.video&&t.video)&&(e=e.video,n=!(nU(e,t=t.video)&&nF(e.roles,t.roles))),!n}function nU(e,t){if(e.mimeType!=t.mimeType||(e=e.codecs.split(",").map(function(e){return tq(e)[0]}),t=t.codecs.split(",").map(function(e){return tq(e)[0]}),e.length!=t.length))return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function nF(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;e=v(e);for(var n=e.next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}function nB(e){this.g=e,this.h=new nz(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"")}function nz(e,t,n,r){this.i=e,this.j=t,this.g=n,this.h=void 0===r?"":r}function n$(){this.g=nq,this.h=new Map().set(nq,2).set(nV,1)}function nH(e,t,n){e.h.set(nq,n).set(nV,t)}G("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3}),nL.prototype.add=function(e){return!!nj(this.h,e)&&(this.g.add(e),!0)},nL.prototype.values=function(){return this.g.values()},nB.prototype.create=function(e){var t=this,n=e.filter(function(e){return nj(t.g,e)});return n.length?new nL(n[0],n):this.h.create(e)},nz.prototype.create=function(e){var t,n,r,i,a,o,s,l=[];t=e,n=this.i,l=(r=t5(n=t1(n),t.map(function(e){return t4(e)})))?t.filter(function(e){return r==t4(e)}):[];var u=e.filter(function(e){return e.primary});for((i=l=l.length?l:u.length?u:e,a=this.j,e=i.filter(function(e){return!!e.audio&&(a?e.audio.roles.includes(a):0==e.audio.roles.length)})).length&&(l=e),this.g&&(e=nm(l,this.g)).length&&(l=e),this.h&&(o=l,s=this.h,e=o.filter(function(e){return!!e.audio&&e.audio.label.toLowerCase()==s.toLowerCase()})).length&&(l=e),e=new nL(l[0]),u=(l=v(l)).next();!u.done;u=l.next())u=u.value,nj(e.h,u)&&e.add(u);return e};var nV=0,nq=1;function nW(e,t){var n=nG();this.l=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.j=null==e.baseDelay?n.baseDelay:e.baseDelay,this.o=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.m=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==t&&t)&&(this.g=1)}function nK(e){var t,n;return B(function(r){if(1==r.g){if(e.g>=e.l)if(e.i)e.g=1,e.h=e.j;else throw new eF(2,7,1010);return(t=e.g,e.g++,0==t)?r.return():(n=e.h*(1+(2*Math.random()-1)*e.o),A(r,new Promise(function(e){new ti(e).N(n/1e3)}),2))}e.h*=e.m,I(r)})}function nG(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function nX(e,t){this.promise=e,this.i=t,this.g=!1}function nY(e){return new nX(Promise.reject(e),function(){return Promise.resolve()})}function nJ(){var e=Promise.reject(new eF(2,7,7001));return e.catch(function(){}),new nX(e,function(){return Promise.resolve()})}function nQ(e){return new nX(Promise.resolve(e),function(){return Promise.resolve()})}function nZ(e){return new nX(e,function(){return e.catch(function(){})})}function n0(e){return new nX(Promise.all(e.map(function(e){return e.promise})),function(){return Promise.all(e.map(function(e){return e.abort()}))})}function n1(t,n){if(n)if(n instanceof Map)for(var r=v(n.keys()),i=r.next();!i.done;i=r.next())Object.defineProperty(this,i=i.value,{value:n.get(i),writable:!0,enumerable:!0});else for(r in n)Object.defineProperty(this,r,{value:n[r],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function n2(e){var t,n=new n1(e.type);for(t in e)Object.defineProperty(n,t,{value:e[t],writable:!0,enumerable:!0});return n}nX.prototype.abort=function(){return this.g=!0,this.i()},nX.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},nX.prototype.Y=function(e,t){function n(n){return function(s){if(i.g&&n)a.reject(o);else{var l=n?e:t;l?r=function(e,t,n){try{var r=e(t);if(r&&r.promise&&r.abort)return n.resolve(r.promise),function(){return r.abort()};return n.resolve(r),function(){return Promise.resolve(r).then(function(){},function(){})}}catch(e){return n.reject(e),function(){return Promise.resolve()}}}(l,s,a):(n?a.resolve:a.reject)(s)}}}function r(){return a.reject(o),i.abort()}var i=this,a=new tt,o=new eF(2,7,7001);return this.promise.then(n(!0),n(!1)),new nX(a,function(){return r()})},G("shaka.util.AbortableOperation",nX),nX.prototype.chain=nX.prototype.Y,nX.prototype.finally=nX.prototype.finally,nX.all=n0,nX.prototype.abort=nX.prototype.abort,nX.notAbortable=nZ,nX.completed=nQ,nX.aborted=nJ,nX.failed=nY,n1.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},n1.prototype.stopImmediatePropagation=function(){this.g=!0},n1.prototype.stopPropagation=function(){},G("shaka.util.FakeEvent",n1);var n3={Ig:"abrstatuschanged",Jg:"adaptation",Kg:"buffering",Lg:"downloadfailed",Mg:"downloadheadersreceived",Ng:"drmsessionupdate",Pg:"emsg",ah:"prft",Error:"error",Qg:"expirationupdated",Rg:"gapjumped",Tg:"loaded",Ug:"loading",Wg:"manifestparsed",Xg:"mediaqualitychanged",Metadata:"metadata",Zg:"onstatechange",$g:"onstateidle",bh:"ratechange",eh:"segmentappended",fh:"sessiondata",gh:"stalldetected",hh:"streaming",ih:"textchanged",jh:"texttrackvisibility",kh:"timelineregionadded",lh:"timelineregionenter",mh:"timelineregionexit",nh:"trackschanged",ph:"unloading",qh:"variantchanged"};function n4(){this.da=new t8,this.Wc=this}function n5(e){var t=new Set;return function e(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(t.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;t.add(n);var i,a=r?[]:{};for(i in n)a[i]=e(n[i]);return r&&(a.length=n.length),a}}(e)}function n6(e){var t,n={};for(t in e)n[t]=e[t];return n}function n8(){this.g=[]}function n9(e,t){e.g.push(t.finally(function(){ec(e.g,t)}))}function n7(e,t,n){n4.call(this),this.i=!1,this.m=new n8,this.g=new Set,this.h=new Set,this.l=e||null,this.j=t||null,this.s=n||null,this.o=!1}function re(e,t,n,r){n=n||ra;var i=ro[e];(!i||n>=i.priority)&&(ro[e]={priority:n,jg:t,kg:void 0!==r&&r})}function rt(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:void 0===n?null:n}}function rn(){this.g=0}function rr(e,t,n){nX.call(this,e,t),this.h=n}n4.prototype.addEventListener=function(e,t){this.da&&this.da.push(e,t)},n4.prototype.removeEventListener=function(e,t){this.da&&this.da.remove(e,t)},n4.prototype.dispatchEvent=function(e){if(!this.da)return!0;var t=this.da.get(e.type)||[],n=this.da.get("All");for(n&&(t=t.concat(n)),n=(t=v(t)).next();!n.done;n=t.next()){n=n.value,e.target=this.Wc,e.currentTarget=this.Wc;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch(e){}if(e.g)break}return e.defaultPrevented},n4.prototype.release=function(){this.da=null},n8.prototype.destroy=function(){for(var e=[],t=v(this.g),n=t.next();!n.done;n=t.next())(n=n.value).promise.catch(function(){}),e.push(n.abort());return this.g=[],Promise.all(e)},E(n7,n4),(b=n7.prototype).je=function(e){this.o=e},b.lg=function(e){this.g.add(e)},b.Bg=function(e){this.g.delete(e)},b.rf=function(){this.g.clear()},b.mg=function(e){this.h.add(e)},b.Cg=function(e){this.h.delete(e)},b.tf=function(){this.h.clear()},b.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),n4.prototype.release.call(this),this.m.destroy()},b.request=function(e,t){var n=this,r=new rn;if(this.i){var i=Promise.reject(new eF(2,7,7001));return i.catch(function(){}),new rr(i,function(){return Promise.resolve()},r)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?n5(t.retryParameters):nG(),t.uris=n5(t.uris);var a=(i=function(e,t,n){var r=nQ(void 0),i={};e=v(e.g);for(var a=e.next();!a.done;i={sd:i.sd},a=e.next())i.sd=a.value,r=r.Y(function(e){return function(){return n.body&&(n.body=eN(n.body)),e.sd(t,n)}}(i));return r.Y(void 0,function(e){if(e instanceof eF&&7001==e.code)throw e;throw new eF(2,1,1006,e)})}(this,e,t)).Y(function(){return function e(t,n,r,i,a,o,s){t.o&&(r.uris[a]=r.uris[a].replace("http://","https://"));var l=new ez(r.uris[a]),u=l.Ea,c=!1;u||(e$(l,u=(u=location.protocol).slice(0,-1)),r.uris[a]=l.toString());var d=(u=ro[u=u.toLowerCase()])?u.jg:null;if(!d)return nY(new eF(2,1,1e3,l));var f,p=u.kg,h=null,g=null,m=!1,v=!1;return nZ(nK(i)).Y(function(){if(t.i)return nJ();f=Date.now();var e=d(r.uris[a],r,n,function(e,r,i){h&&h.stop(),g&&g.N(o/1e3),t.l&&n==ri&&(t.l(e,r),c=!0,s.g=i)},function(e){t.j&&t.j(e,r,n),v=!0});if(!p)return e;var i=r.retryParameters.connectionTimeout;i&&(h=new ti(function(){m=!0,e.abort()})).N(i/1e3);var o=r.retryParameters.stallTimeout;return o&&(g=new ti(function(){m=!0,e.abort()})),e}).Y(function(e){h&&h.stop(),g&&g.stop(),void 0==e.timeMs&&(e.timeMs=Date.now()-f);var i={response:e,Yf:c};return!v&&t.j&&t.j(e.headers,r,n),i},function(l){if(h&&h.stop(),g&&g.stop(),t.s){var u=null,c=0;l instanceof eF&&(u=l,1001==l.code&&(c=l.data[1])),t.s(r,u,c,m)}if(t.i)return nJ();if(m&&(l=new eF(1,1,1003,r.uris[a],n)),l instanceof eF){if(7001==l.code)throw l;if(1010==l.code)throw o;if(1==l.severity)return u=new n1("retry",u=new Map().set("error",l)),t.dispatchEvent(u),a=(a+1)%r.uris.length,e(t,n,r,i,a,l,s)}throw l})}(n,e,t,new nW(t.retryParameters,!1),0,null,r)}),o=a.Y(function(t){var r=n,i=e,a=t,o=nQ(void 0),s={};r=v(r.h);for(var l=r.next();!l.done;s={td:s.td},l=r.next())s.td=l.value,o=o.Y(function(e){return function(){var t=a.response;return t.data&&(t.data=eN(t.data)),e.td(i,t)}}(s));return o.Y(function(){return a},function(e){var t=2;if(e instanceof eF){if(7001==e.code)throw e;t=e.severity}throw new eF(t,1,1007,e)})}),s=Date.now(),l=0;i.promise.then(function(){l=Date.now()-s},function(){});var u=0;a.promise.then(function(){u=Date.now()},function(){});var c=o.Y(function(t){var r=Date.now()-u,i=t.response;return i.timeMs+=l,i.timeMs+=r,t.Yf||!n.l||i.fromCache||e!=ri||n.l(i.timeMs,i.data.byteLength),i},function(e){throw e&&(e.severity=2),e});return i=new rr(c.promise,function(){return c.abort()},r),n9(this.m,i),i},G("shaka.net.NetworkingEngine",n7),n7.prototype.request=n7.prototype.request,n7.prototype.destroy=n7.prototype.destroy,n7.makeRequest=rt,n7.defaultRetryParameters=function(){return nG()},n7.prototype.clearAllResponseFilters=n7.prototype.tf,n7.prototype.unregisterResponseFilter=n7.prototype.Cg,n7.prototype.registerResponseFilter=n7.prototype.mg,n7.prototype.clearAllRequestFilters=n7.prototype.rf,n7.prototype.unregisterRequestFilter=n7.prototype.Bg,n7.prototype.registerRequestFilter=n7.prototype.lg,n7.unregisterScheme=function(e){delete ro[e]},n7.registerScheme=re,n7.prototype.setForceHTTPS=n7.prototype.je,n7.NumBytesRemainingClass=rn,E(rr,nX),n7.PendingRequest=rr;var ri=1;n7.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6};var ra=3;n7.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var ro={};function rs(e){this.g=!1,this.h=new tt,this.i=e}function rl(e,t){if(e.g){if(t instanceof eF&&7003==t.code)throw t;throw new eF(2,7,7003,t)}}function ru(){this.g=new t8}function rc(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.g=function(e,t){if(void 0==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter(function(e){return!n.has(e)}),!function(e){var t=rd;if(void 0==t){t=!1;try{var n={},r={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},e.addEventListener("test",r,n),e.removeEventListener("test",r,n)}catch(e){t=!1}rd=t}return t||!1}(e)?t.capture||!1:t}(e,r),this.target.addEventListener(t,n,this.g)}rs.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then(function(){e.h.resolve()},function(){e.h.resolve()}))},(b=ru.prototype).release=function(){this.nb(),this.g=null},b.C=function(e,t,n,r){this.g&&(e=new rc(e,t,n,r),this.g.push(t,e))},b.ma=function(e,t,n,r){var i=this;this.C(e,t,function r(a){i.zc(e,t,r),n(a)},r)},b.zc=function(e,t,n){if(this.g){var r=this.g.get(t)||[];r=v(r);for(var i=r.next();!i.done;i=r.next())(i=i.value).target!=e||n!=i.listener&&n||(i.zc(),this.g.remove(t,i))}},b.nb=function(){if(this.g){var e,t=this.g,n=[];for(e in t.g)n.push.apply(n,y(t.g[e]));for(n=(t=v(n)).next();!n.done;n=t.next())n.value.zc();this.g.g={}}},G("shaka.util.EventManager",ru),ru.prototype.removeAll=ru.prototype.nb,ru.prototype.unlisten=ru.prototype.zc,ru.prototype.listenOnce=ru.prototype.ma,ru.prototype.listen=ru.prototype.C,ru.prototype.release=ru.prototype.release,rc.prototype.zc=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var rd=void 0;function rf(e,t){var n=[];e=v(e);for(var r=e.next();!r.done;r=e.next())n.push(t(r.value));return n}function rp(e){for(var t=new Map,n=v(Object.keys(e)),r=n.next();!r.done;r=n.next())r=r.value,t.set(r,e[r]);return t}function rh(e){var t={};return e.forEach(function(e,n){t[n]=e}),t}function rg(e,t){this.S=ej(e),this.h=t==rv,this.g=0}function rm(){return new eF(2,3,3e3)}(b=rg.prototype).ha=function(){return this.g<this.S.byteLength},b.Z=function(){return this.g},b.Gf=function(){return this.S.byteLength},b.Ra=function(){try{var e=this.S.getUint8(this.g);return this.g+=1,e}catch(e){throw rm()}},b.$d=function(){try{var e=this.S.getUint16(this.g,this.h);return this.g+=2,e}catch(e){throw rm()}},b.K=function(){try{var e=this.S.getUint32(this.g,this.h);return this.g+=4,e}catch(e){throw rm()}},b.Pe=function(){try{var e=this.S.getInt32(this.g,this.h);return this.g+=4,e}catch(e){throw rm()}},b.$a=function(){try{if(this.h)var e=this.S.getUint32(this.g,!0),t=this.S.getUint32(this.g+4,!0);else t=this.S.getUint32(this.g,!1),e=this.S.getUint32(this.g+4,!1)}catch(e){throw rm()}if(2097151<t)throw new eF(2,3,3001);return this.g+=8,0x100000000*t+e},b.Za=function(e){if(this.g+e>this.S.byteLength)throw rm();var t=eL(this.S,this.g,e);return this.g+=e,t},b.skip=function(e){if(this.g+e>this.S.byteLength)throw rm();this.g+=e},b.sg=function(e){if(this.g<e)throw rm();this.g-=e},b.seek=function(e){if(0>e||e>this.S.byteLength)throw rm();this.g=e},b.sc=function(){for(var e=this.g;this.ha()&&0!=this.S.getUint8(this.g);)this.g+=1;return e=eL(this.S,e,this.g-e),this.g+=1,tb(e)},G("shaka.util.DataViewReader",rg),rg.prototype.readTerminatedString=rg.prototype.sc,rg.prototype.seek=rg.prototype.seek,rg.prototype.rewind=rg.prototype.sg,rg.prototype.skip=rg.prototype.skip,rg.prototype.readBytes=rg.prototype.Za,rg.prototype.readUint64=rg.prototype.$a,rg.prototype.readInt32=rg.prototype.Pe,rg.prototype.readUint32=rg.prototype.K,rg.prototype.readUint16=rg.prototype.$d,rg.prototype.readUint8=rg.prototype.Ra,rg.prototype.getLength=rg.prototype.Gf,rg.prototype.getPosition=rg.prototype.Z,rg.prototype.hasMoreData=rg.prototype.ha;var rv=1;function ry(){this.i=[],this.h=[],this.g=!1}function rb(e){for(var t=rT(e);e.reader.ha()&&!e.parser.g;)e.parser.qc(e.start+t,e.reader,e.partialOkay)}function rw(e){for(var t=rT(e),n=e.reader.K(),r=0;r<n&&(e.parser.qc(e.start+t,e.reader,e.partialOkay),!e.parser.g);r++);}function r_(e){var t=rT(e);for(e.reader.skip(78);e.reader.ha()&&!e.parser.g;)e.parser.qc(e.start+t,e.reader,e.partialOkay)}function rS(e){return function(t){e(t.reader.Za(t.reader.S.byteLength-t.reader.Z()))}}function rx(e){var t=0;e=v(e);for(var n=e.next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function rE(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function rT(e){return 8+8*!!e.has64BitSize+4*(null!=e.flags)}rg.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:1},(b=ry.prototype).box=function(e,t){return e=rx(e),this.i[e]=rk,this.h[e]=t,this},b.P=function(e,t){return e=rx(e),this.i[e]=rC,this.h[e]=t,this},b.stop=function(){this.g=!0},b.parse=function(e,t,n){for(e=new rg(e,0),this.g=!1;e.ha()&&!this.g;)this.qc(0,e,t,n)},b.qc=function(e,t,n,r){var i=t.Z();if(r&&i+8>t.S.byteLength)this.g=!0;else{var a=t.K(),o=t.K(),s=rE(o),l=!1;switch(a){case 0:a=t.S.byteLength-i;break;case 1:if(r&&t.Z()+8>t.S.byteLength){this.g=!0;return}a=t.$a(),l=!0}var u=this.h[o];if(u){var c=null,d=null;if(this.i[o]==rC){if(r&&t.Z()+4>t.S.byteLength){this.g=!0;return}c=(d=t.K())>>>24,d&=0xffffff}o=i+a,n&&o>t.S.byteLength&&(o=t.S.byteLength),r&&o>t.S.byteLength?this.g=!0:u({name:s,parser:this,partialOkay:n||!1,version:c,flags:d,reader:t=new rg(t=0<(r=o-t.Z())?t.Za(r):new Uint8Array(0),0),size:a,start:i+e,has64BitSize:l})}else t.skip(Math.min(i+a-t.Z(),t.S.byteLength-t.Z()))}},G("shaka.util.Mp4Parser",ry),ry.headerSize=rT,ry.typeToString=rE,ry.allData=rS,ry.visualSampleEntry=r_,ry.sampleDescription=rw,ry.children=rb,ry.prototype.parseNext=ry.prototype.qc,ry.prototype.parse=ry.prototype.parse,ry.prototype.stop=ry.prototype.stop,ry.prototype.fullBox=ry.prototype.P,ry.prototype.box=ry.prototype.box;var rk=0,rC=1;function rA(e){var t=this;this.g=[],this.h=[],this.data=[],new ry().box("moov",rb).box("moof",rb).P("pssh",function(e){if(!(1<e.version)){var n=eL(e.reader.S,-12,e.size);if(t.data.push(n),t.g.push(tM(e.reader.Za(16))),0<e.version){n=e.reader.K();for(var r=0;r<n;r++){var i=tM(e.reader.Za(16));t.h.push(i)}}}}).parse(e)}function rI(e,t,n,r){var i=e.length,a=t.length+16+i;0<r&&(a+=4+16*n.size);var o=new Uint8Array(a),s=ej(o),l=0;if(s.setUint32(l,a),l+=4,s.setUint32(l,0x70737368),l+=4,1>r?s.setUint32(l,0):s.setUint32(l,0x1000000),l+=4,o.set(t,l),l+=t.length,0<r)for(s.setUint32(l,n.size),l+=4,n=(t=v(n)).next();!n.done;n=t.next())n=tI(n.value),o.set(n,l),l+=n.length;return s.setUint32(l,i),o.set(e,l+4),o}function rM(e,t){return 1!=(e=rP(e,t)).length?null:e[0]}function rR(e,t,n){return 1!=(e=rD(e,t,n)).length?null:e[0]}function rP(e,t){var n=[];e=v(e.childNodes);for(var r=e.next();!r.done;r=e.next())(r=r.value)instanceof Element&&r.tagName==t&&n.push(r);return n}function rD(e,t,n){var r=[];e=v(e.childNodes);for(var i=e.next();!i.done;i=e.next())(i=i.value)instanceof Element&&i.localName==n&&i.namespaceURI==t&&r.push(i);return r}function rO(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function rN(e,t,n){t=v(t);for(var r=t.next();!r.done;r=t.next())if(r=r.value,e.hasAttributeNS(r,n))return e.getAttributeNS(r,n);return null}function rL(e){return Array.from(e.childNodes).every(rj)?e.textContent.trim():null}function rj(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}function rU(e,t,n,r){r=void 0===r?null:r;var i=null;return null!=(e=e.getAttribute(t))&&(i=n(e)),null==i?r:i}function rF(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),isNaN(e=Date.parse(e))?null:e/1e3):null}function rB(e){return e&&(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(e))&&isFinite(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null))?e:null}function rz(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t&&isFinite(e=Number(t[1]))&&isFinite(t=Number(t[2]))?{start:e,end:t}:null}function r$(e){return 0===(e=Number(e))%1?e:null}function rH(e){return 0===(e=Number(e))%1&&0<e?e:null}function rV(e){return 0===(e=Number(e))%1&&0<=e?e:null}function rq(e){return isNaN(e=Number(e))?null:e}function rW(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function rK(e,t){var n=new DOMParser,r=rX.value()(e);e=null;try{e=n.parseFromString(r,"text/xml")}catch(e){return null}if(!(n=e.documentElement)||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}function rG(e,t){try{var n=tb(e);return rK(n,t)}catch(e){return null}}var rX=new tn(function(){if("undefined"!=typeof trustedTypes){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(e){return e}});return function(t){return e.createHTML(t)}}return function(e){return e}});function rY(e,t){var n=this;t=void 0===t?1:t,this.D=e,this.G=new Set,this.l=this.u=null,this.da=this.W=!1,this.H=0,this.g=null,this.s=new ru,this.i=new Map,this.B=[],this.o=new tt,this.h=null,this.m=function(t){n.o.reject(t),e.onError(t)},this.ea=new Map,this.ba=new Map,this.O=new ti(function(){var e,t,r;return t=(e=n).ea,void((r=e.ba).clear(),t.forEach(function(e,t){return r.set(t,e)}),(t=Array.from(r.values())).length&&t.every(function(e){return"expired"==e})&&e.m(new eF(2,6,6014)),e.D.cd(rh(r)))}),this.L=!1,this.J=[],this.M=!1,this.ca=new ti(function(){var e;(e=n).i.forEach(function(t,n){var r=t.Vd,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.D.onExpirationUpdated(n.sessionId,i),t.Vd=i)})}).Ca(t),this.o.catch(function(){}),this.j=new rs(function(){var e;return e=n,B(function(t){switch(t.g){case 1:return e.s.release(),e.s=null,e.o.reject(),e.ca.stop(),e.ca=null,e.O.stop(),e.O=null,A(t,r7(e),2);case 2:if(!e.l){t.A(3);break}return M(t,4),A(t,e.l.setMediaKeys(null),6);case 6:P(t,5);break;case 4:D(t);case 5:e.l=null;case 3:e.g=null,e.G.clear(),e.u=null,e.B=[],e.h=null,e.m=function(){},e.D=null,e.V=!1,e.F=null,I(t)}})}),this.V=!1,this.F=null}function rJ(e,t,n){return e.B=n,e.L=0<n.length,rQ(e,t)}function rQ(t,n){var r,i,a,o,s,l,u,c,d;return B(function(f){if(1==f.g){if(r=function(t){if(0==(t=rp(t.h.clearKeys)).size)return null;var n=[],r=[];t.forEach(function(e,t){var i=t;22!=i.length&&(i=tC(tI(t),!1)),22!=(t=e).length&&(t=tC(tI(e),!1)),e={kty:"oct",kid:i,k:t},n.push(e),r.push(e.kid)}),t=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:eL(tS(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:i,keyIds:new Set(r)}}(t))for(a=(i=v(n)).next();!a.done;a=i.next())(o=a.value).video&&(o.video.drmInfos=[r]),o.audio&&(o.audio.drmInfos=[r]);for((s=n.some(function(e){return!!e.video&&!!e.video.drmInfos.length||!!e.audio&&!!e.audio.drmInfos.length}))||function(e,t){var n=[];for(t.forEach(function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),t=(e=v(e)).next();!t.done;t=e.next())(t=t.value).video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}(n,rp(t.h.servers)),a=(l=v(n)).next();!a.done;a=l.next())for(c=(u=v(it(a.value))).next();!c.done;c=u.next())!function(t,n,r,i){var a=t.keySystem;a&&("org.w3.clearkey"!=a||!t.licenseServerUri)&&(n.size&&(t.licenseServerUri=n=n.get(a)||""),t.keyIds||(t.keyIds=new Set),(r=r.get(a))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=r.persistentStateRequired),t.videoRobustness||(t.videoRobustness=r.videoRobustness),t.audioRobustness||(t.audioRobustness=r.audioRobustness),t.serverCertificate||(t.serverCertificate=r.serverCertificate),r.sessionType&&(t.sessionType=r.sessionType),t.serverCertificateUri||(t.serverCertificateUri=r.serverCertificateUri)),i[a]&&(t.keySystem=i[a]),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==a&&(t.keySystem="com.chromecast.playready"))}(c.value,rp(t.h.servers),rp(t.h.advanced||{}),t.h.keySystemsMapping);return A(f,nr(n,t.L,t.V),2)}return s||Object.keys(t.h.servers).length?(d=r5(t,void 0,n),f.return(s?d:d.catch(function(){}))):(t.W=!0,f.return(Promise.resolve()))})}function rZ(e){var t;return B(function(n){switch(n.g){case 1:if(e.l.mediaKeys)return n.return();if(!e.F){n.A(2);break}return A(n,e.F,3);case 3:return rl(e.j),n.return();case 2:return M(n,4),e.F=e.l.setMediaKeys(e.u),A(n,e.F,6);case 6:P(n,5);break;case 4:t=D(n),e.m(new eF(2,6,6003,t.message));case 5:rl(e.j),I(n)}})}function r0(e){var t,n;return B(function(r){switch(r.g){case 1:if(!e.u||!e.g)return r.return();if(!e.g.serverCertificateUri||e.g.serverCertificate&&e.g.serverCertificate.length){r.A(2);break}return t=rt([e.g.serverCertificateUri],e.h.retryParameters),M(r,3),A(r,e.D.kb.request(5,t).promise,5);case 5:n=r.h,e.g.serverCertificate=eL(n.data),P(r,4);break;case 3:throw new eF(2,6,6017,D(r));case 4:if(e.j.g)return r.return();case 2:if(!e.g.serverCertificate||!e.g.serverCertificate.length)return r.return();return M(r,6),A(r,e.u.setServerCertificate(e.g.serverCertificate),8);case 8:P(r,0);break;case 6:throw new eF(2,6,6004,D(r).message)}})}function r1(e){for(var t=(e.g?e.g.initData:[])||[],n=v(t),r=n.next();!r.done;r=n.next())r2(e,(r=r.value).initDataType,r.initData);for(r=(n=v(e.B)).next();!r.done;r=n.next())r6(e,r.value);return t.length||e.B.length||e.o.resolve(),e.o}function r2(e,t,n){if(n.length){var r=e.i.values();r=v(r);for(var i=r.next();!i.done;i=r.next())if(eD(n,i.value.initData)&&!th("Tizen 2"))return;0<e.i.size&&ir(e)&&(e.o.resolve(),e.o=new tt,e.o.catch(function(){})),function(e,t,n,r){try{var i=e.u.createSession(r)}catch(t){e.m(new eF(2,6,6005,t.message));return}e.s.C(i,"message",function(t){e.l&&e.h.delayLicenseRequestUntilPlayed&&e.l.paused&&!e.M?e.J.push(t):r8(e,t)}),e.s.C(i,"keystatuseschange",function(t){return r9(e,t)}),e.i.set(i,{initData:n,initDataType:t,loaded:!1,Vd:1/0,Ja:null,type:r});try{n=e.h.initDataTransform(n,t,e.g)}catch(n){t=n,n instanceof eF||(t=new eF(2,6,6016,n)),e.m(t);return}e.h.logLicenseExchange&&tC(n),i.generateRequest(t,n).catch(function(t){if(!e.j.g){e.i.delete(i);var n=t.errorCode;if(n&&n.systemCode){var r=n.systemCode;0>r&&(r+=0x100000000),r="0x"+r.toString(16)}e.m(new eF(2,6,6006,t.message,t,r))}})}(e,t,n,e.g.sessionType)}}function r3(e){return!!e&&!!e.match(/^com\.(microsoft|chromecast)\.playready/)}function r4(e){return Array.from(e=rf(e=e.i.keys(),function(e){return e.sessionId}))}function r5(e,t,n){var r,i,a,o,s,l,u,c,d,f,p,h,g;return B(function(m){switch(m.g){case 1:var y,b,w,_,S,x,E,T,k,C,I,R,O,N,L,j;if(r=new Map,n.length){i=function(e,t,n){for(var r=v(t),i=r.next();!i.done;i=r.next()){var a=v(it(i.value));for(i=a.next();!i.done;i=a.next())i=i.value,n.has(i.keySystem)||n.set(i.keySystem,[]),n.get(i.keySystem).push(i)}if(1==n.size&&n.has(""))throw new eF(2,6,6e3);for(r={},i=(e=v(e.h.preferredKeySystems)).next();!i.done;r={qd:r.qd},i=e.next())for(r.qd=i.value,i=(a=v(t)).next();!i.done;i=a.next())if(i=i.value.decodingInfos.find(function(e){return function(t){return t.supported&&null!=t.keySystemAccess&&t.keySystemAccess.keySystem==e.qd}}(r)))return i.keySystemAccess;for(i=(e=v([!0,!1])).next();!i.done;i=e.next())for(r=i.value,i=(a=v(t)).next();!i.done;i=a.next()){var o=v(i.value.decodingInfos);for(i=o.next();!i.done;i=o.next()){var s=i.value;if(s.supported&&s.keySystemAccess){var l=v(i=n.get(s.keySystemAccess.keySystem));for(i=l.next();!i.done;i=l.next())if(!!i.value.licenseServerUri==r)return s.keySystemAccess}}}return null}(e,n,r),m.A(2);break}return A(m,(y=e,b=t,B(function(e){switch(e.g){case 1:if(1==b.size&&b.has(""))throw new eF(2,6,6e3);for(S=(_=v(b.values())).next();!S.done;S=_.next())0==(x=S.value).audioCapabilities.length&&delete x.audioCapabilities,0==x.videoCapabilities.length&&delete x.videoCapabilities;T=(E=v(y.h.preferredKeySystems)).next();case 2:if(T.done){e.A(4);break}if(k=T.value,!b.has(k)){e.A(3);break}return C=b.get(k),M(e,6),A(e,navigator.requestMediaKeySystemAccess(k,[C]),8);case 8:return w=e.h,e.return(w);case 6:D(e);case 7:rl(y.j);case 3:T=E.next(),e.A(2);break;case 4:R=(I=v([!0,!1])).next();case 9:if(R.done){e.A(11);break}O=R.value,T=(N=v(b.keys())).next();case 12:if(T.done){R=I.next(),e.A(9);break}if(L=T.value,(j=b.get(L)).drmInfos.some(function(e){return!!e.licenseServerUri})!=O){e.A(13);break}return M(e,15),A(e,navigator.requestMediaKeySystemAccess(L,[j]),17);case 17:return w=e.h,e.return(w);case 15:D(e);case 16:rl(y.j);case 13:T=N.next(),e.A(12);break;case 11:return e.return(w)}})),3);case 3:i=m.h;case 2:if(!(a=i))throw new eF(2,6,6001);for(rl(e.j),M(m,4),e.G.clear(),s=(o=a.getConfiguration()).audioCapabilities||[],l=o.videoCapabilities||[],c=(u=v(s)).next();!c.done;c=u.next())d=c.value,e.G.add(d.contentType.toLowerCase());for(c=(f=v(l)).next();!c.done;c=f.next())p=c.value,e.G.add(p.contentType.toLowerCase());if(n.length){var U=a.keySystem,F=r.get(a.keySystem),z=[],$=[],H=[],V=[],q=new Set;ii(F,z,H,$,V,q);var W=e.L?"persistent-license":"temporary";for(U={keySystem:U,licenseServerUri:z[0],distinctiveIdentifierRequired:F[0].distinctiveIdentifierRequired,persistentStateRequired:F[0].persistentStateRequired,sessionType:F[0].sessionType||W,audioRobustness:F[0].audioRobustness||"",videoRobustness:F[0].videoRobustness||"",serverCertificate:H[0],serverCertificateUri:$[0],initData:V,keyIds:q},z=(F=v(F)).next();!z.done;z=F.next())(z=z.value).distinctiveIdentifierRequired&&(U.distinctiveIdentifierRequired=z.distinctiveIdentifierRequired),z.persistentStateRequired&&(U.persistentStateRequired=z.persistentStateRequired);F=U}else F=a.keySystem,U=t.get(a.keySystem),z=[],$=[],H=[],V=[],q=new Set,ii(U.drmInfos,z,H,$,V,q),F={keySystem:F,licenseServerUri:z[0],distinctiveIdentifierRequired:"required"==U.distinctiveIdentifier,persistentStateRequired:"required"==U.persistentState,sessionType:U.sessionTypes[0]||"temporary",audioRobustness:(U.audioCapabilities?U.audioCapabilities[0].robustness:"")||"",videoRobustness:(U.videoCapabilities?U.videoCapabilities[0].robustness:"")||"",serverCertificate:H[0],serverCertificateUri:$[0],initData:V,keyIds:q};if(e.g=F,!e.g.licenseServerUri)throw new eF(2,6,6012,e.g.keySystem);return A(m,a.createMediaKeys(),6);case 6:return h=m.h,rl(e.j),e.u=h,e.W=!0,A(m,r0(e),7);case 7:rl(e.j),P(m,0);break;case 4:if(g=D(m),rl(e.j,g),e.g=null,e.G.clear(),g instanceof eF)throw g;throw new eF(2,6,6002,g.message)}})}function r6(e,t){var n,r,i,a,o;return B(function(s){switch(s.g){case 1:try{n=e.u.createSession("persistent-license")}catch(t){return r=new eF(2,6,6005,t.message),e.m(r),s.return(Promise.reject(r))}return e.s.C(n,"message",function(t){e.l&&e.h.delayLicenseRequestUntilPlayed&&e.l.paused&&!e.M?e.J.push(t):r8(e,t)}),e.s.C(n,"keystatuseschange",function(t){return r9(e,t)}),i={initData:null,initDataType:null,loaded:!1,Vd:1/0,Ja:null,type:"persistent-license"},e.i.set(n,i),M(s,2),A(s,n.load(t),4);case 4:if(a=s.h,rl(e.j),!a)return e.i.delete(n),e.m(new eF(2,6,6013)),s.return(Promise.resolve());return i.loaded=!0,ir(e)&&e.o.resolve(),s.return(n);case 2:o=D(s),rl(e.j,o),e.i.delete(n),e.m(new eF(2,6,6005,o.message));case 3:return s.return(Promise.resolve())}})}function r8(e,t){var n,r,i,a,o,s,l,u,c,d;B(function(f){switch(f.g){case 1:return n=t.target,e.h.logLicenseExchange&&tC(t.message),r=e.i.get(n),i=e.g.licenseServerUri,a=e.h.advanced[e.g.keySystem],"individualization-request"==t.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(o=rt([i],e.h.retryParameters)).body=t.message,o.method="POST",o.licenseRequestType=t.messageType,o.sessionId=n.sessionId,o.drmInfo=e.g,r&&(o.initData=r.initData,o.initDataType=r.initDataType),r3(e.g.keySystem)&&function(e){var t=tw(e.body,!0,!0);if(t.includes("PlayReadyKeyMessage")){t=rK(t,"PlayReadyKeyMessage");for(var n=v(t.getElementsByTagName("HttpHeader")),r=n.next();!r.done;r=n.next())r=r.value,e.headers[r.getElementsByTagName("name")[0].textContent]=r.getElementsByTagName("value")[0].textContent;e.body=tA(t.getElementsByTagName("Challenge")[0].textContent)}else e.headers["Content-Type"]="text/xml; charset=utf-8"}(o),s=Date.now(),M(f,2),A(f,e.D.kb.request(2,o).promise,4);case 4:l=f.h,P(f,3);break;case 2:return u=new eF(2,6,6007,D(f)),e.m(u),r&&r.Ja&&r.Ja.reject(u),f.return();case 3:if(e.j.g)return f.return();return e.H+=(Date.now()-s)/1e3,e.h.logLicenseExchange&&tC(l.data),M(f,5),A(f,n.update(l.data),7);case 7:P(f,6);break;case 5:return c=new eF(2,6,6008,D(f).message),e.m(c),r&&r.Ja&&r.Ja.reject(c),f.return();case 6:if(e.j.g)return f.return();d=new n1("drmsessionupdate"),e.D.onEvent(d),r&&(r.Ja&&r.Ja.resolve(),new ti(function(){r.loaded=!0,ir(e)&&e.o.resolve()}).N(io)),I(f)}})}function r9(e,t){t=t.target;var n=e.i.get(t),r=!1;t.keyStatuses.forEach(function(t,i){if("string"==typeof i){var a=i;i=t,t=a}if(r3(e.g.keySystem)&&16==i.byteLength&&(ts()||tf())){var o=(a=ej(i)).getUint32(0,!0),s=a.getUint16(4,!0),l=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,l,!1)}"status-pending"!=t&&(n.loaded=!0),"expired"==t&&(r=!0),i=tM(i).slice(0,32),e.ea.set(i,t)});var i=t.expiration-Date.now();(0>i||r&&1e3>i)&&n&&!n.Ja&&(e.i.delete(t),t.close().catch(function(){})),ir(e)&&(e.o.resolve(),e.O.N(is))}function r7(e){var t;return B(function(n){return t=Array.from(e.i.entries()),e.i.clear(),A(n,Promise.all(t.map(function(t){var n=(t=v(t)).next().value,r=t.next().value;return B(function(t){if(1==t.g){var i,a;return M(t,2),e.da||e.B.includes(n.sessionId)||"persistent-license"!==r.type?A(t,(i=n,B(function(e){return 1==e.g?(a=new Promise(function(e,t){new ti(t).N(ia)}),M(e,2),A(e,Promise.race([Promise.all([i.close(),i.closed]),a]),4)):2!=e.g?P(e,0):void(D(e),I(e))})),5):A(t,n.remove(),5)}if(2!=t.g)return P(t,0);D(t),I(t)})})),0)})}function ie(e,t){if(!e.length)return t;if(!t.length)return e;var n=[];e=v(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;for(var i={},a=v(t),o=a.next();!o.done;i={Da:i.Da},o=a.next())if(o=o.value,r.keySystem==o.keySystem){i.Da=[],i.Da=i.Da.concat(r.initData||[]),i.Da=i.Da.concat(o.initData||[]),i.Da=i.Da.filter(function(e){return function(t,n){return void 0===t.keyId||n===e.Da.findIndex(function(e){return e.keyId===t.keyId})}}(i)),a=r.keyIds&&o.keyIds?new Set([].concat(y(r.keyIds),y(o.keyIds))):r.keyIds||o.keyIds,n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||o.persistentStateRequired,videoRobustness:r.videoRobustness||o.videoRobustness,audioRobustness:r.audioRobustness||o.audioRobustness,serverCertificate:r.serverCertificate||o.serverCertificate,serverCertificateUri:r.serverCertificateUri||o.serverCertificateUri,initData:i.Da,keyIds:a});break}}return n}function it(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function ir(e){var t=e=e.i.values(),n=function(e){return e.loaded};t=v(t);for(var r=t.next();!r.done;r=t.next())if(!n(r.value))return!1;return!0}function ii(e,t,n,r,i,a){var o={};e=v(e);for(var s=e.next();!s.done;o={oa:o.oa},s=e.next()){if(o.oa=s.value,t.includes(o.oa.licenseServerUri)||t.push(o.oa.licenseServerUri),r.includes(o.oa.serverCertificateUri)||r.push(o.oa.serverCertificateUri),o.oa.serverCertificate&&(n.some(function(e){return function(t){return eD(t,e.oa.serverCertificate)}}(o))||n.push(o.oa.serverCertificate)),o.oa.initData){s={};for(var l=v(o.oa.initData),u=l.next();!u.done;s={Dc:s.Dc},u=l.next())s.Dc=u.value,i.some(function(e){return function(t){var n=e.Dc;return!!t.keyId&&t.keyId==n.keyId||t.initDataType==n.initDataType&&eD(t.initData,n.initData)}}(s))||i.push(s.Dc)}if(o.oa.keyIds)for(l=(s=v(o.oa.keyIds)).next();!l.done;l=s.next())a.add(l.value)}}(b=rY.prototype).destroy=function(){return this.j.destroy()},b.configure=function(e){this.h=e},b.Yb=function(e){var t,n=this;return B(function(r){if(1==r.g)return n.u?(n.l=e,n.s.ma(n.l,"play",function(){for(var e=v(n.J),t=e.next();!t.done;t=e.next())r8(n,t.value);n.M=!0,n.J=[]}),"webkitCurrentPlaybackTargetIsWireless"in n.l&&n.s.C(n.l,"webkitcurrentplaybacktargetiswirelesschanged",function(){return r7(n)}),(t=n.g?n.g.initData.find(function(e){return 0<e.initData.length}):null)||"com.apple.fps"!==n.g.keySystem||n.B.length?A(r,rZ(n),2):r.A(2)):(n.s.ma(e,"encrypted",function(){n.m(new eF(2,6,6010))}),r.return());r1(n),t||n.B.length||n.h.parseInbandPsshEnabled||n.s.C(n.l,"encrypted",function(e){var t,r;return t=n,r=e,B(function(e){if(1==e.g)return A(e,rZ(t),2);r2(t,r.initDataType,eL(r.initData)),I(e)})}),I(r)})},b.ic=function(){var e=1/0,t=this.i.keys();t=v(t);for(var n=t.next();!n.done;n=t.next())isNaN((n=n.value).expiration)||(e=Math.min(e,n.expiration));return e},b.Qc=function(){return rh(this.ba)};var ia=1,io=5,is=.5,il=new tn(function(){return eN(new Uint8Array([0]))});function iu(){}function ic(e,t,n,r){var i,a,o,s;return B(function(l){if(1==l.g)return r&&(i=ih[r.toLowerCase()])?l.return(i):(a=ip(e))&&(o=ig[a])?l.return(o):r?l.A(2):A(l,id(e,t,n),3);if(2!=l.g&&(r=l.h)&&(s=ih[r]))return l.return(s);throw new eF(2,4,4e3,e)})}function id(e,t,n){var r,i;return B(function(a){return 1==a.g?((r=rt([e],n)).method="HEAD",A(a,t.request(0,r).promise,2)):(i=a.h.headers["content-type"],a.return(i?i.toLowerCase().split(";").shift():""))})}function ip(e){return 1==(e=new ez(e).qa.split("/").pop().split(".")).length?"":e.pop().toLowerCase()}G("shaka.media.ManifestParser",iu),iu.unregisterParserByMime=function(e){delete ih[e]},iu.registerParserByMime=function(e,t){ih[e]=t},iu.registerParserByExtension=function(e,t){ig[e]=t};var ih={},ig={};function im(e,t,n){0!=(t=(e=ej(e,t)).getUint32(0))&&(1==t?(e.setUint32(8,n>>32),e.setUint32(12,0|n)):e.setUint32(0,n))}var iv=new tn(function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])});function iy(e,t,n,r,i){if(r>=i)return null;for(var a=-1,o=-1,s=0;s<n.length;s++)if(n[s].some(function(e){return null!=e&&""!=e.g.trim()})){a=s;break}for(s=n.length-1;0<=s;s--)if(n[s].some(function(e){return null!=e&&""!=e.g.trim()})){o=s;break}if(-1===a||-1===o)return null;for(var l=s=!1,u="white",c="black",d=ib(r,i,s,l,u,c);a<=o;a++){for(var f=n[a],p=-1,h=-1,g=0;g<f.length;g++)if(null!=f[g]&&""!==f[g].g.trim()){p=g;break}for(g=f.length-1;0<=g;g--)if(null!=f[g]&&""!==f[g].g.trim()){h=g;break}if(-1===p||-1===h)f=iw(r,i),e.nestedCues.push(f);else{for(;p<=h;p++)if(g=f[p]){var m=g.l,v=g.i,y=g.j,b=g.h;(m!=s||v!=l||y!=u||b!=c)&&(d.payload&&e.nestedCues.push(d),d=ib(r,i,m,v,y,b),s=m,l=v,u=y,c=b),d.payload+=g.g}else d.payload+=" ";d.payload&&e.nestedCues.push(d),a!==o&&(d=iw(r,i),e.nestedCues.push(d)),d=ib(r,i,s,l,u,c)}}return e.nestedCues.length?{cue:e,stream:t}:null}function ib(e,t,n,r,i,a){return e=new ep(e,t,""),n&&e.textDecoration.push("underline"),r&&(e.fontStyle="italic"),e.color=i,e.backgroundColor=a,e}function iw(e,t){return(e=new ep(e,t,"")).lineBreak=!0,e}function i_(e,t,n,r,i){this.g=e,this.l=t,this.i=n,this.h=r,this.j=i}function iS(e,t){this.i=[],this.g=1,this.h=0,this.u=e,this.s=t,this.j=this.m=!1,this.l="white",this.o="black",iE(this)}function ix(e,t,n){return iy(new ep(t,n,""),"CC"+(e.u<<1|e.s+1),e.i,t,n)}function iE(e){iC(e,0,15),e.g=1}function iT(e,t,n){if(!(32>n||127<n)){var r="";switch(t){case iA:r=iP.has(n)?iP.get(n):String.fromCharCode(n);break;case iI:r=iD.get(n);break;case iM:e.i[e.g].pop(),r=iO.get(n);break;case iR:e.i[e.g].pop(),r=iN.get(n)}r&&e.i[e.g].push(new i_(r,e.m,e.j,e.o,e.l))}}function ik(e,t,n,r){if(!(0>n||0>t))if(t>=n)for(--r;0<=r;r--)e.i[t+r]=e.i[n+r].map(function(e){return e});else for(var i=0;i<r;i++)e.i[t+i]=e.i[n+i].map(function(e){return e})}function iC(e,t,n){for(var r=0;r<=n;r++)e.i[t+r]=[]}var iA=0,iI=1,iM=2,iR=3,iP=new Map([[39,"’"],[42,"\xe1"],[92,"\xe9"],[92,"\xe9"],[94,"\xed"],[95,"\xf3"],[96,"\xfa"],[123,"\xe7"],[124,"\xf7"],[125,"\xd1"],[126,"\xf1"],[127,"█"]]),iD=new Map([[48,"\xae"],[49,"\xb0"],[50,"\xbd"],[51,"\xbf"],[52,"™"],[53,"\xa2"],[54,"\xa3"],[55,"♪"],[56,"\xe0"],[57,"⠀"],[58,"\xe8"],[59,"\xe2"],[60,"\xea"],[61,"\xee"],[62,"\xf4"],[63,"\xfb"]]),iO=new Map([[32,"\xc1"],[33,"\xc9"],[34,"\xd3"],[35,"\xda"],[36,"\xdc"],[37,"\xfc"],[38,"‘"],[39,"\xa1"],[40,"*"],[41,"'"],[42,"─"],[43,"\xa9"],[44,"℠"],[45,"\xb7"],[46,"“"],[47,"”"],[48,"\xc0"],[49,"\xc2"],[50,"\xc7"],[51,"\xc8"],[52,"\xca"],[53,"\xcb"],[54,"\xeb"],[55,"\xce"],[56,"\xcf"],[57,"\xef"],[58,"\xd4"],[59,"\xd9"],[60,"\xf9"],[61,"\xdb"],[62,"\xab"],[63,"\xbb"]]),iN=new Map([[32,"\xc3"],[33,"\xe3"],[34,"\xcd"],[35,"\xcc"],[36,"\xec"],[37,"\xd2"],[38,"\xf2"],[39,"\xd5"],[40,"\xf5"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"\xc4"],[49,"\xe4"],[50,"\xd6"],[51,"\xf6"],[52,"\xdf"],[53,"\xa5"],[54,"\xa4"],[55,"│"],[56,"\xc5"],[57,"\xe5"],[58,"\xd8"],[59,"\xf8"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]);function iL(e,t){this.h=iB,this.o=new iS(e,t),this.i=new iS(e,t),this.l=new iS(e,t),this.g=this.i,this.j=0,this.m=null}function ij(e,t,n){e.g=e.i;var r=e.g,i=null;return e.h!==i$&&e.h!==iH&&(i=ix(r,e.j,n),(n=e.i).g=0<n.h?n.h:0,iC(n,0,15),(n=e.l).g=0<n.h?n.h:0,iC(n,0,15),r.g=15),e.h=i$,r.h=t,i}function iU(e){e.h=iz,e.g=e.l,e.g.h=0}function iF(e){et("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.o,e.h=iH}var iB=0,iz=1,i$=3,iH=4,iV="black green blue cyan red yellow magenta black".split(" "),iq="white green blue cyan red yellow magenta white_italics".split(" ");function iW(){this.l=!1,this.B=this.F=0,this.D=i0,this.i=[],this.g=this.h=this.j=0,this.u=this.o=!1,this.s="white",this.m="black",iK(this)}function iK(e){e.i=[];for(var t=0;16>t;t++)e.i.push(iG())}function iG(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function iX(e,t){iY(e)&&(e.i[e.h][e.g]=new i_(t,e.u,e.o,e.m,e.s),e.g++)}function iY(e){var t=e.g<e.B&&0<=e.g;return e.h<e.F&&0<=e.h&&t}function iJ(e,t,n){var r=new ep(e.j,t,"");return r.textAlign=e.D===iQ?"left":e.D===iZ?"right":eg,(n=iy(r,"svc"+n,e.i,e.j,t))&&(e.j=t),n}iW.prototype.isVisible=function(){return this.l};var iQ=0,iZ=1,i0=2;function i1(){this.i=[],this.h=null,this.g=0}function i2(e){this.g=0,this.h=e}function i3(e){if(!e.ha())throw new eF(2,2,3e3);return e.h[e.g++]}function i4(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function i5(e,t){for(var n=[],r=0;8>r;r++)1===(1&t)&&e.h[r]&&n.push(r),t>>=1;return n}function i6(e,t,n){var r=null;t=v(i5(e,t));for(var i=t.next();!i.done;i=t.next()){i=i.value;var a=e.h[i];a.isVisible()&&(r=iJ(a,n,e.i)),e.h[i]=null}return r}function i8(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function i9(e,t,n){var r={0:0,1:0,2:1,3:1};return e=r[e],t=r[t],ae[e<<2|t<<1|(n=r[n])]}i2.prototype.ha=function(){return this.g<this.h.length},i2.prototype.Z=function(){return this.g},i2.prototype.skip=function(e){if(this.g+e>this.h.length)throw new eF(2,2,3e3);this.g+=e};var i7=new Map([[32," "],[33,"\xa0"],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),ae="black blue green cyan red magenta yellow white".split(" ");function at(){this.h=[],this.g=[],this.i=new i1,this.l=0,this.s=new Map([["CC1",new iL(0,0)],["CC2",new iL(0,1)],["CC3",new iL(1,0)],["CC4",new iL(1,1)]]),this.o=this.m=0,this.j=new Map,an(this)}function an(e){e.m=0,e.o=0,e=v(e.s.values());for(var t=e.next();!t.done;t=e.next())(t=t.value).h=2,t.g=t.i,t.m=null,iE(t.i),iE(t.l),iE(t.o)}function ar(e){for(var t=0;e;)t^=1&e,e>>=1;return 1===t}function ai(){}function aa(e,t){var n=null,r=null,i=null,a=e.K();return 1&t&&(i=e.$a()),2&t&&e.skip(4),8&t&&(n=e.K()),16&t&&(r=e.K()),{trackId:a,Ce:n,xf:r,rh:i}}function ao(e,t){return{we:1==t?e.$a():e.K()}}function as(e,t){return 1==t?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),{timescale:e.K()}}function al(e,t,n){var r=e.K(),i=[],a=null;1&n&&(a=e.K()),4&n&&e.skip(4);for(var o=0;o<r;o++){var s={ee:null,sampleSize:null,ed:null};256&n&&(s.ee=e.K()),512&n&&(s.sampleSize=e.K()),1024&n&&e.skip(4),2048&n&&(s.ed=0==t?e.K():e.Pe()),i.push(s)}return{wh:r,Re:i,wf:a}}function au(){this.j=new Map,this.i=this.h=0,this.g=ac}ai.prototype.init=function(){},ai.prototype.parse=function(){return[]},au.prototype.init=function(e){function t(e){(e=e.name)in ap&&(n.g=ap[e])}var n=this,r=[],i=[];if(new ry().box("moov",rb).box("mvex",rb).P("trex",function(e){var t=e.reader;t.skip(4),t.skip(4),e=t.K(),t=t.K(),n.h=e,n.i=t}).box("trak",rb).P("tkhd",function(e){var t=e.reader;1==e.version?(t.skip(8),t.skip(8)):(t.skip(4),t.skip(4)),e=t.K(),r.push(e)}).box("mdia",rb).P("mdhd",function(e){e=as(e.reader,e.version),i.push(e.timescale)}).box("minf",rb).box("stbl",rb).P("stsd",rw).box("avc1",t).box("avc3",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("encv",r_).box("sinf",rb).box("frma",function(e){(e=rE(e=e.reader.K()))in ap&&(n.g=ap[e])}).parse(e,!0),!r.length||!i.length||r.length!=i.length)throw new eF(2,2,2010);this.g==ac&&ee("Unable to determine bitstream format for CEA parsing!"),r.forEach(function(e,t){n.j.set(e,i[t])})},au.prototype.parse=function(e){var t=this;if(this.g==ac)return[];var n=[],r=this.h,i=this.i,a=[],o=null,s=null,l=null,u=9e4;return new ry().box("moof",function(e){o=e.start,rb(e)}).box("traf",rb).P("trun",function(e){a=(e=al(e.reader,e.version,e.flags)).Re,s=e.wf}).P("tfhd",function(e){r=(e=aa(e.reader,e.flags)).Ce||t.h,i=e.xf||t.i,e=e.trackId,t.j.has(e)&&(u=t.j.get(e))}).P("tfdt",function(e){l=ao(e.reader,e.version).we}).box("mdat",function(e){if(null===l)throw new eF(2,2,2010);e:{var c=e.reader,d=l,f=u,p=r,h=i,g=a,m=0,b=h;for(g.length&&(b=g[0].sampleSize||h),c.skip((o||0)+(s||0)-e.start-8);c.ha();){e=c.K();var w=c.Ra();switch(t.g){case ad:w&=31,w=6==w;break;case af:w=39==(w=w>>1&63)||40==w;break;default:break e}if(w){w=0,g.length>m&&(w=g[m].ed||0),w=(d+w)/f;for(var _,S=[],x=c.Za(e-1),E=_=0;E<x.length;)2==_&&3==x[E]?(_=0,(x=[].concat(y(x))).splice(E,1),x=new Uint8Array(x)):0==x[E]?_++:_=0,E++;for(E=0,_=x;E<_.length;){for(x=0;255==_[E];)x+=255,E++;x+=_[E++];for(var T=0;255==_[E];)T+=255,E++;T+=_[E++],4==x&&S.push(_.subarray(E,E+T)),E+=T}for(_=(S=v(S)).next();!_.done;_=S.next())n.push({ig:_.value,pts:w})}else try{c.skip(e-1)}catch(e){break}0==(b-=e+4)&&(d=g.length>m?d+(g[m].ee||p):d+p,m++,b=g.length>m&&g[m].sampleSize||h)}}}).parse(e,!1),n};var ac=0,ad=1,af=2,ap={avc1:1,avc3:1,hev1:2,hvc1:2,dvh1:2,dvhe:2};function ah(e){this.h=new ai,e.includes("video/mp4")&&(this.h=new au),this.g=new at}function ag(e,t,n,r,i){this.ya=e,this.Ba=t,this.ka=n,this.Od=void 0===r?null:r,this.timescale=i}function am(e,t,n,r,i,a,o,s,l,u,c,d,f,p,h){u=void 0===u?[]:u,p=void 0===p?av:p,this.startTime=e,this.j=this.endTime=t,this.u=n,this.Ba=r,this.ka=i,this.h=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=l,this.i=u,this.tilesLayout=void 0===c?"":c,this.s=void 0===d?null:d,this.g=void 0===f?null:f,this.status=p,this.l=void 0===h?null:h,this.o=null,this.m=0}ah.prototype.init=function(e){this.h.init(e)},ag.prototype.lc=function(){return this.Ba},ag.prototype.hc=function(){return this.ka},G("shaka.media.InitSegmentReference",ag),ag.prototype.getEndByte=ag.prototype.hc,ag.prototype.getStartByte=ag.prototype.lc,(b=am.prototype).ya=function(){return this.u()},b.getStartTime=function(){return this.startTime},b.Ef=function(){return this.endTime},b.lc=function(){return this.Ba},b.hc=function(){return this.ka},b.Vf=function(){return this.tilesLayout},b.Uf=function(){return this.s},b.Eb=function(){return this.status},b.bg=function(){this.status=ay},b.Ye=function(e){this.o=e},b.Sf=function(){return this.o},b.offset=function(e){this.startTime+=e,this.endTime+=e,this.j+=e;for(var t=v(this.i),n=t.next();!n.done;n=t.next())n=n.value,n.startTime+=e,n.endTime+=e,n.j+=e},b.oe=function(e){null==this.g?Z("Sync attempted without sync time!"):.001<=Math.abs(e=this.g-e-this.startTime)&&this.offset(e)},G("shaka.media.SegmentReference",am),am.prototype.syncAgainst=am.prototype.oe,am.prototype.offset=am.prototype.offset,am.prototype.getThumbnailSprite=am.prototype.Sf,am.prototype.setThumbnailSprite=am.prototype.Ye,am.prototype.markAsUnavailable=am.prototype.bg,am.prototype.getStatus=am.prototype.Eb,am.prototype.getTileDuration=am.prototype.Uf,am.prototype.getTilesLayout=am.prototype.Vf,am.prototype.getEndByte=am.prototype.hc,am.prototype.getStartByte=am.prototype.lc,am.prototype.getEndTime=am.prototype.Ef,am.prototype.getStartTime=am.prototype.getStartTime,am.prototype.getUris=am.prototype.ya;var av=0,ay=1;function ab(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:1==e.length&&0>e.start(0)?0:e.length?e.start(0):null}function aw(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function a_(e,t){return!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t>=e.start(0)}function aS(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;var n=0;e=v(ax(e));for(var r=e.next();!r.done;r=e.next()){var i=r.value;r=i.start,(i=i.end)>t&&(n+=i-Math.max(r,t))}return n}function ax(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function aE(){}function aT(e,t){var n=(127&e[t])<<21;return n|=(127&e[t+1])<<14,(n|=(127&e[t+2])<<7)|127&e[t+3]}function ak(e){for(var t=0,n=[];t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9];){var r=aT(e,t+6);for(e[t+5]>>6&1&&(t+=10),t+=10,r=t+r;t+10<r;){var i=e.subarray(t),a=aT(i,4);(a=function(e){var t={key:e.type,description:"",data:""};if("TXXX"===e.type){if(2>e.size||3!==e.data[0])return null;var n=e.data.subarray(1).indexOf(0);if(-1===n)return null;var r=tb(eL(e.data,1,n));return e=tb(eL(e.data,2+n)).replace(/\0*$/,""),t.description=r,t.data=e,t}return"WXXX"===e.type?2>e.size||3!==e.data[0]||-1===(n=e.data.subarray(1).indexOf(0))?null:(r=tb(eL(e.data,1,n)),e=tb(eL(e.data,2+n)).replace(/\0*$/,""),t.description=r,t.data=e,t):"PRIV"===e.type?2>e.size||-1===(r=e.data.indexOf(0))?null:(r=tb(eL(e.data,0,r)),e=eN(e.data.subarray(r.length+1)),t.description=r,t.data=e,t):"T"===e.type[0]?2>e.size||3!==e.data[0]?null:(t.data=e=tb(e.data.subarray(1)).replace(/\0*$/,""),t):"W"===e.type[0]?(t.data=e=tb(e.data).replace(/\0*$/,""),t):e.data?(t.data=eN(e.data),t):null}(i={type:String.fromCharCode(i[0],i[1],i[2],i[3]),size:a,data:i.subarray(10,10+a)}))&&n.push(a),t+=i.size+10}t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]&&(t+=10)}return n}function aC(){this.o=null,this.s=!1,this.l=this.m=null,this.B=[],this.g=this.h=null,this.u=[],this.j=null,this.i=[]}function aA(e){if(1!==(e[0]<<16|e[1]<<8|e[2]))return null;var t={data:new Uint8Array(0),vh:6+(e[4]<<8|e[5]),pts:null,dts:null},n=e[7];return 192&n&&(t.pts=0x20000000*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,t.dts=t.pts,64&n&&(t.dts=0x20000000*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)),t.data=e.subarray(9+e[8]),t}function aI(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return -1}function aM(e,t,n){this.g=null,this.i=-1,this.j=e,this.h=t,this.l=n,"undefined"==typeof libDPIModule&&ee("Could not Find LCEVC Library dependencies on this page"),"undefined"==typeof LcevcDil?ee("Could not Find LCEVC Library on this page"):LcevcDil.SupportObject.SupportStatus||ee(LcevcDil.SupportObject.SupportError),"undefined"!=typeof LcevcDil&&"undefined"!=typeof libDPIModule&&this.h instanceof HTMLCanvasElement&&LcevcDil.SupportObject.SupportStatus&&!this.g&&LcevcDil.SupportObject.webGLSupport(this.h)&&(this.h.classList.remove("shaka-hidden"),this.g=new LcevcDil.LcevcDil(this.j,this.h,this.l))}function aR(e,t){var n=aP;switch(t.mimeType){case"video/webm":n=aD;break;case"video/mp4":n=aO}e.g&&(e.i=t.id,e.g.setLevelSwitching(t.id,!0),e.g.setContainerFormat(n))}am.Status={Hg:0,oh:1,Vg:2},G("shaka.util.Id3Utils",aE),aE.getID3Frames=ak,aC.prototype.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,aI(e)),n=e.length-(e.length+t)%188,r=!1,i=t;i<n;i+=188)if(71===e[i]){var a=!!(64&e[i+1]),o=((31&e[i+1])<<8)+e[i+2];if(1<(48&e[i+3])>>4){var s=i+5+e[i+4];if(s===i+188)continue}else s=i+4;switch(o){case 0:a&&(s+=e[s]+1),this.o=(31&e[s+10])<<8|e[s+11];break;case 17:case 8191:break;case this.o:a&&(s+=e[s]+1),o={audio:-1,video:-1,Ed:-1,audioCodec:"",videoCodec:""};var l=s+3+((15&(a=e)[s+1])<<8|a[s+2])-4;for(s+=12+((15&a[s+10])<<8|a[s+11]);s<l;){var u=(31&a[s+1])<<8|a[s+2];switch(a[s]){case 15:-1===o.audio&&(o.audio=u,o.audioCodec="aac");break;case 21:-1===o.Ed&&(o.Ed=u);break;case 27:-1===o.video&&(o.video=u,o.videoCodec="avc");break;case 3:case 4:-1===o.audio&&(o.audio=u,o.audioCodec="mp3");break;case 36:-1===o.video&&(o.video=u,o.videoCodec="hvc")}s+=((15&a[s+3])<<8|a[s+4])+5}a=o,null==this.l&&(this.l=a.video),null==this.g&&(this.g=a.audio),null==this.j&&(this.j=a.Ed),r&&!this.s&&(r=!1,i=t-188),this.s=!0;break;case this.l:a=e.subarray(s,i+188),null==this.m&&(s=aA(a))&&null!=s.pts&&(this.m=s.pts/9e4),this.B.push(a);break;case this.g:a=e.subarray(s,i+188),null==this.h&&(s=aA(a))&&null!=s.pts&&(this.h=s.pts/9e4),this.u.push(a);break;case this.j:this.i.push(e.subarray(s,i+188));break;default:r=!0}}return this},aC.prototype.getStartTime=function(){return{audio:this.h,video:this.m}},G("shaka.util.TsParser",aC),aM.prototype.release=function(){this.g&&(this.g.close(),this.g=null)},G("shaka.lcevc.Dil",aM),aM.prototype.release=aM.prototype.release;var aP=0,aD=1,aO=2;function aN(e,t,n,r){var i,a,o,s=this;this.j=e,this.F=null,this.m=t,this.h={},this.L={},this.O={},this.g=null,this.H=!1,this.V=n||function(){},this.D=r||null,this.i={},this.u=new ru,this.o={},this.s=null,this.J=new tt,this.l=(i=this,a=this.J,o=new MediaSource,i.u.ma(o,"sourceopen",function(){URL.revokeObjectURL(i.M),a.resolve()}),i.M=aQ(o),i.j.src=i.M,o),this.G=new rs(function(){var e,t,n,r,i,a,o,l;return e=s,B(function(s){if(1==s.g){for(n in t=[],e.i)for(i=(r=e.i[n])[0],e.i[n]=r.slice(0,1),i&&t.push(i.p.catch(e2)),o=(a=v(r.slice(1))).next();!o.done;o=a.next())o.value.p.reject(new eF(2,7,7003,void 0));for(l in e.g&&t.push(e.g.destroy()),e.m&&t.push(e.m.destroy()),e.o)t.push(e.o[l].destroy());return A(s,Promise.all(t),2)}e.u&&(e.u.release(),e.u=null),e.j&&(e.j.removeAttribute("src"),e.j.load(),e.j=null),e.F=null,e.l=null,e.g=null,e.m=null,e.h={},e.o={},e.s=null,e.i={},e.D=null,I(s)})}),this.M="",this.B=!1,this.W=new tt}function aL(e,t,n){e.g||(e.g=new tW(e.m));var r=e.g;e=e.H,"application/cea-608"!=t&&"application/cea-708"!=t&&(r.j=(0,tY[t])(),r.j.setSequenceMode?r.j.setSequenceMode(n):ee('Text parsers should have a "setSequenceMode" method!'),r.u=e)}function aj(e){return!e.l||"ended"==e.l.readyState}function aU(e,t){return t==e9?e.g.g:ab(aB(e,t))}function aF(e,t){return t==e9?e.g.h:aw(aB(e,t))}function aB(e,t){try{return e.h[t].buffered}catch(e){return null}}function az(e,t,n,r,i,a,o){var s,l,u,c,d,f,p,h,g,m,b,w,_,S,x,E,T,k,C,M,R,P;return a=void 0!==a&&a,o=void 0!==o&&o,B(function(D){var O,N,L,j,U,F,z,$,H,V,q,W,K,G;switch(D.g){case 1:if(t!=(s=e7).X){D.A(2);break}if(!e.B){D.A(3);break}return A(D,e.W,4);case 4:l=D.h,e.g.s=l;case 3:return A(D,(O=e.g,N=n,L=r?r.startTime:null,j=r?r.endTime:null,B(function(e){return 1==e.g?A(e,Promise.resolve(),2):O.j&&O.i?null==L||null==j?(O.j.parseInit(eL(N)),e.return()):void(U=O.u?L:O.s,F={periodStart:O.s,segmentStart:L,segmentEnd:j,vttOffset:U},z=O.j.parseMedia(eL(N),F).filter(function(e){return e.startTime>=O.l&&e.startTime<O.m}),O.i.append(z),null==O.g&&(O.g=Math.max(L,O.l)),O.h=Math.min(j,O.m),I(e)):e.return()})),5);case 5:return D.return();case 2:if(u=eL(n),c=e.L[t],e.o[t]&&(c=e.o[t].o),0>aI(u)?a0.includes(c)&&(h=ak(u)).length&&r&&(g={cueTime:r.startTime,data:u,frames:h,dts:r.startTime,pts:r.startTime},e.V([g],0,r.endTime)):(d=new aC().parse(u),f=r.startTime-(d.getStartTime()[t]||0),(p=function(e){for(var t=[],n=new Uint8Array(0),r=e.i.length-1;0<=r;r--){var i=aA(n=tR(e.i[r],n));i&&(t.unshift({cueTime:i.pts?i.pts/9e4:null,data:i.data,frames:ak(i.data),dts:i.dts,pts:i.pts}),n=new Uint8Array(0))}return t}(d)).length&&e.V(p,f,r?r.endTime:null)),!e.o[t]){i&&t==s.va&&(e.g||aL(e,"text/vtt",e.B),e.s||(e.s=new ah(c)),r?(m=function(e,t){t=v(t=e.h.parse(t));for(var n=t.next();!n.done;n=t.next()){var r=n.value,i=eL(r.ig);if(0<i.length&&(n=e.g,r=r.pts,181===(i=new rg(i,0)).Ra()&&49===i.$d()&&0x47413934===i.K()&&3===i.Ra())){var a=i.Ra();if(0!==(64&a)){a&=31,i.skip(1);for(var o=0;o<a;o++){var s=i.Ra(),l=(4&s)>>2,u=i.Ra(),c=i.Ra();l&&(0===(s&=3)||1===s?n.h.push({pts:r,type:s,xa:u,La:c,order:n.h.length}):(n.g.push({pts:r,type:s,value:u,order:n.g.length}),n.g.push({pts:r,type:2,value:c,order:n.g.length})))}}}}return function(e){function t(e,t){return e.pts-t.pts||e.order-t.order}var n,r,i=[];e.h.sort(t),e.g.sort(t);for(var a=v(e.h),o=a.next();!o.done;o=a.next())(o=function(e,t){var n=t.type;if(16===(112&t.xa)){var r=t.xa>>3&1;0===n?e.m=r:e.o=r}if(n=e.s.get("CC"+(n<<1|(n?e.o:e.m)+1)),255===t.xa&&255===t.La||!t.xa&&!t.La||!ar(t.xa)||!ar(t.La))return 45<=++e.l&&an(e),null;if(e.l=0,t.xa&=127,t.La&=127,!t.xa&&!t.La)return null;if(e=null,16===(112&t.xa))e:{if(r=t.xa,e=t.La,n.m===(r<<8|e))n.m=null;else if(n.m=r<<8|e,16===(240&r)&&64===(192&e)){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&r)<<1|e>>5&1];var i=(30&e)>>1;r="white";var a=!1;if(7>i?r=iq[i]:7===i&&(a=!0),e=1===(1&e),n.h!==iH){if(i=n.g,n.h===i$&&t!==i.g){var o=1+t-i.h;ik(i,o,1+i.g-i.h,i.h),iC(i,0,o-1),iC(i,t+1,15-t)}i.g=t,n.g.m=e,n.g.j=a,n.g.l=r,n.g.o="black"}}else if(17===(247&r)&&32===(240&e))n.g.m=!1,n.g.j=!1,n.g.l="white",iT(n.g,iA,32),r=!1,"white_italics"===(t=iq[(14&e)>>1])&&(t="white",r=!0),n.g.m=1===(1&e),n.g.j=r,n.g.l=t;else if(16===(247&r)&&32===(240&e)||23===(247&r)&&45===(255&e))t="black",0===(7&r)&&(t=iV[(14&e)>>1]),n.g.o=t;else if(17===(247&r)&&48===(240&e))iT(n.g,iI,e);else if(18===(246&r)&&32===(224&e))iT(n.g,1&r?iR:iM,e);else if(20===(246&r)&&32===(240&e)){switch(e=t.pts,r=null,t.La){case 32:iU(n);break;case 33:(n=n.g).i[n.g].pop();break;case 37:r=ij(n,2,e);break;case 38:r=ij(n,3,e);break;case 39:r=ij(n,4,e);break;case 40:iT(n.g,iA,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.j=e;break;case 42:iE(n.o),iF(n);break;case 43:iF(n);break;case 44:t=n.i,r=null,n.h!==iH&&(r=ix(t,n.j,e)),iC(t,0,15);break;case 45:t=n.g,n.h!==i$?r=null:(r=ix(t,n.j,e),a=t.g-t.h+1,ik(t,a-1,a,t.h),iC(t,0,a-1),iC(t,t.g,15-t.g),n.j=e);break;case 46:iC(n.l,0,15);break;case 47:t=null,n.h!==iH&&(t=ix(n.i,n.j,e)),r=n.l,n.l=n.i,n.i=r,iU(n),n.j=e,r=t}e=r;break e}e=null}else r=t.La,iT(n.g,iA,t.xa),iT(n.g,iA,r);return e}(e,o.value))&&i.push(o);for(o=(a=v(e.g)).next();!o.done;o=a.next())n=e.i,3===(r=o.value).type?(n.g=2*(63&r.value)-1,n.h=[]):n.h&&(0<n.g&&(n.h.push(r),n.g--),0===n.g&&(n.i.push(new i2(n.h)),n.h=null,n.g=0));for(o=(a=v(e.i.i)).next();!o.done;o=a.next())o=function(e,t){var n=[];try{for(;t.ha();){var r=i3(t).value,i=(224&r)>>5,a=31&r;if(7===i&&0!=a&&(i=63&i3(t).value),0!=i){e.j.has(i)||e.j.set(i,new i4(i));for(var o=e.j.get(i),s=t.Z();t.Z()-s<a;){i=t;var l=i3(i),u=l.value,c=l.pts;if(16===u){var d=i3(i);u=u<<16|d.value}if(0<=u&&31>=u){var f=c;if(o.g){var p=o.g;switch(i=null,u){case 8:!iY(p)||0>=p.g&&0>=p.h||(0>=p.g?(p.g=p.B-1,p.h--):p.g--,p.i[p.h][p.g]=null);break;case 13:if(p.isVisible()&&(i=iJ(p,f,o.i)),p.h+1>=p.F){f=p;for(var h=0,g=1;16>g;g++,h++)f.i[h]=f.i[g];for(g=0;1>g;g++,h++)f.i[h]=iG()}else p.h++;p.g=0;break;case 14:p.isVisible()&&(i=iJ(p,f,o.i)),p.i[p.h]=iG(),p.g=0;break;case 12:p.isVisible()&&(i=iJ(p,f,o.i)),iK(p),(f=p).h=0,f.g=0}var m=i}else m=null}else if(128<=u&&159>=u)m=function(e,t,n,r){if(128<=n&&135>=n)r=7&n,e.h[r]&&(e.g=e.h[r]);else{if(136===n){n=i3(t).value,t=null,n=v(i5(e,n));for(var i=n.next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()&&(t=iJ(i,r,e.i)),iK(i);return t}if(137===n)for(n=(t=v(i5(e,t=i3(t).value))).next();!n.done;n=t.next())(n=e.h[n.value]).isVisible()||(n.j=r),n.l=!0;else{if(138===n){for(n=i3(t).value,t=null,i=(n=v(i5(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()&&(t=iJ(i,r,e.i)),i.l=!1;return t}if(139===n){for(n=i3(t).value,t=null,i=(n=v(i5(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()?t=iJ(i,r,e.i):i.j=r,i.l=!i.l;return t}if(140===n)return i6(e,t=i3(t).value,r);if(143===n)return r=i6(e,255,r),i8(e),r;if(144===n)t.skip(1),r=i3(t).value,e.g&&(e.g.o=0<(128&r),e.g.u=0<(64&r));else if(145===n)r=i3(t).value,n=i3(t).value,t.skip(1),e.g&&(t=i9((48&n)>>4,(12&n)>>2,3&n),e.g.s=i9((48&r)>>4,(12&r)>>2,3&r),e.g.m=t);else if(146===n)r=i3(t).value,t=i3(t).value,e.g&&((e=e.g).h=15&r,e.g=63&t);else if(151===n)t.skip(1),t.skip(1),r=i3(t).value,t.skip(1),e.g&&(e.g.D=3&r);else if(152<=n&&159>=n){if(n=(15&n)-8,!(i=null!==e.h[n])){var a=new iW;a.j=r,e.h[n]=a}r=i3(t).value,i3(t),i3(t),a=i3(t).value;var o=i3(t).value;t=i3(t).value,i&&0===(7&t)||((t=e.h[n]).h=0,t.g=0,t.u=!1,t.o=!1,t.s="white",t.m="black"),(t=e.h[n]).l=0<(32&r),t.F=(15&a)+1,t.B=(63&o)+1,e.g=e.h[n]}}}return null}(o,i,u,c);else{if(4096<=u&&4127>=u)f=255&u,8<=f&&15>=f?i.skip(1):16<=f&&23>=f?i.skip(2):24<=f&&31>=f&&i.skip(3);else if(4224<=u&&4255>=u)f=255&u,128<=f&&135>=f?i.skip(4):136<=f&&143>=f&&i.skip(5);else if(32<=u&&127>=u)i=u,o.g&&(127===i?iX(o.g,"♪"):iX(o.g,String.fromCharCode(i)));else if(160<=u&&255>=u)o.g&&iX(o.g,String.fromCharCode(u));else if(4128<=u&&4223>=u){if(i=255&u,o.g)if(i7.has(i)){var y=i7.get(i);iX(o.g,y)}else iX(o.g,"_")}else 4256<=u&&4351>=u&&o.g&&(160!=(255&u)?iX(o.g,"_"):iX(o.g,"[CC]"));m=null}(i=m)&&n.push(i)}}}}catch(e){if(e instanceof eF&&3e3===e.code)et("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw e}return n}(e,o.value),i.push.apply(i,y(o));return e.i.i=[],e.h=[],e.g=[],i}(e.g)}(e.s,n)).length&&(b=e.h[s.va].timestampOffset,tX(e.g,m,r.startTime,r.endTime,b)):e.s.init(n)),D.A(6);break}return a&&e.o[t].g.resetCaptions(),A(D,($=e.o[t],H=n,$.j=!0,$.h=new tt,$.l=[],$.i=[],H=eL(H),$.g.push(H),$.g.flush(),$.j&&$.h.reject(new eF(2,3,3018)),$.h),7);case 7:w=D.h,e.g||aL(e,"text/vtt",e.B),w.captions&&w.captions.length&&(_=e.h[s.va].timestampOffset,S=function(e){var t=[];e=v(e);for(var n=e.next();!n.done;n=e.next())t.push({stream:(n=n.value).stream,cue:new ep(n.startTime,n.endTime,n.text)});return t}(w.captions),tX(e.g,S,r?r.startTime:null,r?r.endTime:null,_)),n=w.data;case 6:if(V=e,q=n,W=r?r.startTime:null,K=t,G=V.O[K],null==W&&G&&(tu()||tl())&&"mp4"==V.L[K].split(";")[0].split("/")[1]&&(q=function(e){function t(){i=!0}function n(e){a.push(e),rb(e)}e=eL(e);var r,i=!1,a=[],o=[];if(new ry().box("moov",n).box("trak",n).box("mdia",n).box("minf",n).box("stbl",n).P("stsd",function(e){r=e,a.push(e),rw(e)}).P("encv",t).P("enca",t).P("hev1",function(e){o.push({box:e,lb:0x656e6376})}).P("hvc1",function(e){o.push({box:e,lb:0x656e6376})}).P("avc1",function(e){o.push({box:e,lb:0x656e6376})}).P("avc3",function(e){o.push({box:e,lb:0x656e6376})}).P("ac-3",function(e){o.push({box:e,lb:0x656e6361})}).P("ec-3",function(e){o.push({box:e,lb:0x656e6361})}).P("mp4a",function(e){o.push({box:e,lb:0x656e6361})}).parse(e),i)return e;if(0==o.length||!r)throw tM(e),new eF(2,3,3019);o.reverse();for(var s=v(o),l=s.next();!l.done;l=s.next())l=l.value,e=function(e,t,n,r,i){var a=iv.value(),o=e.subarray(n.start,n.start+n.size),s=ej(o),l=new Uint8Array(n.size+a.byteLength);for(l.set(o,0),(o=ej(l)).setUint32(4,i),l.set(a,n.size),i=s.getUint32(4),o.setUint32(n.size+16,i),im(l,0,l.byteLength),i=new Uint8Array(e.byteLength+l.byteLength),n=tl()?n.start:n.start+n.size,a=e.subarray(n),i.set(e.subarray(0,n)),i.set(l,n),i.set(a,n+l.byteLength),r=(e=v(r)).next();!r.done;r=e.next())im(i,(r=r.value).start,r.size+l.byteLength);return l=ej(i,t.start),t=rT(t),e=l.getUint32(t),l.setUint32(t,e+1),i}(e,r,l.box,a,l.lb);return e}(q)),n=q,x=e.h[t],E=aZ,!e.B||x.mode==E||!r){D.A(8);break}if(T=e.l.duration,t!=s.va&&s.va in e.h){D.A(9);break}return k=[x.appendWindowStart,x.appendWindowEnd],x.appendWindowStart=0,x.appendWindowEnd=1/0,C=x.timestampOffset,x.timestampOffset=0,A(D,aG(e,t,function(){return aH(e,t,n)}),10);case 10:return A(D,aG(e,t,function(){return aq(e,t)}),11);case 11:return x.timestampOffset=C,x.appendWindowStart=k[0],x.appendWindowEnd=k[1],M=ab(aB(e,t)),R=(r.startTime||0)-(M||0),e.W.resolve(R),A(D,aG(e,t,function(){return aV(e,t,0,T)}),12);case 12:if(t!=s.va){D.A(9);break}return A(D,aG(e,t,function(){e.j.currentTime-=.001,aK(e,t)}),9);case 9:return x.mode=E,A(D,e.Aa(T),8);case 8:return r&&e.B&&t!=s.X&&(a||o)&&(P=r.startTime,aG(e,t,function(){return aq(e,t)}),aG(e,t,function(){return aW(e,t,P)})),A(D,aG(e,t,function(){aH(e,t,n)}),16);case 16:I(D)}})}function a$(e,t){return B(function(n){return t==e7.X?e.g?A(n,e.g.remove(0,1/0),0):n.return():A(n,aG(e,t,function(){return aV(e,t,0,e.l.duration)}),0)})}function aH(e,t,n){if("video"==t&&e.D){var r=e.D;r.g&&r.g.appendBuffer(n,"video",r.i)}e.h[t].appendBuffer(n)}function aV(e,t,n,r){r<=n?aK(e,t):e.h[t].remove(n,r)}function aq(e,t){var n=e.h[t].appendWindowStart,r=e.h[t].appendWindowEnd;e.h[t].abort(),e.h[t].appendWindowStart=n,e.h[t].appendWindowEnd=r,aK(e,t)}function aW(e,t,n){0>n&&(n+=.001),e.h[t].timestampOffset=n,aK(e,t)}function aK(e,t){var n=e.i[t][0];n&&(n.p.resolve(),aY(e,t))}function aG(e,t,n){return rl(e.G),n={start:n,p:new tt},e.i[t].push(n),1==e.i[t].length&&aJ(e,t),n.p}function aX(e,t){var n,r,i,a,o;return B(function(s){switch(s.g){case 1:for(i in rl(e.G),n=[],r={},e.h)r.Ub=new tt,a={start:function(e){return function(){return e.Ub.resolve()}}(r),p:r.Ub},e.i[i].push(a),n.push(r.Ub),1==e.i[i].length&&a.start(),r={Ub:r.Ub};return M(s,2),A(s,Promise.all(n),4);case 4:P(s,3);break;case 2:throw D(s);case 3:try{t()}catch(e){throw new eF(2,3,3015,e)}finally{for(o in e.h)aY(e,o)}I(s)}})}function aY(e,t){e.i[t].shift(),aJ(e,t)}function aJ(e,t){var n=e.i[t][0];if(n)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new eF(2,3,3017,t)):n.p.reject(new eF(2,3,3015,r)),aY(e,t)}}(b=aN.prototype).destroy=function(){return this.G.destroy()},b.init=function(e,t,n){n=void 0!==n&&n;var r,i,a,o,s,l,u,c,d=this;return B(function(f){if(1==f.g)return r=e7,A(f,d.J,2);for(d.B=n,i={},o=(a=v(e.keys())).next();!o.done;i={na:i.na},o=a.next())i.na=o.value,l=tz((s=e.get(i.na)).mimeType,s.codecs),i.na==r.X?aL(d,l,n):(!t&&es(l)||!tL(l,i.na)||(d.o[i.na]=new tN(l),l=tU(i.na,l)),u=l+d.F.sourceBufferExtraFeatures,c=d.l.addSourceBuffer(u),d.u.C(c,"error",function(e){return function(){d.i[e.na][0].p.reject(new eF(2,3,3014,d.j.error?d.j.error.code:0))}}(i)),d.u.C(c,"updateend",function(e){return function(){return aK(d,e.na)}}(i)),d.h[i.na]=c,d.L[i.na]=l,d.i[i.na]=[],d.O[i.na]=!!s.drmInfos.length);I(f)})},b.configure=function(e){this.F=e},b.Na=function(){var e={total:ax(this.j.buffered),audio:ax(aB(this,"audio")),video:ax(aB(this,"video")),text:[]};if(this.g){var t=this.g.g,n=this.g.h;null!=t&&null!=n&&e.text.push({start:t,end:n})}return e},b.remove=function(e,t,n){var r=this;return B(function(i){return e==e7.X?A(i,r.g.remove(t,n),0):A(i,aG(r,e,function(){return aV(r,e,t,n)}),0)})},b.flush=function(e){var t=this;return B(function(n){return e==e7.X?n.return():A(n,aG(t,e,function(){t.j.currentTime-=.001,aK(t,e)}),0)})},b.endOfStream=function(e){var t=this;return B(function(n){return A(n,aX(t,function(){aj(t)||(e?t.l.endOfStream(e):t.l.endOfStream())}),0)})},b.Aa=function(e){var t=this;return B(function(n){return A(n,aX(t,function(){if(e<t.l.duration)for(var n in t.h){var r={start:function(){},p:new tt};t.i[n].unshift(r)}t.l.duration=e}),0)})},b.getDuration=function(){return this.l.duration};var aQ=e.URL.createObjectURL,aZ="sequence",a0=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function a1(e,t,n){this.i=e,this.m=t,this.o=this.j=1/0,this.g=1,this.h=this.l=null,this.s=0,this.u=!0,this.B=0,this.D=void 0===n||n,this.F=0,this.G=!1}function a2(e,t,n){this.l=n,this.j=e,this.s=a4(e),this.g=e.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.o=0,this.u=t,this.i=function(){}}function a3(e){this.g=e}function a4(e){if(e.g.paused||0==e.g.playbackRate||0==e.g.buffered.length)var t=!1;else e:{t=e.g.currentTime,e=v(ax(e.g.buffered));for(var n=e.next();!n.done;n=e.next())if(!(t<(n=n.value).start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function a5(e,t,n,r,i){var a=this;this.o=i,this.g=e,this.s=t,this.D=n,this.i=new ru,this.m=!1,this.B=e.readyState,this.u=0,this.h=r,this.l=!1,this.i.C(e,"waiting",function(){return a6(a)}),this.j=new ti(function(){a6(a)}).Ca(.25)}function a6(e){if(0!=e.g.readyState){if(e.g.seeking){if(!e.m)return}else e.m=!1;if(!e.g.paused||0==e.g.currentTime&&(e.g.autoplay||0!=e.g.currentTime)){if(e.g.readyState!=e.B&&(e.B=e.g.readyState),!(i=!e.h)){var t,n,r,i=e.h,a=i.j,o=a4(a),s=a.g.currentTime,l=Date.now()/1e3;(i.g!=s||i.s!=o)&&(i.m=l,i.g=s,i.s=o,i.h=!1),(o=(s=l-i.m)>=i.u&&o&&!i.h)&&(i.i(i.g,s),i.h=!0,i.g=a.g.currentTime,i.o++,i.l(new n1("stalldetected"))),i=!o}i&&(i=e.g.currentTime,t=a=e.g.buffered,n=i,r=e.D.gapDetectionThreshold,null==(o=!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0)?null:0<=(t=ax(t).findIndex(function(e,t,i){return e.start>n&&(0==t||i[t-1].end-n<=r)}))?t:null)||0==o&&!e.l||(s=a.start(o))>=e.s.Oa()||.001>s-i||(0!=o&&a.end(o-1),e.g.currentTime=s,e.u++,e.o(new n1("gapjumped"))))}}}function a8(e,t,n,r){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?r():(t=a9.value().get(t),n.ma(e,t,r))}(b=a1.prototype).getDuration=function(){return this.j},b.Kf=function(){return this.g},b.Xe=function(e){this.i=e},b.Aa=function(e){this.j=e},b.Pf=function(){return this.i},b.Ve=function(e){this.s=e},b.yc=function(e){this.u=e},b.me=function(e){this.o=e},b.We=function(e){this.m=e},b.Df=function(){return this.m},b.Ib=function(e){if(0!=e.length){var t=e[0].startTime,n=e[0].endTime;e=v(e);for(var r=e.next();!r.done;r=e.next())t=Math.min(t,(r=r.value).startTime),n=Math.max(n,r.endTime),this.g=Math.max(this.g,r.endTime-r.startTime);this.Td(t),this.h=Math.max(this.h,n),null!=this.i&&this.D&&!this.G&&(this.i=(Date.now()+this.s)/1e3-this.h-this.g)}},b.Md=function(){this.G=!0},b.Td=function(e){this.l=null==this.l?e:Math.min(this.l,e)},b.Sd=function(e){this.g=Math.max(this.g,e)},b.offset=function(e){null!=this.l&&(this.l+=e),null!=this.h&&(this.h+=e)},b.U=function(){return 1/0==this.j&&!this.u},b.jb=function(){return 1/0!=this.j&&!this.u},b.Pa=function(){return Math.max(this.B,this.gb()-this.o)},b.Ze=function(e){this.B=e},b.gb=function(){return this.U()||this.jb()?Math.min(Math.max(0,(Date.now()+this.s)/1e3-this.g-this.i)+this.F,this.j):this.h?Math.min(this.h,this.j):this.j},b.kc=function(e){var t=Math.max(this.l,this.B);return 1/0==this.o?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.gb()-this.o+e,this.Oa()))},b.Db=function(){return this.kc(0)},b.Oa=function(){return Math.max(0,this.gb()-(this.U()||this.jb()?this.m:0))},b.df=function(){return null!=this.i&&(null==this.h||!this.D)},b.Ue=function(e){this.F=e},G("shaka.media.PresentationTimeline",a1),a1.prototype.setAvailabilityTimeOffset=a1.prototype.Ue,a1.prototype.usingPresentationStartTime=a1.prototype.df,a1.prototype.getSeekRangeEnd=a1.prototype.Oa,a1.prototype.getSeekRangeStart=a1.prototype.Db,a1.prototype.getSafeSeekRangeStart=a1.prototype.kc,a1.prototype.getSegmentAvailabilityEnd=a1.prototype.gb,a1.prototype.setUserSeekStart=a1.prototype.Ze,a1.prototype.getSegmentAvailabilityStart=a1.prototype.Pa,a1.prototype.isInProgress=a1.prototype.jb,a1.prototype.isLive=a1.prototype.U,a1.prototype.offset=a1.prototype.offset,a1.prototype.notifyMaxSegmentDuration=a1.prototype.Sd,a1.prototype.notifyMinSegmentStartTime=a1.prototype.Td,a1.prototype.lockStartTime=a1.prototype.Md,a1.prototype.notifySegments=a1.prototype.Ib,a1.prototype.getDelay=a1.prototype.Df,a1.prototype.setDelay=a1.prototype.We,a1.prototype.setSegmentAvailabilityDuration=a1.prototype.me,a1.prototype.setStatic=a1.prototype.yc,a1.prototype.setClockOffset=a1.prototype.Ve,a1.prototype.getPresentationStartTime=a1.prototype.Pf,a1.prototype.setDuration=a1.prototype.Aa,a1.prototype.setPresentationStartTime=a1.prototype.Xe,a1.prototype.getMaxSegmentDuration=a1.prototype.Kf,a1.prototype.getDuration=a1.prototype.getDuration,a2.prototype.release=function(){this.l=this.j=null,this.i=function(){}},a5.prototype.release=function(){this.i&&(this.i.release(),this.i=null),null!=this.j&&(this.j.stop(),this.j=null),this.h&&(this.h.release(),this.h=null),this.g=this.s=this.o=null},a5.prototype.Wd=function(){this.l=!0,a6(this)};var a9=new tn(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function a7(e,t,n){var r=this;this.g=e,this.l=t,this.j=n,this.m=!1,this.h=new ru,this.i=new oi(e),a8(this.g,HTMLMediaElement.HAVE_METADATA,this.h,function(){on(r,r.j)})}function oe(e){return e.m?e.g.currentTime:e.j}function ot(e,t){0<e.g.readyState?oa(e.i,t):a8(e.g,HTMLMediaElement.HAVE_METADATA,e.h,function(){on(e,e.j)})}function on(e,t){.001>Math.abs(e.g.currentTime-t)?or(e):(e.h.ma(e.g,"seeking",function(){or(e)}),oa(e.i,e.g.currentTime&&0!=e.g.currentTime?e.g.currentTime:t))}function or(e){e.m=!0,e.h.C(e.g,"seeking",function(){return e.l()})}function oi(e){var t=this;this.h=e,this.m=10,this.l=this.j=this.i=0,this.g=new ti(function(){0>=t.i||t.h.currentTime!=t.j?t.g.stop():(t.h.currentTime=t.l,t.i--)})}function oa(e,t){e.j=e.h.currentTime,e.l=t,e.i=e.m,e.h.currentTime=t,e.g.Ca(.1)}function oo(e){this.g=e,this.j=!1,this.h=null,this.i=new ru}function os(e,t,n,r,i,a){var o,s,l=this;this.i=e,this.g=t.presentationTimeline,this.B=t.minBufferTime||0,this.l=n,this.u=i,this.s=null,this.o=function(e,t,n){if(!t.stallEnabled)return null;var r=t.stallSkip;return(t=new a2(new a3(e),t.stallThreshold,n)).i=function(){r?e.currentTime+=r:(e.pause(),e.play())},t}(e,n,a),this.j=new a5(e,t.presentationTimeline,n,this.o,a),this.h=new a7(e,function(){e:{var e=l.j;e.m=!0,e.l=!1;var t=oe(l.h);if(.001<Math.abs((e=ou(l,t))-t)&&(t=Date.now()/1e3,!l.s||l.s<t-1)){l.s=t,ot(l.h,e),e=void 0;break e}l.u(),e=void 0}return e},(o=this,null==(s=r)?s=1/0>o.g.getDuration()?o.g.Db():o.g.Oa():0>s&&(s=o.g.Oa()+s),ol(o,oc(o,s)))),this.m=new ti(function(){if(0!=l.i.readyState&&!l.i.paused){var e=oe(l.h),t=l.g.Db(),n=l.g.Oa();3>n-t&&(t=n-3),e<t&&(e=ou(l,e),l.i.currentTime=e)}})}function ol(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function ou(e,t){var n=Math.max(e.B,e.l.rebufferingGoal),r=e.l.safeSeekOffset,i=e.g.Db(),a=e.g.Oa(),o=e.g.getDuration();3>a-i&&(i=a-3);var s=e.g.kc(n),l=e.g.kc(r);return n=e.g.kc(n+r),t>=o?ol(e,t):t>a?a:t<i?a_(e.i.buffered,l)?l:n:t>=s||a_(e.i.buffered,t)?t:n}function oc(e,t){var n=e.g.Db();return t<n?n:t>(e=e.g.Oa())?e:t}function od(e){this.g=e,this.h=null,this.i=0,this.j=!1}function of(e,t,n){return new od([new am(e,e+t,function(){return n},0,null,null,e,e,e+t)])}function op(e,t,n){this.i=e,this.g=t,this.h=n}function oh(){od.call(this,[]),this.l=[]}function og(e){var t=this;this.g=e,this.j=!1,this.i=this.g.Tc(),this.h=new ti(function(){t.g.Me(.25*t.i)})}function om(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{e.g.Tc()!=t&&e.g.le(t);return}catch(e){}e.h.Ca(.25),0!=e.g.Tc()&&e.g.le(0)}function ov(e){var t=this;this.h=e,this.g=new Set,this.i=new ti(function(){oy(t,!1)}).Ca(.25)}function oy(e,t){for(var n=v(e.g),r=n.next();!r.done;r=n.next())r.value.j(e.h.currentTime,t)}function ob(e){n4.call(this),this.g=new Map,this.h=e}function ow(e){n4.call(this);var t=this;this.g=new Set,this.i=e,this.h=new ti(function(){for(var e=t.i(),n=v(t.g),r=n.next();!r.done;r=n.next())(r=r.value).endTime<e.start&&(t.g.delete(r),r=new n1("regionremove",new Map([["region",r]])),t.dispatchEvent(r))}).Ca(2)}function o_(e){n4.call(this);var t=this;this.i=e,this.g=new Map,this.l=[{rb:null,qb:oE,ib:function(e,n){return oS(t,"enter",e,n)}},{rb:ox,qb:oE,ib:function(e,n){return oS(t,"enter",e,n)}},{rb:oT,qb:oE,ib:function(e,n){return oS(t,"enter",e,n)}},{rb:oE,qb:ox,ib:function(e,n){return oS(t,"exit",e,n)}},{rb:oE,qb:oT,ib:function(e,n){return oS(t,"exit",e,n)}},{rb:ox,qb:oT,ib:function(e,n){return oS(t,"skip",e,n)}},{rb:oT,qb:ox,ib:function(e,n){return oS(t,"skip",e,n)}}],this.h=new ru,this.h.C(this.i,"regionremove",function(e){t.g.delete(e.region)})}function oS(e,t,n,r){t=new n1(t,new Map([["region",n],["seeking",r]])),e.dispatchEvent(t)}a7.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.i&&(this.i.release(),this.i=null),this.l=function(){},this.g=null},oi.prototype.release=function(){this.g&&(this.g.stop(),this.g=null),this.h=null},(b=oo.prototype).yd=function(){var e=this;a8(this.g,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,function(){null==e.h||0==e.h?e.j=!0:(e.i.ma(e.g,"seeking",function(){e.j=!0}),e.g.currentTime=Math.max(0,e.g.currentTime+e.h))})},b.release=function(){this.i&&(this.i.release(),this.i=null),this.g=null},b.zd=function(e){this.h=this.j?this.h:e},b.Ic=function(){return(this.j?this.g.currentTime:this.h)||0},b.ue=function(){return 0},b.te=function(){return 0},b.Ne=function(){},(b=os.prototype).yd=function(){this.m.Ca(.25)},b.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.u=function(){}},b.zd=function(e){ot(this.h,e)},b.Ic=function(){var e=oe(this.h);return 0<this.i.readyState&&!this.i.paused?oc(this,e):e},b.ue=function(){return this.o?this.o.o:0},b.te=function(){return this.j.u},b.Ne=function(){this.j.Wd()},(b=od.prototype).release=function(){this.j||(this.g=[],this.h&&this.h.stop(),this.h=null)},b.cg=function(){this.j=!0},b.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var r=this.g[n],i=n<t?this.g[n+1].startTime:r.endTime;if(e>=r.startTime&&e<i)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},b.get=function(e){return 0==this.g.length||0>(e-=this.i)||e>=this.g.length?null:this.g[e]},b.offset=function(e){if(!this.j)for(var t=v(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},b.pc=function(e){if(!this.j&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter(function(e){return Math.round(1e3*e.startTime)/1e3<t}),this.g.push.apply(this.g,y(e))}},b.Hb=function(e,t){var n=this;e=e.filter(function(e){return e.endTime>t&&(0==n.g.length||e.endTime>n.g[0].startTime)}),this.pc(e),this.eb(t)},b.eb=function(e){if(!this.j){var t=this.g.length;this.g=this.g.filter(function(t){return t.endTime>e}),this.i+=t-this.g.length}},b.Wa=function(e,t,n){if(n=void 0!==n&&n,!this.j){for(;this.g.length;)if(this.g[this.g.length-1].startTime>=t)this.g.pop();else break;for(;this.g.length;)if(this.g[0].endTime<=e)this.g.shift(),n||this.i++;else break;0!=this.g.length&&(e=this.g[this.g.length-1],this.g[this.g.length-1]=new am(e.startTime,t,e.u,e.Ba,e.ka,e.h,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.i,e.tilesLayout,e.s,e.g,e.status,e.l))}},b.fd=function(e,t){var n=this;this.j||(this.h&&this.h.stop(),this.h=new ti(function(){var e=t();e?n.g.push.apply(n.g,y(e)):(n.h.stop(),n.h=null)}),this.h.Ca(e))},od.prototype[Symbol.iterator]=function(){return this.Cb(0)},od.prototype.Cb=function(e){var t=this.find(e);if(null==t)return null;t--;var n=this.get(t+1),r=-1;if(n&&0<n.i.length)for(var i=n.i.length-1;0<=i;--i){var a=n.i[i];if(e>=a.startTime&&e<a.endTime){t++,r=i-1;break}}return new op(this,t,r)},G("shaka.media.SegmentIndex",od),od.forSingleSegment=of,od.prototype.getIteratorForTime=od.prototype.Cb,od.prototype.updateEvery=od.prototype.fd,od.prototype.fit=od.prototype.Wa,od.prototype.evict=od.prototype.eb,od.prototype.mergeAndEvict=od.prototype.Hb,od.prototype.offset=od.prototype.offset,od.prototype.get=od.prototype.get,od.prototype.find=od.prototype.find,od.prototype.markImmutable=od.prototype.cg,od.prototype.release=od.prototype.release,op.prototype.vf=function(){return this.g},op.prototype.current=function(){var e=this.i.get(this.g);return e&&0<e.i.length&&e.ya().length&&this.h>=e.i.length&&(this.g++,this.h=0,e=this.i.get(this.g)),e&&0<e.i.length?e.i[this.h]:e},op.prototype.next=function(){var e=this.i.get(this.g);return e&&0<e.i.length?(this.h++,e.ya().length&&this.h==e.i.length&&(this.g++,this.h=0)):(this.g++,this.h=0),{value:e=this.current(),done:!e}},G("shaka.media.SegmentIterator",op),op.prototype.next=op.prototype.next,op.prototype.current=op.prototype.current,op.prototype.currentPosition=op.prototype.vf,E(oh,od),(b=oh.prototype).clone=function(){var e=new oh;return e.l=this.l.slice(),e},b.release=function(){for(var e=v(this.l),t=e.next();!t.done;t=e.next())t.value.release();this.l=[]},b.find=function(e){for(var t=0,n=v(this.l),r=n.next();!r.done;r=n.next()){var i=(r=r.value).find(e);if(null!=i)return i+t;t+=r.i+r.g.length}return null},b.get=function(e){for(var t=0,n=v(this.l),r=n.next();!r.done;r=n.next()){var i=(r=r.value).get(e-t);if(i)return i;t+=r.i+r.g.length}return null},b.offset=function(){},b.pc=function(){},b.eb=function(){},b.Hb=function(){},b.Wa=function(){},b.fd=function(){},G("shaka.media.MetaSegmentIndex",oh),oh.prototype.updateEvery=oh.prototype.fd,oh.prototype.fit=oh.prototype.Wa,oh.prototype.mergeAndEvict=oh.prototype.Hb,oh.prototype.evict=oh.prototype.eb,oh.prototype.merge=oh.prototype.pc,oh.prototype.offset=oh.prototype.offset,oh.prototype.get=oh.prototype.get,oh.prototype.find=oh.prototype.find,oh.prototype.release=oh.prototype.release,og.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},og.prototype.set=function(e){this.i=e,om(this)},og.prototype.Pc=function(){return this.g.Pc()},ov.prototype.release=function(){this.i.stop();for(var e=v(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()},E(ob,n4),ob.prototype.release=function(){this.g.clear(),n4.prototype.release.call(this)},ob.prototype.j=function(e){for(var t=v(this.g.values()),n=t.next();!n.done;n=t.next()){n=n.value;e:{for(var r=n.rc,i=r.length-1;0<=i;i--){var a=r[i];if(a.position<=e){r=a.Od;break e}}r=null}if((i=r)&&(i=!((i=n.Ae)===r||i&&r&&i.bandwidth==r.bandwidth&&i.audioSamplingRate==r.audioSamplingRate&&i.codecs==r.codecs&&i.contentType==r.contentType&&i.frameRate==r.frameRate&&i.height==r.height&&i.mimeType==r.mimeType&&i.channelsCount==r.channelsCount&&i.pixelAspectRatio==r.pixelAspectRatio&&i.width==r.width)),i)e:{if(i=e,a=r.contentType,(a=this.h()[a])&&0<a.length){var o=a[a.length-1].end;if(i>=a[0].start&&i<o){i=!0;break e}}i=!1}i&&(n.Ae=r,JSON.stringify(r),n=new n1("qualitychange",new Map([["quality",r],["position",e]])),this.dispatchEvent(n))}},E(ow,n4),ow.prototype.release=function(){this.g.clear(),this.h.stop(),n4.prototype.release.call(this)},E(o_,n4),o_.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,n4.prototype.release.call(this)},o_.prototype.j=function(e,t){for(var n=v(this.i.g),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),a=e<r.startTime?ox:e>r.endTime?oT:oE;this.g.set(r,a);for(var o=v(this.l),s=o.next();!s.done;s=o.next())(s=s.value).rb==i&&s.qb==a&&s.ib(r,t)}};var ox=1,oE=2,oT=3;function ok(e,t,n,r,i){return e=rt(e,r,i),(0!=t||null!=n)&&(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function oC(e,t){var n=this;this.g=t,this.m=e,this.i=null,this.u=1,this.o=this.l=null,this.D=!1,this.j=new Map,this.B=!1,this.F=null,this.s=!1,this.h=new rs(function(){var e,t,r,i,a;return e=n,B(function(n){if(1==n.g){for(t=[],i=(r=v(e.j.values())).next();!i.done;i=r.next())oU(a=i.value),t.push(oF(a));return A(n,Promise.all(t),2)}e.j.clear(),e.g=null,e.m=null,e.i=null,I(n)})})}function oA(e,t){var n=e.j.get("video");if(n){var r=n.stream;r&&(t?(t=r.trickModeVideo)&&!n.ob&&(oR(e,t,!1,0,!1),n.ob=r):(r=n.ob)&&(n.ob=null,oR(e,r,!0,0,!1)))}}function oI(e,t,n,r,i,a){n=void 0!==n&&n,r=void 0===r?0:r,i=void 0!==i&&i,a=void 0!==a&&a,e.l=t,e.B&&(t.video&&oR(e,t.video,n,r,i,a),t.audio&&oR(e,t.audio,n,r,i,a))}function oM(e,t){e.o=t,e.B&&oR(e,t,!0,0,!1)}function oR(e,t,n,r,i,a){var o,s,l,u,c,d,f,p,h,g,m=e.j.get(t.type);m||t.type!=e9?m&&(m.ob&&(t.trickModeVideo?(m.ob=t,t=t.trickModeVideo):m.ob=null),m.stream!=t||i)&&(t.type==e9&&aL(e.g.R,tz(t.mimeType,t.codecs),e.m.sequenceMode),m.stream.closeSegmentIndex&&m.stream.closeSegmentIndex(),m.stream=t,m.aa=null,m.ve=!!a,n&&(m.ac?m.hd=!0:m.ra?(m.bb=!0,m.Nc=r,m.hd=!0):(oU(m),oL(e,m,!0,r).catch(function(t){e.g&&e.g.onError(t)}))),(o=e,s=m,B(function(e){if(1==e.g)return s.ta?(l=s.stream,u=s.ta,l.segmentIndex?e.A(2):A(e,l.createSegmentIndex(),2)):e.return();if(s.ta!=u||s.stream!=l)return e.return();var t=o.g.Sc(),n=aF(o.g.R,s.type),r=s.stream.segmentIndex.find(s.pa?s.pa.endTime:t),i=null==r?null:s.stream.segmentIndex.get(r);r=i&&i.ka?i.ka-i.Ba:null,i&&!r&&(r=(i.endTime-i.getStartTime())*(s.stream.bandwidth||0)/8),r?((i=i.h)&&(r+=(i.ka?i.ka-i.Ba:null)||0),t=8*r/(i=o.g.getBandwidthEstimate())<(n||0)-t-Math.max(o.m.minBufferTime||0,o.i.rebufferingGoal)||s.ta.h.g>r):t=!1,t&&s.ta.abort(),I(e)})).catch(function(t){e.g&&e.g.onError(t)})):(c=e,d=t,B(function(e){switch(e.g){case 1:return f=e7,M(e,2),A(e,a$(c.g.R,f.X),4);case 4:P(e,3);break;case 2:p=D(e),c.g&&c.g.onError(p);case 3:h=tz(d.mimeType,d.codecs),aL(c.g.R,h,c.m.sequenceMode),(c.g.R.m.isTextVisible()||c.i.alwaysStreamText)&&(g=oP(d),c.j.set(f.X,g),oj(c,g,0)),I(e)}}))}function oP(e){return{stream:e,type:e.type,aa:null,pa:null,Zc:null,Kd:null,Jd:null,Id:null,ob:null,endOfStream:!1,ra:!1,Ka:null,bb:!1,Nc:0,hd:!1,ac:!1,vc:!0,Rd:!1,be:!1,nc:!1,ta:null}}function oD(e,t,n,r,i,a){var o,s,l,u,c,d;return B(function(f){switch(f.g){case 1:var p,h,g,m,v,y;return o=r.closedCaptions&&0<r.closedCaptions.size,l=null!=r.emsgSchemeIdUris&&0<r.emsgSchemeIdUris.length||e.i.dispatchAllEmsgBoxes,u=e.i.parsePrftBox&&!e.D,(l||u)&&(s=new ry),l&&s.P("emsg",function(t){var n=r.emsgSchemeIdUris;if(0===t.version)var a=t.reader.sc(),o=t.reader.sc(),s=t.reader.K(),l=t.reader.K(),u=t.reader.K(),c=t.reader.K(),d=i.startTime+l/s;else s=t.reader.K(),l=(d=t.reader.$a()/s+i.timestampOffset)-i.startTime,u=t.reader.K(),c=t.reader.K(),a=t.reader.sc(),o=t.reader.sc();t=t.reader.Za(t.reader.S.byteLength-t.reader.Z()),(n&&n.includes(a)||e.i.dispatchAllEmsgBoxes)&&("urn:mpeg:dash:event:2012"==a?e.g.gg():"https://aomedia.org/emsg/ID3"==a?(n=ak(t)).length&&i&&e.g.hg([{cueTime:i.startTime,data:t,frames:n,dts:i.startTime,pts:i.startTime}],0,i.endTime):(n=new n1("emsg",n=new Map().set("detail",{startTime:d,endTime:d+u/s,schemeIdUri:a,value:o,timescale:s,presentationTimeDelta:l,eventDuration:u,id:c,messageData:t})),e.g.onEvent(n)))}),u&&s.P("prft",function(t){e:{if(!e.D&&i.h.timescale){t.reader.K();var n=t.reader.K();if(n=1e3*n+t.reader.K()/0x100000000*1e3,0===t.version)var r=t.reader.K();else try{r=t.reader.$a()}catch(t){e.D=!0,r=void 0;break e}t=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+n).getTime(),r=new n1("prft",r=new Map().set("detail",{wallClockTime:t,programStartDate:new Date(t-r/i.h.timescale*1e3)})),e.g.onEvent(r),e.D=!0}r=void 0}return r}),(l||u)&&s.parse(a),A(f,(p=e,h=t,g=n,B(function(e){if(1==e.g)return(m=Math.max(p.i.bufferBehind,p.m.presentationTimeline.g),null==(v=aU(p.g.R,h.type))||.01>=(y=g-v-m))?e.return():A(e,p.g.R.remove(h.type,v,v+y),2);rl(p.h),I(e)})),2);case 2:return rl(e.h),c=t.vc,t.vc=!1,d=t.ve,t.ve=!1,A(f,e.g.xe(t.type,a),3);case 3:return A(f,az(e.g.R,t.type,a,i,o,c,d),4);case 4:rl(e.h),I(f)}})}function oO(e){return e&&e.type==e9&&("application/cea-608"==e.stream.mimeType||"application/cea-708"==e.stream.mimeType)}function oN(e,t,n,r){var i,a,o,s,l;return B(function(u){return 1==u.g?(i=ri,a=ok(n.ya(),n.Ba,n.ka,e.i.retryParameters,r),o=t.stream,e.g.modifySegmentRequest(a,{type:o.type,init:n instanceof ag,duration:n.endTime-n.startTime,mimeType:o.mimeType,codecs:o.codecs,bandwidth:o.bandwidth}),t.ta=s=e.g.kb.request(i,a),A(u,s.promise,2)):(l=u.h,t.ta=null,u.return(l.data))})}function oL(e,t,n,r){var i,a;return B(function(o){return 1==o.g?(t.bb=!1,t.hd=!1,t.Nc=0,t.ac=!0,t.pa=null,t.Zc=null,t.aa=null,r?(i=e.g.Sc(),a=e.g.R.getDuration(),A(o,e.g.R.remove(t.type,i+r,a),3)):A(o,a$(e.g.R,t.type),4)):3!=o.g?(rl(e.h),n?A(o,e.g.R.flush(t.type),3):o.A(3)):void(rl(e.h),t.ac=!1,t.endOfStream=!1,t.ra||t.Ka||oj(e,t,0),I(o))})}function oj(t,n,r){var i=n.type;(i!=e9||t.j.has(i))&&(n.Ka=new tr(function(){var r;return B(function(i){if(1==i.g){var a,o,s,l,u,c,d;return M(i,2),A(i,(a=t,o=n,B(function(t){switch(t.g){case 1:if(rl(a.h),o.ra||null==o.Ka||o.ac)return t.return();if(o.Ka=null,!o.bb){t.A(2);break}return A(t,oL(a,o,o.hd,o.Nc),3);case 3:return t.return();case 2:if(o.stream.segmentIndex){t.A(4);break}return s=o.stream,A(t,o.stream.createSegmentIndex(),5);case 5:if(s!=o.stream)return s.closeSegmentIndex&&s.closeSegmentIndex(),o.ra||o.Ka||oj(a,o,0),t.return();case 4:M(t,6),null!=(l=function(t,n){if(oO(n))return w=t.g.R,_=n.stream.originalId||"",S=aF(w,"video")||0,tG(w.g,_,S),null;n.type==e9&&(x=t.g.R).g&&tG(x.g,"",0);var r,i,a,o,s,l,u,c,d,f,p,h,g,m,y,b,w,_,S,x,E,T,k,C=t.g.Sc(),I=n.pa?n.pa.endTime:C,R=(E=t.g.R,T=n.type,k=C,T==e9?null==(E=E.g).h||E.h<k?0:E.h-Math.max(k,E.g):aS(E=aB(E,T),k)),O=Math.max(t.m.minBufferTime||0,t.i.rebufferingGoal,t.i.bufferingGoal)*t.u,N=t.m.presentationTimeline.getDuration()-I,L=aF(t.g.R,n.type);if(1e-6>N&&L)return n.endOfStream=!0,"video"==n.type&&(t=t.j.get(e9))&&oO(t)&&(t.endOfStream=!0),null;if(n.endOfStream=!1,R>=O)return t.i.updateIntervalSeconds/2;if(!(R=function(e,t,n,r){if(t.aa)return t.aa.current();if(t.pa||r)return n=t.pa?t.pa.endTime:r,t.Rd=!0,t.aa=t.stream.segmentIndex.Cb(n),t.aa&&t.aa.next().value;r=Math.max(n-(e=e.i.inaccurateManifestTolerance),0);var i=null;return e&&(t.aa=t.stream.segmentIndex.Cb(r),i=t.aa&&t.aa.next().value),i||(t.aa=t.stream.segmentIndex.Cb(n),i=t.aa&&t.aa.next().value),i}(t,n,C,L)))return t.i.updateIntervalSeconds;for(O=1/0,L=(N=v(N=Array.from(t.j.values()))).next();!L.done;L=N.next())oO(L=L.value)||L.aa&&!L.aa.current()||(O=Math.min(O,L.pa?L.pa.endTime:C));return I>=O+t.m.presentationTimeline.g?t.i.updateIntervalSeconds:((r=t,i=n,a=C,o=R,B(function(t){var n,v,w,_,S,x,E,T,k,C,I,R,O,N,L,j,U,F;switch(t.g){case 1:if(s=e7,l=i.stream,u=i.aa,i.ra=!0,M(t,2),2==o.Eb())throw new eF(1,1,1011);return A(t,(n=r,v=i,w=o,B(function(e){var t,r,i,a,o;return _=[],S=Math.max(0,w.appendWindowStart-.1),x=w.appendWindowEnd+.01,((E=w.timestampOffset)!=v.Kd||S!=v.Jd||x!=v.Id)&&(T=function(){var e;return B(function(t){if(1==t.g){var r,i,a,o,s,l;return M(t,2),v.Jd=S,v.Id=x,v.Kd=E,A(t,(r=n.g.R,i=v.type,a=E,o=S,s=x,l=n.m.sequenceMode,B(function(e){var t,n,u;return i==e7.X?(l||(r.g.s=a),t=r.g,n=o,u=s,t.l=n,t.m=u,e.return()):A(e,Promise.all([aG(r,i,function(){return aq(r,i)}),l?Promise.resolve():aG(r,i,function(){return aW(r,i,a)}),aG(r,i,function(){r.h[i].appendWindowStart=0,r.h[i].appendWindowEnd=s,r.h[i].appendWindowStart=o,aK(r,i)})]),0)})),4)}if(2!=t.g)return P(t,0);throw e=D(t),v.Jd=null,v.Id=null,v.Kd=null,e})},_.push(T())),t=w.h,r=v.Zc,(t&&r?!(t.lc()==r.lc()&&t.hc()==r.hc()&&ef(t.ya(),r.ya())):t!=r)&&(v.Zc=w.h)&&(k=oN(n,v,w.h),C=function(){var e,t,r;return B(function(i){switch(i.g){case 1:return M(i,2),A(i,k,4);case 4:return e=i.h,rl(n.h),new ry().box("moov",rb).box("trak",rb).box("mdia",rb).P("mdhd",function(e){e=as(e.reader||0,e.version||0),w.h.timescale=e.timescale}).parse(e),t=v.stream.closedCaptions&&0<v.stream.closedCaptions.size,A(i,n.g.xe(v.type,e),5);case 5:return A(i,az(n.g.R,v.type,e,null,t),6);case 6:P(i,0);break;case 2:throw r=D(i),v.Zc=null,r}})},n.g.fg(w.startTime,w.h),_.push(C())),n.m.sequenceMode&&(I=v.pa?v.pa.m:null,w.m!=I||v.Rd)&&(v.Rd=!1,_.push((i=n.g.R,a=v.type,o=w.startTime,B(function(e){return a==e7.X?e.return():(aG(i,a,function(){return aq(i,a)}),A(e,aG(i,a,function(){return aW(i,a,o)}),0))})))),A(e,Promise.all(_),0)})),4);case 4:if(rl(r.h),r.s)return t.return();if(c="video/mp4"==l.mimeType||"audio/mp4"==l.mimeType,d=e.ReadableStream,r.i.lowLatencyMode&&d&&c&&!o.l)return p=new Uint8Array(0),g=h=!1,m=function(e){var t,n,s;return B(function(u){var c,d,f;return h||(g=!0,rl(r.h),r.s)?u.return():(c=p,d=e,(f=new Uint8Array(c.length+d.length)).set(c),f.set(d,c.length),p=f,t=!1,n=0,new ry().box("mdat",function(e){n=e.size+e.start,t=!0}).parse(p,!1,!0),t)?(s=p.subarray(0,n),p=p.subarray(n),A(u,oD(r,i,a,l,o,s),0)):u.A(0)})},A(t,oN(r,i,o,m),11);return A(t,oN(r,i,o),7);case 7:if(f=t.h,rl(r.h),r.s)return t.return();if(!o.l){t.A(8);break}return A(t,(R=f,O=o,N=u,B(function(t){if(1==t.g)return(L=O.l).cryptoKey?t.A(2):A(t,L.fetchKey(),3);if(!(j=L.iv))for(j=eL(new ArrayBuffer(16)),U=L.firstMediaSequenceNumber+N.g,F=j.byteLength-1;0<=F;F--)j[F]=255&U,U>>=8;return t.return(e.crypto.subtle.decrypt({name:"AES-CBC",iv:j},L.cryptoKey,R))})),9);case 9:f=t.h;case 8:return rl(r.h),i.bb?(i.ra=!1,oj(r,i,0),t.return()):A(t,oD(r,i,a,l,o,f),6);case 11:if(y=t.h,g){t.A(6);break}return h=!0,rl(r.h),r.s?t.return():i.bb?(i.ra=!1,oj(r,i,0),t.return()):A(t,oD(r,i,a,l,o,y),6);case 6:if(rl(r.h),r.s)return t.return();i.pa=o,u.next(),i.ra=!1,i.be=!1,JSON.stringify(r.g.R.Na()[i.type]),i.bb||r.g.Wd(o.startTime,o.endTime,i.type),oj(r,i,0),P(t,0);break;case 2:if(b=D(t),rl(r.h,b),r.s)return t.return();if(i.ra=!1,7001==b.code)i.ra=!1,oU(i),oj(r,i,0),t.A(0);else if(i.type==s.X&&r.i.ignoreTextStreamFailures)r.j.delete(s.X),t.A(0);else{if(3017!=b.code)return i.nc=!0,b.severity=2,A(t,oB(r,b),0);(function(e,t,n){if(!Array.from(e.j.values()).some(function(e){return e!=t&&e.be})){var r=Math.round(100*e.u);if(20<r)e.u-=.2;else if(4<r)e.u-=.04;else{t.nc=!0,e.s=!0,e.g.onError(n);return}t.be=!0}oj(e,t,4)})(r,i,b),t.A(0)}}})).catch(function(){}),null)}(a,o))&&(oj(a,o,l),o.nc=!1),P(t,7);break;case 6:return u=D(t),A(t,oB(a,u),8);case 8:return t.return();case 7:if(c=Array.from(a.j.values()),!a.B||!c.every(function(e){return e.endOfStream})){t.A(0);break}return A(t,a.g.R.endOfStream(),10);case 10:rl(a.h),0!=(d=a.g.R.getDuration())&&d<a.m.presentationTimeline.getDuration()&&a.m.presentationTimeline.Aa(d),I(t)}})),4)}if(2!=i.g)return P(i,0);r=D(i),t.g&&t.g.onError(r),I(i)})}).N(r))}function oU(e){null!=e.Ka&&(e.Ka.stop(),e.Ka=null)}function oF(e){return B(function(t){return e.ta?A(t,e.ta.abort(),0):t.A(0)})}function oB(e,t){return B(function(n){if(1==n.g)return A(n,nK(e.F),2);rl(e.h),e.g.onError(t),t.handled||e.i.failureCallback(t),I(n)})}function oz(e,t){var n=ln(),r=this;this.j=t,this.i=e,this.l=n,this.o=null,this.m=[],this.h=this.g=null,this.u=Promise.resolve().then(function(){var e;return e=r,B(function(t){if(e.s.g)t=t.A(0);else{if(0==e.m.length||e.g&&!e.g.hb)var n,r,i,a=!1;else{e.g&&(e.g.Ia.mb(),e.g=null);var o=(a=e.m.shift()).create(e.l);o?(a.Ia.Jb(),e.g={node:o.node,payload:o.payload,hb:o.hb,Ia:a.Ia}):a.Ia.dd(),a=!0}a?a=Promise.resolve():e.g?(n=e,a=B(function(e){switch(e.g){case 1:return n.i=n.j.Mf(n.i,n.l,n.g.node,n.g.payload),M(e,2),n.h=n.j.yf(n.i,n.l,n.g.payload),A(e,n.h.promise,4);case 4:n.h=null,n.i==n.g.node&&(n.g.Ia.bd(),n.g=null),P(e,0);break;case 2:return 7001==(r=D(e)).code?n.g.Ia.mb():n.g.Ia.onError(r),n.g=null,n.h=null,i=n,A(e,n.j.handleError(n.l,r),5);case 5:i.i=e.h,I(e)}})):(e.j.eg(e.i),e.o=new tt,a=e.o),t=A(t,a,1)}return t})}),this.s=new rs(function(){var e,t,n;return e=r,B(function(r){if(1==r.g)return e.h&&e.h.abort(),oH(e),A(r,e.u,2);for(e.g&&e.g.Ia.mb(),n=(t=v(e.m)).next();!n.done;n=t.next())n.value.Ia.mb();e.g=null,e.m=[],e.j=null,I(r)})})}function o$(e,t){var n={Jb:function(){},bd:function(){},mb:function(){},onError:function(){},dd:function(){},uh:function(){}};return e.m.push({create:t,Ia:n}),e.h&&e.h.abort(),oH(e),n}function oH(e){e.o&&(e.o.resolve(),e.o=null)}function oV(e,t){e=v(e);for(var n=e.next();!n.done;n=e.next())if((n=n.value).isContainer)oV(n.nestedCues,t);else{var r=n.clone();r.nestedCues=[],r.payload=function e(t){var n=[],r=700<=t.fontWeight,i="italic"==t.fontStyle,a=t.textDecoration.includes("underline");return r&&n.push("b"),i&&n.push("i"),a&&n.push("u"),r=n.reduce(function(e,t){return e+"<"+t+">"},""),n=n.reduceRight(function(e,t){return e+"</"+t+">"},""),t.lineBreak?"\n":t.nestedCues.length?t.nestedCues.map(e).join(""):r+t.payload+n}(n),t.push(r)}return t}function oq(e){this.g=null;for(var t=v(Array.from(e.textTracks)),n=t.next();!n.done;n=t.next())(n=n.value).mode="disabled","Shaka Player TextTrack"==n.label&&(this.g=n);this.g||(this.g=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.g.mode="hidden"}function oW(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var r=v(Array.from(e.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=n}function oK(){}function oG(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function oX(t,n){var r=this;this.j=!1,this.i=[],this.B=t,this.m=n,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.m.appendChild(this.g),this.u=new ti(function(){oY(r)}).Ca(.25),this.h=new Map,this.s=new ru,this.s.C(document,"fullscreenchange",function(){oY(r,!0)}),this.l=null,"ResizeObserver"in e&&(this.l=new ResizeObserver(function(){oY(r,!0)}),this.l.observe(this.g)),this.o=new Map}function oY(e,t){if(e.g){var n=e.B.currentTime;if(!e.j||(void 0===t?0:t)){t=v(e.o.values());for(var r=t.next();!r.done;r=t.next())oG(r.value);oG(e.g),e.h.clear(),e.o.clear()}if(e.j){t=new Map,r=v(e.h.keys());for(var i=r.next();!i.done;i=r.next())i=i.value,t.set(i,e.h.get(i));!function e(t,n,r,i,a){var o=!1,s=[],l=[];n=v(n);for(var u=n.next();!u.done;u=n.next()){u=u.value,a.push(u);var c=t.h.get(u),d=u.startTime<=i&&u.endTime>i,f=c?c.ef:null;c&&(s.push(c.Bd),c.tc&&s.push(c.tc),d||(o=!0,t.h.delete(u),c=null)),d&&(l.push(u),c?function(e,t){for(;null!=t;){if(t==e.g)return!0;t=t.parentElement}return!1}(t,f)||(o=!0):(function(e,t,n){var r=1<n.length,i=r?"span":"div";t.lineBreak&&(i="br"),r=!r&&0<t.nestedCues.length;var a=document.createElement(i);if("br"!=i&&function(e,t,n,r,i){var a=t.style,o=0==n.nestedCues.length,s=1<r.length;a.whiteSpace="pre-wrap";var l=n.payload.replace(/\s+$/g,function(e){return"\xa0".repeat(e.length)});if(a.webkitTextStrokeColor=n.textStrokeColor,a.webkitTextStrokeWidth=n.textStrokeWidth,a.color=n.color,a.direction=n.direction,a.opacity=n.opacity,a.paddingLeft=oJ(n.linePadding,n,e.m),a.paddingRight=oJ(n.linePadding,n,e.m),a.textShadow=n.textShadow,n.backgroundImage)a.backgroundImage="url('"+n.backgroundImage+"')",a.backgroundRepeat="no-repeat",a.backgroundSize="contain",a.backgroundPosition="center",a.width="100%",a.height="100%";else{if(n.nestedCues.length)var u=t;else u=document.createElement("span"),t.appendChild(u);n.border&&(u.style.border=n.border),i||((t=function(e,t){for(var n=e.length-1;0<=n;n--){var r=t(e[n]);if(r||0===r)return r}return null}(r,function(e){return e.backgroundColor}))?u.style.backgroundColor=t:l&&(u.style.backgroundColor="rgba(0, 0, 0, 0.8)")),l&&(u.textContent=l)}s&&!r[r.length-1].isContainer?a.display="inline":(a.display="flex",a.flexDirection="column",a.alignItems="center",a.justifyContent="before"==n.displayAlign?"flex-start":"center"==n.displayAlign?"center":"flex-end"),o||(a.margin="0"),a.fontFamily=n.fontFamily,a.fontWeight=n.fontWeight.toString(),a.fontStyle=n.fontStyle,a.letterSpacing=n.letterSpacing,a.fontSize=oJ(n.fontSize,n,e.m),null!=n.line&&1==n.lineInterpretation&&(a.position="absolute",n.writingMode==ew?(a.width="100%",n.lineAlign==eS?a.top=n.line+"%":"end"==n.lineAlign&&(a.bottom=100-n.line+"%")):"vertical-lr"==n.writingMode?(a.height="100%",n.lineAlign==eS?a.left=n.line+"%":"end"==n.lineAlign&&(a.right=100-n.line+"%")):(a.height="100%",n.lineAlign==eS?a.right=n.line+"%":"end"==n.lineAlign&&(a.left=100-n.line+"%"))),a.lineHeight=n.lineHeight,null!=n.position&&(n.writingMode==ew?a.paddingLeft=n.position:a.paddingTop=n.position),"line-left"==n.positionAlign?a.cssFloat="left":"line-right"==n.positionAlign&&(a.cssFloat="right"),a.textAlign=n.textAlign,a.textDecoration=n.textDecoration.join(" "),a.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&a.writingMode==n.writingMode||(a.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==ew?a.width=n.size+"%":a.height=n.size+"%")}(e,a,t,n,r),n=null,t.region&&t.region.id)if(i=(n=t.region).id+"_"+n.width+"x"+n.height+(n.heightUnits==eM?"%":"px")+"-"+n.viewportAnchorX+"x"+n.viewportAnchorY+(n.viewportAnchorUnits==eM?"%":"px"),e.o.has(i))n=e.o.get(i);else{var o=document.createElement("span"),s=n.heightUnits==eM?"%":"px",l=n.widthUnits==eM?"%":"px",u=n.viewportAnchorUnits==eM?"%":"px";o.id="shaka-text-region---"+i,o.classList.add("shaka-text-region"),o.style.height=n.height+s,o.style.width=n.width+l,o.style.position="absolute",o.style.top=n.viewportAnchorY+u,o.style.left=n.viewportAnchorX+u,o.style.display="flex",o.style.flexDirection="column",o.style.alignItems="center",o.style.justifyContent="before"==t.displayAlign?"flex-start":"center"==t.displayAlign?"center":"flex-end",e.o.set(i,o),n=o}i=a,r&&((i=document.createElement("span")).classList.add("shaka-text-wrapper"),i.style.backgroundColor=t.backgroundColor,i.style.lineHeight="normal",a.appendChild(i)),e.h.set(t,{Bd:a,ef:i,tc:n})}(t,u,a),f=(c=t.h.get(u)).ef,o=!0)),0<u.nestedCues.length&&f&&e(t,u.nestedCues,f,i,a),a.pop()}if(o){for(a=(i=v(s)).next();!a.done;a=i.next())(a=a.value).parentElement&&a.parentElement.removeChild(a);for(l.sort(function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime}),u=(l=v(l)).next();!u.done;u=l.next())(i=t.h.get(u.value)).tc?(r.appendChild(i.tc),i.tc.appendChild(i.Bd)):r.appendChild(i.Bd)}}(e,e.i,e.g,n,[])}}}function oJ(e,t,n){var r=(r=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(r[1]),unit:r[2]}:null;if(!r)return e;var i=r.value;switch(r.unit){case"%":return i/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*i/t.cellResolution.rows+"px";default:return e}}function oQ(e,t){this.h=e,this.g=t,this.j="",this.o=void 0,this.i=!1,this.m=!0,this.l=!1}function oZ(e,t,n){try{if(e.g.enabled){var r,i,a={d:1e3*n.duration,st:e.h.U()?sn:st};a.ot=(i=(r=n).type,r.init?o9:"video"==i?r.codecs.includes(",")?o8:o6:"audio"==i?o5:"text"==i?"application/mp4"===r.mimeType?se:o7:void 0);var o=a.ot===o6||a.ot===o5||a.ot===o8||a.ot===se;o&&(a.bl=function(e,t){if(!(t=e.h.Na()[t]).length)return NaN;var n=e.h.getCurrentTime();return(e=t.find(function(e){return e.start<=n&&e.end>=n}))?1e3*(e.end-n):NaN}(e,n.type)),n.bandwidth&&(a.br=n.bandwidth/1e3),o&&a.ot!==se&&(a.tb=function(e,t){var n=e.h.Xa();if(!n.length)return NaN;e=n[0],n=v(n);for(var r=n.next();!r.done;r=n.next())"variant"===(r=r.value).type&&r.bandwidth>e.bandwidth&&(e=r);switch(t){case o6:return e.videoBandwidth||NaN;case o5:return e.audioBandwidth||NaN;default:return e.bandwidth}}(e,a.ot)/1e3),o1(e,t,a)}}catch(e){et("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",e)}}function o0(t){return t.j||(t.j=t.g.sessionId||e.crypto.randomUUID()),{v:1,sf:t.o,sid:t.j,cid:t.g.contentId,mtp:t.h.getBandwidthEstimate()/1e3}}function o1(e,t,n){n=void 0===n?{}:n;var r=void 0===r?e.g.useHeaders:r;if(e.g.enabled){Object.assign(n,o0(e)),n.pr=e.h.Rc();var i=n.ot===o6||n.ot===o8;if(e.l&&i&&(n.bs=!0,n.su=!0,e.l=!1),null==n.su&&(n.su=e.m),r)Object.keys(e=function(e){var t=Object.keys(e),n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};t=v(t);for(var o=t.next();!o.done;o=t.next())i[null!=a[o=o.value]?a[o]:1][o]=e[o];for(e=0;e<i.length;e++)(a=o2(i[e]))&&(n["CMCD-"+r[e]]=a);return n}(n)).length&&Object.assign(t.headers,e);else{var a=o2(n);a&&(t.uris=t.uris.map(function(e){return o3(e,a)}))}}}function o2(e){function t(e){return 100*n(e/100)}function n(e){return Math.round(e)}var r=[],i={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(e){return encodeURIComponent(e)},rtp:t,tb:n},a=Object.keys(e||{}).sort();a=v(a);for(var o=a.next();!o.done;o=a.next()){var s,l=e[o=o.value];if(!Number.isNaN(s=l)&&null!=s&&""!==s&&!1!==s&&("v"!==o||1!==l)&&("pr"!=o||1!==l)){var u=i[o];u&&(l=u(l));var c=void 0;c="string"===(u=typeof l)&&"ot"!==o&&"sf"!==o&&"st"!==o?o+"="+JSON.stringify(l):"boolean"===u?o:"symbol"===u?o+"="+l.description:o+"="+l,r.push(c)}}return r.join(",")}function o3(e,t){return!t||e.includes("offline:")?e:((e=new ez(e)).g.set("CMCD",t),e.toString())}(b=oC.prototype).destroy=function(){return this.h.destroy()},b.configure=function(e){this.i=e,this.F=new nW({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0)},b.start=function(){var e=this;return B(function(t){if(1==t.g){var n,r,i,a,o,s,l,u,c,d,f;return A(t,(n=e,B(function(e){if(1==e.g){if(r=e7,!n.l)throw new eF(2,5,5006);return i=new Map,a=new Set,n.l.audio&&(i.set(r.Hc,n.l.audio),a.add(n.l.audio)),n.l.video&&(i.set(r.va,n.l.video),a.add(n.l.video)),n.o&&(i.set(r.X,n.o),a.add(n.o)),o=n.g.R,s=n.i.forceTransmux,A(e,o.init(i,s,n.m.sequenceMode),2)}for(rl(n.h),n.updateDuration(),u=(l=v(i.keys())).next();!u.done;u=l.next())c=u.value,d=i.get(c),n.j.has(c)||(f=oP(d),n.j.set(c,f),oj(n,f,0));I(e)})),2)}rl(e.h),e.B=!0,I(t)})},b.vc=function(){if(this.g)for(var e=this.g.Sc(),t=v(this.j.keys()),n=t.next();!n.done;n=t.next()){var r=n.value;(n=this.j.get(r)).aa=null;var i=this.g.R;if(!(i=r==e9?null!=(i=i.g).g&&null!=i.h&&e>=i.g&&e<i.h:a_(i=aB(i,r),e))){if((null!=aF(this.g.R,r)||n.ra)&&function(e,t){t.ac||t.bb||(t.ra?(t.bb=!0,t.Nc=0):null==aU(e.g.R,t.type)?null==t.Ka&&oj(e,t,0):(oU(t),oL(e,t,!1,0).catch(function(t){e.g&&e.g.onError(t)})))}(this,n),n.ta&&(n.ta.abort(),n.ta=null),r===e9&&(r=this.g.R).s)for((r=r.s.g).l=0,r.h=[],r.g=[],(i=r.i).i=[],i.h=[],i.g=0,an(r),i=(r=v(r.j.values())).next();!i.done;i=r.next())i8(i.value);n.vc=!0}}},b.updateDuration=function(){var e=this.m.presentationTimeline.getDuration();1/0>e?this.g.R.Aa(e):this.g.R.Aa(0x100000000)},oz.prototype.destroy=function(){return this.s.destroy()},(b=oq.prototype).remove=function(e,t){return!!this.g&&(oW(this.g,function(n){return n.startTime<t&&n.endTime>e}),!0)},b.append=function(e){var t=oV(e,[]),n=[];e=this.g.cues?Array.from(this.g.cues):[];var r={};t=v(t);for(var i=t.next();!i.done;r={sb:r.sb},i=t.next())r.sb=i.value,e.some(function(e){return function(t){return t.startTime==e.sb.startTime&&t.endTime==e.sb.endTime&&t.text==e.sb.payload}}(r))||(i=function(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,e.size&&(t.size=e.size);try{t.align=e.textAlign}catch(e){}return"center"==e.textAlign&&"center"!=t.align&&(t.align="middle"),"vertical-lr"==e.writingMode?t.vertical="lr":"vertical-rl"==e.writingMode&&(t.vertical="rl"),1==e.lineInterpretation&&(t.snapToLines=!1),null!=e.line&&(t.line=e.line),null!=e.position&&(t.position=e.position),t}(r.sb))&&n.push(i);for(r=(e=v(e=n.slice().sort(function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?n.indexOf(t)-n.indexOf(e):n.indexOf(e)-n.indexOf(t)}))).next();!r.done;r=e.next())this.g.addCue(r.value)},b.destroy=function(){return this.g&&(oW(this.g,function(){return!0}),this.g.mode="disabled"),this.g=null,Promise.resolve()},b.isTextVisible=function(){return"showing"==this.g.mode},b.setTextVisibility=function(e){this.g.mode=e?"showing":"hidden"},G("shaka.text.SimpleTextDisplayer",oq),oq.prototype.setTextVisibility=oq.prototype.setTextVisibility,oq.prototype.isTextVisible=oq.prototype.isTextVisible,oq.prototype.destroy=oq.prototype.destroy,oq.prototype.append=oq.prototype.append,oq.prototype.remove=oq.prototype.remove,G("shaka.util.Dom",oK),oK.removeAllChildren=oG,(b=oX.prototype).append=function(e){var t=[].concat(y(this.i)),n={};e=v(e);for(var r=e.next();!r.done;n={Cc:n.Cc},r=e.next())n.Cc=r.value,t.some(function(e){return function(t){return function e(t,n){if(t.startTime!=n.startTime||t.endTime!=n.endTime||t.payload!=n.payload)return!1;for(var r in t)if("startTime"!=r&&"endTime"!=r&&"payload"!=r){if("nestedCues"==r){if(!ef(t.nestedCues,n.nestedCues,e))return!1}else if("region"==r||"cellResolution"==r){for(var i in t[r])if(t[r][i]!=n[r][i])return!1}else if(Array.isArray(t[r])){if(!ef(t[r],n[r]))return!1}else if(t[r]!=n[r])return!1}return!0}(t,e.Cc)}}(n))||this.i.push(n.Cc);oY(this)},b.destroy=function(){this.m.removeChild(this.g),this.g=null,this.j=!1,this.i=[],this.u&&this.u.stop(),this.h.clear(),this.s&&(this.s.release(),this.s=null),this.l&&(this.l.disconnect(),this.l=null)},b.remove=function(e,t){if(!this.g)return!1;var n=this.i.length;return this.i=this.i.filter(function(n){return n.startTime<e||n.endTime>=t}),oY(this,n>this.i.length),!0},b.isTextVisible=function(){return this.j},b.setTextVisibility=function(e){this.j=e},G("shaka.text.UITextDisplayer",oX),oX.prototype.setTextVisibility=oX.prototype.setTextVisibility,oX.prototype.isTextVisible=oX.prototype.isTextVisible,oX.prototype.remove=oX.prototype.remove,oX.prototype.destroy=oX.prototype.destroy,oX.prototype.append=oX.prototype.append,G("shaka.text.WebVttGenerator",function(){});var o4="m",o5="a",o6="v",o8="av",o9="i",o7="c",se="tt",st="v",sn="l";function sr(){}function si(e,t,n,r,i){var a,o=i in r,s=!0;for(a in t){var l=i+"."+a,u=o?r[i]:n[a];o||a in n?void 0===t[a]?void 0===u||o?delete e[a]:e[a]=n5(u):u.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=n5(u)),l=si(e[a],t[a],u,r,l),s=s&&l):typeof t[a]!=typeof u||null==t[a]||"function"!=typeof t[a]&&t[a].constructor!=u.constructor?(Z("Invalid config, wrong type for "+l),s=!1):("function"==typeof n[a]&&n[a].length!=t[a].length&&ee("Unexpected number of arguments for "+l),e[a]=t[a]):(Z("Invalid config, unrecognized key "+l),s=!1)}return s}function sa(e,t){for(var n={},r=n,i=0,a=0;!(0>(i=e.indexOf(".",i)));)(0==i||"\\"!=e[i-1])&&(r[a=e.substring(a,i).replace(/\\\./g,".")]={},r=r[a],a=i+1),i+=1;return r[e.substring(a).replace(/\\\./g,".")]=t,n}function so(){}function ss(e){return new ez(e=t_(e)).Ha}function sl(e,t,n){function r(e){ej(a).setUint32(o,e.byteLength,!0),o+=4,a.set(eL(e),o),o+=e.byteLength}if(!n||!n.byteLength)throw new eF(2,6,6015);var i="string"==typeof t?tx(t,!0):t,a=new Uint8Array(12+(e=tx(e=t_(e),!0)).byteLength+i.byteLength+n.byteLength),o=0;return r(e),r(i),r(n),a}function su(){}function sc(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var t={retryParameters:nG(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:function(e,t,n){return"com.apple.fps.1_0"==n.keySystem&&"skd"==t&&(t=n.serverCertificate,n=ss(e),e=sl(e,n,t)),e},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:tl()},n={retryParameters:nG(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},manifestPreprocessor:function(e){var t,n;return t=[e],n=e,t&&n},sequenceMode:!1},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',useSafariBehaviorForLive:!0,liveSegmentsDelay:3}},r={retryParameters:nG(),failureCallback:function(e){},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,durationBackoff:1,forceTransmux:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1,maxDisabledTime:30,parsePrftBox:!1};(th("Web0S")||tu()||th("CrKey"))&&(r.stallSkip=0);var i={trackSelectionCallback:function(e){return B(function(t){return t.return(e)})},downloadSizeCallback:function(e){var t;return B(function(n){return 1==n.g?navigator.storage&&navigator.storage.estimate?A(n,navigator.storage.estimate(),3):n.return(!0):(t=n.h,n.return(t.usage+e<.95*t.quota))})},progressCallback:function(e,t){},usePersistentLicense:!0,numberOfParallelDownloads:5},a={drm:t,manifest:n,streaming:r,mediaSource:{sourceBufferExtraFeatures:""},offline:i,abrFactory:function(){return new nC},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1},autoShowText:3,preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",useHeaders:!1},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1}};return i.trackSelectionCallback=function(e){return B(function(t){return t.return(function(e,t){var n=e.filter(function(e){return"variant"==e.type}),r=[],i=t5(t,n.map(function(e){return e.language}));i&&(r=n.filter(function(e){return t1(e.language)==i})),0==r.length&&(r=n.filter(function(e){return e.primary})),0==r.length&&(n.map(function(e){return e.language}),r=n);var a=r.filter(function(e){return e.height&&480>=e.height});for(a.length&&(a.sort(function(e,t){return t.height-e.height}),r=a.filter(function(e){return e.height==a[0].height})),t=[],r.length&&(n=Math.floor(r.length/2),r.sort(function(e,t){return e.bandwidth-t.bandwidth}),t.push(r[n])),r=(e=v(e)).next();!r.done;r=e.next())(r=r.value).type!=e9&&"image"!=r.type||t.push(r);return t}(e,a.preferredAudioLanguage))})},a}function sd(e,t,n){var r={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:""}};return si(e,t,n||sc(),r,"")}function sf(){this.g=null,this.h=[]}function sp(e,t){if(null==e.g)e.g={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.g.duration=n-e.g.timestamp,e.g.state!=t&&(e.h.push(e.g),e.g={timestamp:n,state:t,duration:0})}}function sh(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration),e=v(e.h);for(var r=e.next();!r.done;r=e.next())n+=(r=r.value).state==t?r.duration:0;return n}function sg(){this.i=this.h=null,this.g=[]}function sm(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function sv(){this.u=this.B=this.G=this.D=this.s=this.j=this.F=this.m=this.i=this.M=this.O=this.H=this.J=this.L=this.l=this.o=NaN,this.g=new sf,this.h=new sg}function sy(t,n){n4.call(this);var r,i=this;this.l=la,this.Uc=this.g=null,this.ca=!1,this.Xc=new ru,this.Xb=new ru,this.s=new ru,this.Nb=this.i=this.Yc=this.J=this.j=this.ua=this.L=this.cf=this.V=this.Fa=this.M=this.Vc=this.H=this.xb=this.B=this.G=this.m=this.D=null,this.dc=!1,this.Nd=this.u=null,this.Yd=1e9,this.h=sN(this),this.ec={width:1/0,height:1/0},this.o=null,this.ub=new nz(this.h.preferredAudioLanguage,this.h.preferredVariantRole,this.h.preferredAudioChannelCount),this.vb=this.h.preferredTextLanguage,this.cc=this.h.preferredTextRole,this.$b=this.h.preferForcedSubs,this.Zb=[],this.fc=null,n&&n(this),this.D=(r=this,new n7(function(e,t){r.u&&r.u.segmentDownloaded(e,t)},function(e,t,n){e=new Map().set("headers",e).set("request",t).set("requestType",n),r.dispatchEvent(sw("downloadheadersreceived",e))},function(e,t,n,i){e=new Map().set("request",e).set("error",t).set("httpResponseCode",n).set("aborted",i),r.dispatchEvent(sw("downloadfailed",e))})),this.D.je(this.h.streaming.forceHTTPS),this.F=null,lc&&(this.F=lc()),this.Xc.C(e,"online",function(){i.ce()}),this.O={name:"detach"},this.W={name:"attach"},this.ea={name:"unload"},this.Zd={name:"manifest-parser"},this.Xd={name:"manifest"},this.wb={name:"media-source"},this.Qd={name:"drm-engine"},this.ba={name:"load"},this.de={name:"src-equals-drm-engine"},this.yb={name:"src-equals"};var a=new Map;a.set(this.W,function(e,t){var n,r,a;return nZ((n=i,r=e,a=t,null==r.mediaElement&&(r.mediaElement=a.mediaElement,n.Xb.C(r.mediaElement,"error",function(){var e=s1(n);e&&sZ(n,e)})),n.g=r.mediaElement,Promise.resolve()))}),a.set(this.O,function(e){return e.mediaElement&&(i.Xb.nb(),e.mediaElement=null),i.F&&i.F.release(),i.g=null,nZ(e=Promise.resolve())}),a.set(this.ea,function(e){return nZ(s_(i,e))}),a.set(this.wb,function(e){var t,n,r,a,o,s;return nZ((t=i,n=e,e=B(function(e){if(1==e.g){var i,l,u,c;return a=(r=t.h.textDisplayFactory)(),t.Ud=r,(i=n.mediaElement,l=a,u=function(e,n,r){sS(t,e,n,r)},c=t.L,o=new aN(i,l,u,c)).configure(t.h.mediaSource),s=t.h.manifest.segmentRelativeVttTiming,o.H=s,A(e,o.J,2)}t.G=o,I(e)})))}),a.set(this.Zd,function(e,t){var n,r,a,o,s,l,u;return nZ((n=i,r=e,a=t,e=B(function(e){if(1==e.g)return r.mimeType=a.mimeType,r.uri=a.uri,o=r.uri,s=n.D,n.Nb=o,l=n,A(e,ic(o,s,n.h.manifest.retryParameters,r.mimeType),2);l.Yc=e.h,n.J=n.Yc(),u=n5(n.h.manifest),a.mediaElement&&"AUDIO"===a.mediaElement.nodeName&&(u.disableVideo=!0),n.J.configure(u),I(e)})))}),a.set(this.Xd,function(e){var t,n,r,a,o,s,l,u;return t=i,s=(n=e).uri,n=t.D,t.Fa=new ow(function(){return t.uc()}),t.Fa.addEventListener("regionadd",function(e){s0(t,"timelineregionadded",e=e.region),t.F&&t.F.onDashTimedMetadata(e)}),t.ua=null,t.h.streaming.observeQualityChanges&&(t.ua=new ob(function(){return t.Na()}),t.ua.addEventListener("qualitychange",function(e){var n=e.quality;e=e.position,n=new Map().set("mediaQuality",{bandwidth:n.bandwidth,audioSamplingRate:n.audioSamplingRate,codecs:n.codecs,contentType:n.contentType,frameRate:n.frameRate,height:n.height,mimeType:n.mimeType,channelsCount:n.channelsCount,pixelAspectRatio:n.pixelAspectRatio,width:n.width}).set("position",e),t.dispatchEvent(sw("mediaqualitychanged",n))})),l={networkingEngine:n,modifyManifestRequest:function(e,n){var r=t.V;try{r.g.enabled&&(r.o=n.format,o1(r,e,{ot:o4,su:!r.i}))}catch(e){et("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",e)}},modifySegmentRequest:function(e,n){oZ(t.V,e,n)},filter:function(e){return sL(t,e)},makeTextStreamsForClosedCaptions:function(e){return function(e,t){for(var n=new Set,r=v(t.textStreams),i=r.next();!i.done;i=r.next())"application/cea-608"!=(i=i.value).mimeType&&"application/cea-708"!=i.mimeType||n.add(i.originalId);for(i=(r=v(t.variants)).next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions){for(var a=v(i.closedCaptions.keys()),o=a.next();!o.done;o=a.next())if(o=o.value,!n.has(o)){var s=o.startsWith("CC")?"application/cea-608":"application/cea-708",l=new oh;s={id:e.Yd++,originalId:o,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:l,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:i.closedCaptions.get(o),label:null,type:e9,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},t.textStreams.push(s),n.add(o)}}}(t,e)},onTimelineRegionAdded:function(e){var n=t.Fa;e:{for(var r=v(n.g),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==e.schemeIdUri&&i.id==e.id&&i.startTime==e.startTime&&i.endTime==e.endTime){r=i;break e}r=null}null==r&&(n.g.add(e),e=new n1("regionadd",new Map([["region",e]])),n.dispatchEvent(e))},onEvent:function(e){return t.dispatchEvent(e)},onError:function(e){return sZ(t,e)},isLowLatencyMode:function(){return t.h.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return t.h.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){t.configure("streaming.lowLatencyMode",!0)},updateDuration:function(){t.j&&t.j.updateDuration()},newDrmInfo:function(e){var n=t.m?t.m.g:null;n&&t.m.u&&sU(t,n.keySystem,e)}},u=Date.now()/1e3,new nX(B(function(e){if(1==e.g)return r=t,A(e,t.J.start(s,l),2);if(r.i=e.h,a=sw("manifestparsed"),t.dispatchEvent(a),0==t.i.variants.length)throw new eF(2,4,4036);(function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))})(t.i),o=Date.now()/1e3-u,t.o.F=o,I(e)}),function(){return t.J.stop()})}),a.set(this.Qd,function(e){var t,n,r,a;return nZ((t=i,n=e,e=B(function(e){return 1==e.g?(r=Date.now()/1e3,a=!0,t.m=sT(t,{kb:t.D,onError:function(e){sZ(t,e)},cd:function(e){s2(t,e)},onExpirationUpdated:function(e,n){s3(t,e,n)},onEvent:function(e){t.dispatchEvent(e),"drmsessionupdate"==e.type&&a&&(a=!1,t.o.j=Date.now()/1e3-r,t.L&&(e=t.L).g&&e.h.classList.add("shaka-hidden"))}}),t.m.configure(t.h.drm),A(e,rJ(t.m,t.i.variants,t.i.offlineSessionIds),2)):3!=e.g?A(e,t.m.Yb(n.mediaElement),3):A(e,sL(t,t.i),0)})))}),a.set(this.ba,function(e,t){var n,r,a,o,s,l,u,c,d,f,p,h,g,m,y,b,w,_;return nZ((n=i,r=e,a=t,B(function(e){switch(e.g){case 1:r.startTime=a.startTime,null!=n.fc&&(r.startTime=n.fc,n.fc=null),o=r.mediaElement,n.Nb=r.uri,n.H=new og({Tc:function(){return o.playbackRate},Pc:function(){return o.defaultPlaybackRate},le:function(e){o.playbackRate=e},Me:function(e){o.currentTime+=e}}),s=function(){return sz(n)},l=function(){return sB(n)},n.s.C(o,"playing",s),n.s.C(o,"pause",s),n.s.C(o,"ended",s),n.s.C(o,"ratechange",l);var t,i,S,x,E,T,k,C,M,R,P,D,O,N=n,L=n.h;if(L.lcevc.enabled){var j=N.Xa();j&&j[0]&&j[0].videoMimeType==ld.ts&&(ts()||navigator.userAgent.match(/Edge\//))&&(L.streaming.forceTransmux||ee("LCEVC Warning: For MPEG-2 TS decoding the config.streaming.forceTransmux must be enabled.")),sb(N),null==N.L&&(N.L=new aM(N.g,N.cf,L.lcevc),N.G&&(N.G.D=N.L))}else sb(N);for(u=n.h.abrFactory,n.u&&n.Nd==u||(n.Nd=u,n.u=u(),"function"!=typeof n.u.setMediaElement&&(nP("AbrManager","Please use an AbrManager with setMediaElement function."),n.u.setMediaElement=function(){}),n.u.configure(n.h.abr)),n.ub=new nz(n.h.preferredAudioLanguage,n.h.preferredVariantRole,n.h.preferredAudioChannelCount),n.vb=n.h.preferredTextLanguage,n.cc=n.h.preferredTextRole,n.$b=n.h.preferForcedSubs,s4(n.i.presentationTimeline,n.h.playRangeStart,n.h.playRangeEnd),n.u.init(function(e,t,r){n.j&&e!=n.j.l&&sq(n,e,!0,void 0!==t&&t,void 0===r?0:r)}),n.u.setMediaElement(o),t9(n.i,n.h.preferredVideoCodecs,n.h.preferredAudioCodecs,n.h.preferredAudioChannelCount,n.h.preferredDecodingAttributes),n.j=new oC((O=n).i,{Sc:function(){return O.B?O.B.Ic():0},getBandwidthEstimate:function(){return O.u.getBandwidthEstimate()},modifySegmentRequest:function(e,t){oZ(O.V,e,t)},R:O.G,kb:O.D,onError:function(e){return sZ(O,e)},onEvent:function(e){return O.dispatchEvent(e)},gg:function(){O.J&&O.J.update&&O.J.update()},Wd:function(e,t,n){O.B&&O.B.Ne(),sC(O),e=new Map().set("start",e).set("end",t).set("contentType",n),O.dispatchEvent(sw("segmentappended",e))},fg:function(e,t){var n,r,i,a,o,s,l;(t=t.Od)&&O.ua&&(n=O.ua,r=t,i=e,a=n,o=r.contentType,(s=a.g.get(o))||(s={rc:[],Ae:null,contentType:o},a.g.set(o,s)),function(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,r=e[e.length-1].end,i=t.rc;t.rc=i.filter(function(e,t){return(!(e.position<=n)||!(t+1<i.length)||!(i[t+1].position<=n))&&!(e.position>=r)})}else t.rc=[]}(n,l=s),n={Od:r,position:i},0<=(r=(l=l.rc).findIndex(function(e){return e.position>=i}))?l.splice(r,+(l[r].position==i),n):l.push(n))},xe:function(e,t){var n=O.m;if(n.h.parseInbandPsshEnabled&&["audio","video"].includes(e)){t=new rA(eL(t));var r=0,i=v(t.data);for(e=i.next();!e.done;e=i.next())r+=e.value.length;if(0==r)n=Promise.resolve();else{for(r=new Uint8Array(r),i=0,e=(t=v(t.data)).next();!e.done;e=t.next())e=e.value,r.set(e,i),i+=e.length;r2(n,"cenc",r),n=n.o}}else n=Promise.resolve();return n},hg:function(e,t,n){sS(O,e,t,n)}}),n.j.configure(n.h.streaming),n.l=lo,o.textTracks&&n.s.C(o.textTracks,"addtrack",function(e){e.track&&"chapters"===(e=e.track).kind&&sE(n,e)}),n.dispatchEvent(sw("streaming")),c=null,(d=n.j.l)||(c=sH(n)),f=[],g=(h=v([(p=d||c).video,p.audio])).next();!g.done;g=h.next())(m=g.value)&&!m.segmentIndex&&f.push(m.createSegmentIndex());if(!(0<f.length)){e.A(2);break}return A(e,Promise.all(f),2);case 2:if(t=n,i=r.startTime,n.B=new os(t.g,t.i,t.h.streaming,i,function(){t.xb&&oy(t.xb,!0),t.j&&t.j.vc(),t.M&&sC(t)},function(e){return t.dispatchEvent(e)}),(x=new o_((S=n).Fa)).addEventListener("enter",function(e){s0(S,"timelineregionenter",e.region)}),x.addEventListener("exit",function(e){s0(S,"timelineregionexit",e.region)}),x.addEventListener("skip",function(e){var t=e.region;e.seeking||(s0(S,"timelineregionenter",t),s0(S,"timelineregionexit",t))}),(E=new ov(S.g)).g.add(x),S.ua&&E.g.add(S.ua),n.xb=E,y=Math.max(n.i.minBufferTime,n.h.streaming.rebufferingGoal),sk(n,y),d){e.A(4);break}if(sq(n,c,!0,!1,0),!n.h.streaming.startAtSegmentBoundary){e.A(5);break}return b=n.B.Ic(),A(e,(T=c,k=b,B(function(e){return 1==e.g?(C=T.audio,M=T.video,R=function(e,t){var n,r,i;return B(function(a){return 1==a.g?e?A(a,e.createSegmentIndex(),2):a.return(null):(r=(n=e.segmentIndex.Cb(t))?n.next().value:null)?(i=r.startTime,a.return(i)):a.return(null)})},A(e,R(C,k),2)):3!=e.g?(P=e.h,A(e,R(M,k),3)):null!=(D=e.h)&&null!=P?e.return(Math.max(D,P)):null!=D?e.return(D):null!=P?e.return(P):e.return(k)})),6);case 6:w=e.h,n.B.zd(w);case 5:sK(n,null,nl(c));case 4:return n.B.yd(),n.Fb().find(function(e){return e.active})||((_=nv(n.i.textStreams,n.vb,n.cc,n.$b)[0]||null)&&sm(n.o.h,_,!0),c&&(_?(c.audio&&function(e,t,n){if(0==e.h.autoShowText)return!1;if(1==e.h.autoShowText)return!0;var r=t1(e.h.preferredTextLanguage);return(n=t1(n.language),2==e.h.autoShowText)?tQ(n,r):3==e.h.autoShowText?(e=t1(t.language),tQ(n,r)&&!tQ(e,n)):(ee("Invalid autoShowText setting!"),!1)}(n,c.audio,_)&&(n.ca=!0),n.ca&&n.G.m.setTextVisibility(!0),sJ(n)):n.ca=!1),_&&(n.h.streaming.alwaysStreamText||n.Hd())&&oM(n.j,_)),A(e,n.j.start(),7);case 7:n.h.abr.enabled&&(n.u.enable(),sQ(n)),no(n.j?n.j.l:null,n.i),s6(n.i),sG(n),s$(n),n.i.variants.some(function(e){return e.primary}),n.dc=!0,n.s.ma(o,"loadedmetadata",function(){n.o.m=Date.now()/1e3-a.ne}),I(e)}})))}),a.set(this.de,function(e,t){var n,r,a,o,s,l,u,c;return nZ((n=i,r=e,a=t,e=B(function(e){return 1==e.g?(o=e7,s=Date.now()/1e3,l=!0,n.m=sT(n,{kb:n.D,onError:function(e){sZ(n,e)},cd:function(e){s2(n,e)},onExpirationUpdated:function(e,t){s3(n,e,t)},onEvent:function(e){n.dispatchEvent(e),"drmsessionupdate"==e.type&&l&&(l=!1,n.o.j=Date.now()/1e3-s)}}),n.m.configure(n.h.drm),"application/x-mpegurl"==(u=ld[ip(a.uri||"")])&&td()&&(u="application/vnd.apple.mpegurl"),u||(u="video/mp4"),c={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:a.mimeType?a.mimeType.split(";")[0]:u,codecs:a.mimeType?tV(a.mimeType):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:o.va,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},n.m.V=!0,A(e,rJ(n.m,[c],[]),2)):A(e,n.m.Yb(r.mediaElement),0)})))}),a.set(this.yb,function(e,t){return function(e,t,n){function r(){return sz(e)}t.uri=n.uri,t.startTime=n.startTime,e.Nb=t.uri;var i=t.mediaElement;e.B=new oo(i);var a=!1;e.Zb.push(function(){a=!0}),null!=t.startTime&&e.B.zd(t.startTime),e.H=new og({Tc:function(){return i.playbackRate},Pc:function(){return i.defaultPlaybackRate},le:function(e){i.playbackRate=e},Me:function(e){i.currentTime+=e}}),sk(e,e.h.streaming.rebufferingGoal),e.s.C(i,"playing",r),e.s.C(i,"pause",r),e.s.C(i,"ended",r),e.s.C(i,"ratechange",function(){return sB(e)}),"none"!=i.preload&&e.s.ma(i,"loadedmetadata",function(){e.o.m=Date.now()/1e3-n.ne}),i.audioTracks&&(e.s.C(i.audioTracks,"addtrack",function(){return sG(e)}),e.s.C(i.audioTracks,"removetrack",function(){return sG(e)}),e.s.C(i.audioTracks,"change",function(){return sG(e)})),i.textTracks&&(e.s.C(i.textTracks,"addtrack",function(t){if(t.track)switch((t=t.track).kind){case"metadata":var n=e,r=t;if("metadata"==r.kind){r.mode="hidden",n.s.C(r,"cuechange",function(){if(r.activeCues)for(var e=v(r.activeCues),t=e.next();!t.done;t=e.next())sx(n,(t=t.value).startTime,t.endTime,t.type,t.value),n.F&&n.F.onCueMetadataChange(t.value)});var i=new ti(function(){var e=Array.from(n.g.textTracks).filter(function(e){return"metadata"==e.kind});e=v(e);for(var t=e.next();!t.done;t=e.next())t.value.mode="hidden"}).Mb().N(.5);n.Zb.push(function(){i.stop()})}break;case"chapters":sE(e,t);break;default:sG(e)}}),e.s.C(i.textTracks,"removetrack",function(){return sG(e)}),e.s.C(i.textTracks,"change",function(){return sG(e)}));var o=ip(t.uri);i.src=function(e,t,n){try{if(!e.g.enabled)return t;var r=o0(e);e:{switch(n){case"video/webm":case"video/mp4":var i=o8;break e;case"application/x-mpegurl":i=o4;break e}i=void 0}r.ot=i,r.su=!0;var a=o2(r);return o3(t,a)}catch(e){return et("CMCD_SRC_ERROR","Could not generate src CMCD data.",e),t}}(e.V,t.uri,ld[o]),(tu()||th("Web0S"))&&i.load(),e.l=ls,e.dispatchEvent(sw("streaming"));var s=new tt;return a8(i,HTMLMediaElement.HAVE_METADATA,e.s,function(){e.B.yd(),s.resolve()}),a8(i,HTMLMediaElement.HAVE_CURRENT_DATA,e.s,function(){var t;return B(function(n){return 1==n.g?(function(e){var t=e.h.preferredAudioLanguage;if(""!=t){e.ge(t);var n=e.h.preferredVariantRole;""!=n&&e.ge(t,n)}}(e),(t=sI(e)).find(function(e){return"disabled"!=e.mode})?(0<t.length&&(e.ca=!0),n.A(2)):A(n,new Promise(function(t){e.s.ma(i.textTracks,"change",t),new ti(t).N(1)}),2)):a?n.return():void(function(e){var t=e.h.preferredTextLanguage,n=e.h.preferForcedSubs;if(""!=t){e.he(t,"",n);var r=e.h.preferredTextRole;""!=r&&e.he(t,r,n)}}(e),I(n))})}),i.error?s.reject(s1(e)):"none"==i.preload&&(ee('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),s.resolve()),e.s.ma(i,"error",function(){s.reject(s1(e))}),new nX(s,function(){return s.reject(new eF(2,7,7001)),Promise.resolve()}).Y(function(){e.dc=!0})}(i,e,t)}),this.Ga=new oz(this.O,{Mf:function(e,t,n,r){var a=null;return e==i.O&&(a=n==i.O?i.O:i.W),e==i.W&&(a=n==i.O||t.mediaElement!=r.mediaElement?i.O:n==i.W?i.W:n==i.wb||n==i.ba?i.wb:n==i.yb?i.de:null),e==i.wb&&(a=n==i.ba&&t.mediaElement==r.mediaElement?i.Zd:i.ea),e==i.Zd&&(a=lt(i.ba,i.Xd,i.ea,n,t,r)),e==i.Xd&&(a=lt(i.ba,i.Qd,i.ea,n,t,r)),e==i.Qd&&(a=lt(i.ba,i.ba,i.ea,n,t,r)),e==i.de&&(a=n==i.yb&&t.mediaElement==r.mediaElement?i.yb:i.ea),(e==i.ba||e==i.yb)&&(a=i.ea),e==i.ea&&(a=r.mediaElement&&t.mediaElement==r.mediaElement?i.W:i.O),a},yf:function(e,t,n){return i.dispatchEvent(sw("onstatechange",new Map().set("state",e.name))),a.get(e)(t,n)},handleError:function(e){return B(function(t){return 1==t.g?A(t,s_(i,e),2):t.return(e.mediaElement?i.W:i.O)})},eg:function(e){i.dispatchEvent(sw("onstateidle",new Map().set("state",e.name)))}}),this.af=new ti(function(){nt(i.i.variants,i.h.restrictions,i.ec)&&sH(i)}),t&&this.Yb(t,!0)}function sb(e){null!=e.L&&(e.L.release(),e.L=null)}function sw(e,t){return new n1(e,t)}function s_(e,t){var n,r,i,a,o,s,l,u,c;return B(function(d){switch(d.g){case 1:return e.l!=li&&(e.l=la),n=e.Zb.map(function(e){return e()}),e.Zb=[],A(d,Promise.all(n),2);case 2:if(e.dispatchEvent(sw("unloading")),t.mimeType=null,t.startTime=null,t.uri=null,e.Fa&&(e.Fa.release(),e.Fa=null),t.mediaElement&&e.s.nb(),e.af.stop(),e.xb&&(e.xb.release(),e.xb=null),e.Vc&&(e.Vc.stop(),e.Vc=null),!e.J){d.A(3);break}return A(d,e.J.stop(),4);case 4:e.J=null,e.Yc=null;case 3:if(!e.u){d.A(5);break}return A(d,e.u.stop(),5);case 5:if(!e.j){d.A(7);break}return A(d,e.j.destroy(),8);case 8:e.j=null;case 7:if(e.H&&(e.H.release(),e.H=null),e.B&&(e.B.release(),e.B=null),!e.G){d.A(9);break}return A(d,e.G.destroy(),10);case 10:e.G=null;case 9:if(e.F&&e.F.onAssetUnload(),!t.mediaElement||!t.mediaElement.src){d.A(11);break}return A(d,new Promise(function(e){return new ti(e).N(.1)}),12);case 12:for(t.mediaElement.removeAttribute("src"),t.mediaElement.load();t.mediaElement.lastChild;)t.mediaElement.removeChild(t.mediaElement.firstChild);case 11:if(!e.m){d.A(13);break}return A(d,e.m.destroy(),14);case 14:e.m=null;case 13:if(e.Nb=null,e.M=null,e.i){for(i=(r=v(e.i.variants)).next();!i.done;i=r.next())for(s=(o=v([(a=i.value).audio,a.video])).next();!s.done;s=o.next())(l=s.value)&&l.segmentIndex&&l.segmentIndex.release();for(s=(u=v(e.i.textStreams)).next();!s.done;s=u.next())(c=s.value).segmentIndex&&c.segmentIndex.release()}e.i=null,e.o=new sv,e.Ud=null,sF(e),I(d)}})}function sS(e,t,n,r){t=v(t);for(var i=t.next();!i.done;i=t.next())if((i=i.value).data&&i.cueTime&&i.frames){var a=i.cueTime+n,o=r;o&&a>o&&(o=a);for(var s=v(i.frames),l=s.next();!l.done;l=s.next())sx(e,a,o,"org.id3",l.value);e.F&&e.F.onHlsTimedMetadata(i,a)}}function sx(e,t,n,r,i){t=new Map().set("startTime",t).set("endTime",n).set("metadataType",r).set("payload",i),e.dispatchEvent(sw("metadata",t))}function sE(e,t){if(t&&"chapters"==t.kind){t.mode="hidden";var n=new ti(function(){t.mode="hidden"}).Mb().N(.5);e.Zb.push(function(){n.stop()})}}function sT(e,t){return new rY(t,e.h.drm.updateExpirationTime)}function sk(e,t){e.M=new n$,e.M.g=nV,nH(e.M,t,Math.min(.5,t/2)),sF(e),e.Vc=new ti(function(){sC(e)}).Ca(.25)}function sC(e){switch(e.l){case ls:if(e.g.ended)var t=!0;else{var n=aw(e.g.buffered);t=null!=n&&n>=e.g.duration-1}break;case lo:e:if(e.g.ended||aj(e.G))t=!0;else{if(e.i.presentationTimeline.U()){n=e.i.presentationTimeline.gb();var r=aw(e.g.buffered);if(null!=r&&r>=n){t=!0;break e}}t=!1}break;default:t=!1}r=aS(e.g.buffered,e.g.currentTime),n=e.M;var i=t,a=n.h.get(n.g);t=n.g,r=i||r>=a?nq:nV,n.g=r,t!=r&&sF(e)}function sA(e){if(e.J){var t=n5(e.h.manifest);e.g&&"AUDIO"===e.g.nodeName&&(t.disableVideo=!0),e.J.configure(t)}if(e.m&&e.m.configure(e.h.drm),e.j){e.j.configure(e.h.streaming);try{sj(e,e.i)}catch(t){sZ(e,t)}e.u&&s$(e),(t=e.j.l)&&(!t.allowedByApplication||!t.allowedByKeySystem)&&sV(e)}if(e.D&&e.D.je(e.h.streaming.forceHTTPS),e.G&&(e.G.configure(e.h.mediaSource),e.G.H=e.h.manifest.segmentRelativeVttTiming,t=e.h.textDisplayFactory,e.Ud!=t)){var n=t(),r=e.G,i=r.m;r.m=n,i&&(n.setTextVisibility(i.isTextVisible()),i.destroy()),r.g&&(r.g.i=n),e.Ud=t,e.j&&(n=(t=e.j).j.get(e9))&&oR(t,n.stream,!0,0,!0)}e.u&&(e.u.configure(e.h.abr),e.h.abr.enabled?e.u.enable():e.u.disable(),sQ(e)),e.M&&(t=e.h.streaming.rebufferingGoal,e.i&&(t=Math.max(t,e.i.minBufferTime)),nH(e.M,t,Math.min(.5,t/2))),e.i&&s4(e.i.presentationTimeline,e.h.playRangeStart,e.h.playRangeEnd)}function sI(e){return Array.from(e.g.textTracks).filter(function(e){return"metadata"!=e.kind&&"chapters"!=e.kind&&"Shaka Player TextTrack"!=e.label})}function sM(e){return Array.from(e.g.textTracks).filter(function(e){return"chapters"==e.kind})}function sR(e,t){var n,r;return B(function(i){switch(i.g){case 1:if(r=lf[n=ip(t)])return i.return(r);return M(i,2),A(i,id(t,e.D,e.h.streaming.retryParameters),4);case 4:r=i.h,P(i,3);break;case 2:D(i);case 3:if(r)return i.return(r);throw new eF(1,2,2011,n)}})}function sP(e,t,n,r,i,a,o){var s;return B(function(l){if(1==l.g)return"text/vtt"!=i||o.length?A(l,sD(e,t,e.D,e.h.streaming.retryParameters),3):l.A(2);2!=l.g&&(t=aQ(new Blob([sO(e,l.h,i,o)],{type:"text/vtt"})),i="text/vtt"),s=document.createElement("track");var u=e.V,c=t;try{if(u.g.enabled){var d=o0(u);d.ot=o7,d.su=!0;var f=o2(d),p=o3(c,f)}else p=c}catch(e){et("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",e),p=c}return s.src=p,s.label=a,s.kind=r,s.srclang=n,e.g.getAttribute("crossorigin")||e.g.setAttribute("crossorigin","anonymous"),e.g.appendChild(s),l.return(s)})}function sD(e,t,n,r){var i,a,o;return B(function(s){if(1==s.g){i=ri,(a=rt([t],r)).method="GET";var l=e.V;try{l.g.enabled&&o1(l,a,{ot:o7,su:!0})}catch(e){et("CMCD_TEXT_ERROR","Could not generate text CMCD data.",e)}return A(s,n.request(i,a).promise,2)}return o=s.h,s.return(o.data)})}function sO(e,t,n,r){var i=tY[n];if(i)return n=i(),e={periodStart:0,segmentStart:0,segmentEnd:e.g.duration,vttOffset:0},t=eL(t),function(e,t){function n(e){for(var n=e,r=v(t),i=r.next();!i.done;i=r.next())(i=i.value).end&&i.start<e&&(n+=i.end-i.start);return(10>(e=Math.floor(n/3600))?"0":"")+e+":"+(10>(r=Math.floor(n/60%60))?"0":"")+r+":"+(10>(i=Math.floor(n%60))?"0":"")+i+"."+(100>(n=Math.floor(1e3*n%1e3))?10>n?"00":"0":"")+n}var r=oV(e,[]);e="WEBVTT\n\n",r=v(r);for(var i=r.next();!i.done;i=r.next())e+=n((i=i.value).startTime)+" --\x3e "+n(i.endTime)+function(e){var t=[];switch(e.textAlign){case"left":t.push("align:left");break;case"right":t.push("align:right");break;case eg:t.push("align:middle");break;case"start":t.push("align:start");break;case"end":t.push("align:end")}switch(e.writingMode){case"vertical-lr":t.push("vertical:lr");break;case"vertical-rl":t.push("vertical:rl")}return t.length?" "+t.join(" "):""}(i)+"\n",e+=i.payload+"\n\n";return e}(t=n.parseMedia(t,e),r);throw new eF(2,2,2014,n)}function sN(e){var t=sc();return t.streaming.failureCallback=function(t){if(e.U()){var n=null;1001==t.code||1002==t.code?n=1:1003==t.code&&(n=.1),null!=n&&(t.severity=1,e.ce(n))}},t.textDisplayFactory=function(){return e.Uc?new oX(e.g,e.Uc):new oq(e.g)},t}function sL(e,t){return B(function(n){if(1==n.g){var r,i;return A(n,(r=e,i=t,B(function(e){if(1==e.g){var t,n;return A(e,(t=r.j?r.j.l:null,n=i,B(function(e){var r,i,a,o,s,l,u,c,d;return 1==e.g?A(e,nn(n,0<n.offlineSessionIds.length),2):(no(t,n),(r=n).textStreams=r.textStreams.filter(function(e){return tK(tz(e.mimeType,e.codecs))}),A(e,(i=n,B(function(e){switch(e.g){case 1:a=[],s=(o=v(i.imageStreams)).next();case 2:var t;if(s.done){e.A(4);break}if(u=(l=s.value).mimeType,nT.has(u)){e.A(5);break}if(!(c=nk.get(u))){nT.set(u,!1),e.A(5);break}return A(e,(t=c,new Promise(function(e){var n=new Image;n.src=t,"decode"in n?n.decode().then(function(){e(!0)}).catch(function(){e(!1)}):n.onload=n.onerror=function(){e(2===n.height)}})),7);case 7:d=e.h,nT.set(u,d);case 5:nT.get(u)&&a.push(l),s=o.next(),e.A(2);break;case 4:i.imageStreams=a,I(e)}})),0))})),2)}s6(i),I(e)})),2)}sj(e,t),I(n)})}function sj(e,t){if(e.l!=li){nt(t.variants,e.h.restrictions,e.ec)&&e.j&&sG(e);var n=e.m?e.m.g:null;if(n&&e.m.u)for(var r=v(t.variants),i=r.next();!i.done;i=r.next())i=i.value,sU(e,n.keySystem,i.video),sU(e,n.keySystem,i.audio);s5(e,t)}}function sU(e,t,n){if(n){n=v(n.drmInfos);for(var r=n.next();!r.done;r=n.next())if((r=r.value).keySystem==t){r=v(r.initData||[]);for(var i=r.next();!i.done;i=r.next())i=i.value,r2(e.m,i.initDataType,i.initData)}}}function sF(e){var t=e.Fd();if(e.o&&e.M&&e.B){var n=e.H;n.j=t,om(n),e.V&&(n=e.V,t||n.i||(n.i=!0),n.i&&t&&(n.l=!0),n.m=t),sz(e)}t=new Map().set("buffering",t),e.dispatchEvent(sw("buffering",t))}function sB(e){var t=e.g.playbackRate;0!=t&&(e.H&&e.H.set(t),t=sw("ratechange"),e.dispatchEvent(t))}function sz(e){if(e.o&&e.M){var t=e.o.g;e.M.g==nV?sp(t,"buffering"):e.g.paused?sp(t,"paused"):e.g.ended?sp(t,"ended"):sp(t,"playing")}}function s$(e){try{s5(e,e.i)}catch(t){return sZ(e,t),!1}var t=e.i.variants.filter(function(e){return ng(e)});return t=e.ub.create(t),e.u.setVariants(Array.from(t.values())),!0}function sH(e){return s$(e)?e.u.chooseVariant():null}function sV(e){var t=sH(e);t&&sq(e,t,!0,!0,0)}function sq(e,t,n,r,i){var a=e.j.l;if(t==a)r&&oI(e.j,t,r,i,!0);else{var o=e.o.h;o.h!=t&&(o.h=t,o.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),oI(e.j,t,r,i,void 0,n),r=null,a&&(r=nl(a)),t=nl(t),n?sK(e,r,t):sX(e,r,t)}}function sW(e,t){var n=Array.from(e.g.audioTracks).find(function(e){return e.enabled});t.enabled=!0,t.id!==n.id&&(n.enabled=!1),n=np(n),sX(e,n,t=np(t))}function sK(e,t,n){t=new Map().set("oldTrack",t).set("newTrack",n),e.L&&aR(e.L,n),s8(e,n=sw("adaptation",t))}function sG(e){s8(e,sw("trackschanged"))}function sX(e,t,n){t=new Map().set("oldTrack",t).set("newTrack",n),e.L&&aR(e.L,n),s8(e,n=sw("variantchanged",t))}function sY(e){s8(e,sw("textchanged"))}function sJ(e){s8(e,sw("texttrackvisibility"))}function sQ(e){var t=new Map().set("newStatus",e.h.abr.enabled);s8(e,sw("abrstatuschanged",t))}function sZ(e,t){if(e.l!=li)if(function(e,t){if(1002!=t.code&&1011!=t.code||1!=t.category||!navigator.onLine)return!1;var n=e.h.streaming.maxDisabledTime;if(0==n)if(1011!=t.code)return!1;else n=1;t=e.Xa().find(function(e){return e.active});for(var r=e.i,i=v(r.variants),a=i.next();!a.done;a=i.next())(a=a.value).id===t.id&&(a.disabledUntilTime=Date.now()/1e3+n);return nt(r.variants,e.h.restrictions,e.ec),!!(t=sH(e))&&(r=e.Na().video.reduce(function(e,t){return e+t.end-t.start},0),sq(e,t,!1,!0,r),e.af.N(n),!0)}(e,t))t.handled=!0;else{var n=sw("error",new Map().set("detail",t));e.dispatchEvent(n),n.defaultPrevented&&(t.handled=!0)}}function s0(e,t,n){n=new Map().set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}),e.dispatchEvent(sw(t,n))}function s1(e){if(!e.g.error)return null;var t=e.g.error.code;if(1==t)return null;var n=e.g.error.msExtendedCode;return n&&(0>n&&(n+=0x100000000),n=n.toString(16)),new eF(2,3,3016,t,n,e.g.error.message)}function s2(e,t){if(e.j){var n=Object.keys(t),r=1==n.length&&"00"==n[0],i=!1;if(n.length){n=v(e.i.variants);for(var a=n.next();!a.done;a=n.next()){a=a.value;var o=[];a.audio&&o.push(a.audio),a.video&&o.push(a.video),o=v(o);for(var s=o.next();!s.done;s=o.next()){var l=s.value;if(s=a.allowedByKeySystem,l.keyIds.size){a.allowedByKeySystem=!0,l=v(l.keyIds);for(var u=l.next();!u.done;u=l.next())u=u.value,u=t[r?"00":u],a.allowedByKeySystem=a.allowedByKeySystem&&!!u&&!ll.includes(u)}s!=a.allowedByKeySystem&&(i=!0)}}}(!i||s$(e))&&((t=e.j.l)&&!t.allowedByKeySystem&&sV(e),i&&sG(e))}}function s3(e,t,n){e.J&&e.J.onExpirationUpdated&&e.J.onExpirationUpdated(t,n),t=sw("expirationupdated"),e.dispatchEvent(t)}function s4(e,t,n){0<t&&(e.U()||e.Ze(t)),n<(t=e.getDuration())&&(e.U()||e.Aa(n))}function s5(e,t){var n=Object.keys(e=e.m?e.m.Qc():{});n=n.length&&"00"==n[0];var r=!1,i=!1,a=new Set,o=new Set;t=v(t.variants);for(var s=t.next();!s.done;s=t.next()){s=s.value;var l=[];s.audio&&l.push(s.audio),s.video&&l.push(s.video),l=v(l);for(var u=l.next();!u.done;u=l.next())if((u=u.value).keyIds.size){u=v(u.keyIds);for(var c=u.next();!c.done;c=u.next()){c=c.value;var d=e[n?"00":c];d?ll.includes(d)&&o.add(d):a.add(c)}}s.allowedByApplication?s.allowedByKeySystem&&(r=!0):i=!0}if(!r)throw new eF(2,4,4012,e={hasAppRestrictions:i,missingKeys:Array.from(a),restrictedKeyStatuses:Array.from(o)})}function s6(e){if(!e.variants.some(ng))throw new eF(2,4,4032)}function s8(e,t){B(function(n){if(1==n.g)return A(n,Promise.resolve(),2);e.l!=li&&e.dispatchEvent(t),I(n)})}function s9(e){var t=new Set;e=v(e);for(var n=e.next();!n.done;n=e.next())(n=n.value).language?t.add(t1(n.language)):t.add("und");return t}function s7(e){var t=new Map,n=new Map;e=v(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;var i="und",a=[];r.language&&(i=t1(r.language)),(a="variant"==r.type?r.audioRoles:r.roles)&&a.length||(a=[""]),t.has(i)||t.set(i,new Set),a=v(a);for(var o=a.next();!o.done;o=a.next())o=o.value,t.get(i).add(o),r.label&&(n.has(i)||n.set(i,new Map),n.get(i).set(o,r.label))}var s=[];return t.forEach(function(e,t){e=v(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;var i=null;n.has(t)&&n.get(t).has(r)&&(i=n.get(t).get(r)),s.push({language:t,role:r,label:i})}}),s}function le(){return new eF(2,7,7e3)}function lt(e,t,n,r,i,a){return r==e&&i.mediaElement==a.mediaElement&&i.uri==a.uri&&i.mimeType==a.mimeType?t:n}function ln(){return{mediaElement:null,mimeType:null,startTime:null,ne:NaN,uri:null}}function lr(e){return new Promise(function(t,n){e.mb=function(){return n(le())},e.bd=function(){return t()},e.onError=function(e){return n(e)},e.dd=function(){return n(le())}})}G("shaka.util.CmcdManager.StreamingFormat",{DASH:"d",HLS:"h",dh:"s",Yg:"o"}),G("shaka.util.ConfigUtils",sr),sr.convertToConfigObject=sa,sr.mergeConfigObjects=si,G("shaka.util.FairPlayUtils",so),so.commonFairPlayResponse=function(e,t){if(2===e){try{var n=tb(t.data)}catch(e){return}e=!1,"<ckc>"===(n=n.trim()).substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6),e=!0);try{var r=JSON.parse(n);r.ckc&&(n=r.ckc,e=!0),r.CkcMessage&&(n=r.CkcMessage,e=!0),r.License&&(n=r.License,e=!0)}catch(e){}e&&(t.data=eN(tA(n)))}},so.conaxFairPlayRequest=function(e,t){2===e&&(t.headers["Content-Type"]="application/octet-stream")},so.ezdrmFairPlayRequest=function(e,t){2===e&&(t.headers["Content-Type"]="application/octet-stream")},so.verimatrixFairPlayRequest=function(e,t){2===e&&(e=tC(e=eL(t.body)),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=tS("spc="+e))},so.conaxInitDataTransform=function(t,n,r){if("skd"!==n)return t;n=r.serverCertificate,r=t_(t).split("skd://").pop().split("?").shift();var i=new ArrayBuffer(2*(r=e.atob(r)).length);i=new Uint16Array(i);for(var a=0,o=r.length;a<o;a++)i[a]=r.charCodeAt(a);return sl(t,i,n)},so.ezdrmInitDataTransform=function(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,n=t_(e).split(";").pop(),sl(e,n,t))},so.verimatrixInitDataTransform=function(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,n=t_(e).split("skd://").pop(),sl(e,n,t))},so.initDataTransform=sl,so.defaultGetContentId=ss,so.isFairPlaySupported=function(){var e;return B(function(t){return 1==t.g?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},M(t,2),A(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):2!=t.g?t.return(!0):(D(t),t.return(!1))})},G("shaka.util.PlayerConfiguration",su),su.mergeConfigObjects=sd,su.createDefault=sc,E(sy,n4),(b=sy.prototype).destroy=function(){var e,t=this;return B(function(n){switch(n.g){case 1:if(t.l==li)return n.return();return sb(t),t.l=li,e=o$(t.Ga,function(){return{node:t.O,payload:ln(),hb:!1}}),A(n,new Promise(function(t){e.Jb=function(){},e.bd=function(){t()},e.mb=function(){t()},e.onError=function(){t()},e.dd=function(){t()}}),2);case 2:return A(n,t.Ga.destroy(),3);case 3:if(t.Xc&&(t.Xc.release(),t.Xc=null),t.Xb&&(t.Xb.release(),t.Xb=null),t.s&&(t.s.release(),t.s=null),t.Nd=null,t.u=null,t.h=null,t.o=null,t.Uc=null,t.V=null,!t.D){n.A(4);break}return A(n,t.D.destroy(),5);case 5:t.D=null;case 4:n4.prototype.release.call(t),I(n)}})},b.Yb=function(e,t){if(t=void 0===t||t,this.l==li)return Promise.reject(le());var n=ln();n.mediaElement=e,ta()||(t=!1);var r=t?this.wb:this.W;return(e=o$(this.Ga,function(){return{node:r,payload:n,hb:!1}})).Jb=function(){},lr(e)},b.lf=function(e){this.cf=e},b.detach=function(){var e=this;if(this.l==li)return Promise.reject(le());var t=o$(this.Ga,function(){return{node:e.O,payload:ln(),hb:!1}});return t.Jb=function(){},lr(t)},b.re=function(e){var t=this;if(e=void 0===e||e,this.l==li)return Promise.reject(le());this.dc=!1,ta()||(e=!1),sb(this);var n=ln(),r=o$(this.Ga,function(r){var i=r.mediaElement&&e?t.wb:r.mediaElement?t.W:t.O;return n.mediaElement=r.mediaElement,{node:i,payload:n,hb:!1}});return r.Jb=function(){},lr(r)},b.Fg=function(e){this.fc=e},b.load=function(e,t,n){var r,i=this;if(this.fc=null,this.dc=!1,this.l==li)return Promise.reject(le());this.dispatchEvent(sw("loading"));var a=ln();a.uri=e,a.ne=Date.now()/1e3,n&&(a.mimeType=n),void 0!==t&&(a.startTime=t);var o=!function(e,t){if(!ta())return!0;var n=t.mimeType,r=t.uri||"";if(n||(n=ld[n=ip(r)]),n){if(""==(t.mediaElement||tg()).canPlayType(n))return!1;if(!ta()||!(n in ih||ip(r)in ig)||e.h.streaming.preferNativeHls)return!0;if(td())return e.h.streaming.useNativeHlsOnSafari}return!1}(this,a)?this.ba:this.yb,s=o$(this.Ga,function(e){return null==e.mediaElement?null:(a.mediaElement=e.mediaElement,{node:o,payload:a,hb:!0})});return this.o=new sv,this.V=(r=this,new oQ({getBandwidthEstimate:function(){return r.u?r.u.getBandwidthEstimate():NaN},Na:function(){return r.Na()},getCurrentTime:function(){return r.g?r.g.currentTime:0},Xa:function(){return r.Xa()},Rc:function(){return r.Rc()},U:function(){return r.U()}},r.h.cmcd)),s.Jb=function(){},new Promise(function(e,t){s.dd=function(){return t(new eF(2,7,7002))},s.bd=function(){e(),i.dispatchEvent(sw("loaded"))},s.mb=function(){return t(le())},s.onError=function(e){return t(e)}})},b.configure=function(e,t){2==arguments.length&&"string"==typeof e&&(e=sa(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(nP("streaming.forceTransmuxTS configuration","Please Use streaming.forceTransmux instead."),e.streaming.forceTransmux=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&e.streaming.lowLatencyMode&&(void 0==e.streaming.inaccurateManifestTolerance&&(e.streaming.inaccurateManifestTolerance=0),void 0==e.streaming.rebufferingGoal&&(e.streaming.rebufferingGoal=.01));var n=sd(this.h,e,sN(this));return sA(this),n},b.getConfiguration=function(){var e=sN(this);return sd(e,this.h,sN(this)),e},b.Bf=function(){if(this.g){var e=this.g.buffered.length;e=e?this.g.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(e>=(t=Math.min(this.g.currentTime+t,this.uc().end)))return 1;if(!(e<=this.g.currentTime)&&e<t)return(e-this.g.currentTime)/(t-this.g.currentTime)}return 0},b.rg=function(){for(var e in this.h)delete this.h[e];sd(this.h,sN(this),sN(this)),sA(this)},b.Hf=function(){return this.l},b.Lf=function(){return this.g},b.jc=function(){return this.D},b.Dd=function(){return this.Nb},b.Ge=function(){return this.F?this.F:null},b.U=function(){return this.i?this.i.presentationTimeline.U():!!this.g&&!!this.g.src&&1/0==this.g.duration},b.jb=function(){return!!this.i&&this.i.presentationTimeline.jb()},b.Zf=function(){if(this.i){var e=this.i.variants;return!!e.length&&!e[0].video}return!!this.g&&!!this.g.src&&(this.g.videoTracks?0==this.g.videoTracks.length:0==this.g.videoHeight)},b.uc=function(){if(!this.dc)return{start:0,end:0};if(this.i){var e=this.i.presentationTimeline;return{start:e.Db(),end:e.Oa()}}return this.g&&this.g.src&&(e=this.g.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},b.Xf=function(){this.U()&&(this.g.currentTime=this.uc().end)},b.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},b.drmInfo=function(){return this.m?this.m.g:null},b.ic=function(){return this.m?this.m.ic():1/0},b.Qc=function(){return this.m?this.m.Qc():{}},b.Fd=function(){return!!this.M&&this.M.g==nV},b.Rc=function(){return this.g?this.H?this.H.i:1:0},b.Ag=function(e){0==e?ee("A trick play rate of 0 is unsupported!"):(this.g.paused&&this.g.play(),this.H.set(e),this.l==lo&&(this.u.playbackRateChanged(e),oA(this.j,1<Math.abs(e))))},b.pf=function(){var e=this.H.Pc();this.l==ls&&this.H.set(e),this.l==lo&&(this.H.set(e),this.u.playbackRateChanged(e),oA(this.j,!1))},b.Xa=function(){if(this.i){for(var e=this.j?this.j.l:null,t=[],n=0,r=v(this.i.variants),i=r.next();!i.done;i=r.next())if(ng(i=i.value)){var a=nl(i);a.active=i==e,a.active||1==n||null==e||i.video!=e.video||i.audio!=e.audio||(a.active=!0),a.active&&n++,t.push(a)}return t}return this.g&&this.g.audioTracks?Array.from(this.g.audioTracks).map(function(e){return np(e)}):[]},b.Fb=function(){if(this.i){for(var e=this.j?this.j.o:null,t=[],n=v(this.i.textStreams),r=n.next();!r.done;r=n.next()){var i=nu(r=r.value);i.active=r==e,t.push(i)}return t}return this.g&&this.g.src&&this.g.textTracks?sI(this).map(function(e){return nf(e)}):[]},b.Ff=function(){return this.i?this.i.imageStreams.map(function(e){return nc(e)}):[]},b.Tf=function(e,t){var n,r,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,w,_,S=this;return B(function(x){return 1==x.g?S.i?(n=S.i.imageStreams.find(function(t){return t.id==e}))?n.segmentIndex?x.A(3):A(x,n.createSegmentIndex(),3):x.return(null):x.A(2):2!=x.g?null==(r=n.segmentIndex.find(t))?x.return(null):(a=(i=n.segmentIndex.get(r)).tilesLayout||n.tilesLayout,o=/(\d+)x(\d+)/.exec(a))?(s=n.width||0,l=n.height||0,u=parseInt(o[1],10),c=parseInt(o[2],10),d=s/u,f=l/c,p=u*c,h=i.j-i.startTime,g=i.s||h/p,m=i.startTime,y=v=0,1<p&&(b=Math.floor((t-i.startTime)/g),m=i.startTime+b*g,v=b%u*d,y=Math.floor(b/u)*f),w=!1,(_=i.o)&&(w=!0,f=_.height,v=_.positionX,y=_.positionY,d=_.width),x.return({imageHeight:l,imageWidth:s,height:f,positionX:v,positionY:y,startTime:m,duration:g,uris:i.ya(),width:d,sprite:w})):x.return(null):x.return(null)})},b.Se=function(e){if(this.i&&this.j){var t=this.i.textStreams.find(function(t){return t.id==e.id});t&&t!=this.j.o&&(sm(this.o.h,t,!1),oM(this.j,t),sY(this),this.vb=t.language)}else if(this.g&&this.g.src&&this.g.textTracks){t=v(t=sI(this));for(var n=t.next();!n.done;n=t.next())nd(n=n.value)==e.id?n.mode=this.ca?"showing":"hidden":n.mode="disabled";sY(this)}},b.Te=function(e,t,n){if(t=void 0!==t&&t,n=void 0===n?0:n,this.i&&this.j){this.h.abr.enabled&&ee("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var r=this.i.variants.find(function(t){return t.id==e.id});r&&ng(r)&&(sq(this,r,!1,t,n),this.ub=new nB(r),s$(this))}else if(this.g&&this.g.audioTracks){for(n=(t=v(t=Array.from(this.g.audioTracks))).next();!n.done;n=t.next())if(nd(n=n.value)==e.id){sW(this,n);break}}},b.Af=function(){return s7(this.Xa())},b.Rf=function(){return s7(this.Fb())},b.zf=function(){return Array.from(s9(this.Xa()))},b.Qf=function(){return Array.from(s9(this.Fb()))},b.ge=function(e,t,n){if(n=void 0===n?0:n,this.i&&this.B){this.ub=new nz(e,t||"",n,""),t=function(e,t){return e.video||t.video?e.video&&t.video?Math.abs((e.video.height||0)-(t.video.height||0))+Math.abs((e.video.width||0)-(t.video.width||0)):1/0:0},e=this.j.l;var r=this.ub.create(this.i.variants);n=null,r=v(r.values());for(var i=r.next();!i.done;i=r.next())i=i.value,(!n||t(n,e)>t(i,e))&&(n=i);n?(t=nl(n),this.Te(t,!0)):sV(this)}else if(this.g&&this.g.audioTracks){i=Array.from(this.g.audioTracks),e=t1(e),r=n=null,i=v(i);for(var a=i.next();!a.done;a=i.next()){var o=np(a=a.value);t1(o.language)==e&&(n=a,t?o.roles.includes(t)&&(r=a):0==o.roles.length&&(r=a))}r?sW(this,r):n&&sW(this,n)}},b.he=function(e,t,n){if(n=void 0!==n&&n,this.i&&this.B)this.vb=e,this.cc=t||"",this.$b=n,(e=nv(this.i.textStreams,this.vb,this.cc,this.$b)[0]||null)&&e!=this.j.o&&(sm(this.o.h,e,!1),this.h.streaming.alwaysStreamText||this.Hd())&&(oM(this.j,e),sY(this));else{var r=t1(e);(e=this.Fb().find(function(e){return t1(e.language)==r&&(!t||e.roles.includes(t))&&e.forced==n}))&&this.Se(e)}},b.tg=function(e){if(this.i&&this.B){for(var t=null,n=v(this.i.variants),r=n.next();!r.done;r=n.next())if((r=r.value).audio.label==e){t=r;break}null!=t&&(this.ub=new nz(t.language,"",0,e),sV(this))}},b.Hd=function(){var e=this.ca;return this.G?this.G.m.isTextVisible():this.g&&this.g.src&&this.g.textTracks?sI(this).some(function(e){return"showing"==e.mode}):e},b.He=function(){return this.g&&this.g.src&&this.g.textTracks?sM(this).map(function(e){return nf(e)}):[]},b.Cf=function(e){var t=t1(e),n=sM(this).filter(function(e){return t1(e.language)==t});if(!n||!n.length)return[];e=[];var r=new Set;n=v(n);for(var i=n.next();!i.done;i=n.next())if((i=i.value)&&i.cues){i=v(i.cues);for(var a=i.next();!a.done;a=i.next()){var o=a.value;(a=o.id)&&""!=a||(a=o.startTime+"-"+o.endTime+"-"+o.text),o={id:a,title:o.text,startTime:o.startTime,endTime:o.endTime},r.has(a)||(e.push(o),r.add(a))}}return e},b.yg=function(e){if(e=!!e,this.ca!=e){if(this.ca=e,this.l==lo){var t,n;this.G.m.setTextVisibility(e),this.h.streaming.alwaysStreamText||(e?this.j.o||0<(e=nv(this.i.textStreams,this.vb,this.cc,this.$b)).length&&(oM(this.j,e[0]),sY(this)):((n=(t=this.j).j.get(e9))&&(oU(n),oF(n).catch(function(){}),t.j.delete(e9)),t.o=null))}else if(this.g&&this.g.src&&this.g.textTracks){var r=sI(this);r=v(r);for(var i=r.next();!i.done;i=r.next())"disabled"!=(i=i.value).mode&&(i.mode=e?"showing":"hidden")}sJ(this)}},b.Of=function(){if(!this.U())return null;var e=this.Ga.l,t=0;if(this.B)t=this.B.Ic();else if(e){if(null==e.startTime)return new Date;t=e.startTime}return this.i?new Date(1e3*(this.i.presentationTimeline.i+t)):this.g&&this.g.getStartDate?isNaN((e=this.g.getStartDate()).getTime())?null:new Date(e.getTime()+1e3*t):null},b.Ie=function(){if(!this.U())return null;if(this.i)return new Date(1e3*this.i.presentationTimeline.i);if(this.g&&this.g.getStartDate){var e=this.g.getStartDate();return isNaN(e.getTime())?null:e}return null},b.Na=function(){if(this.l==lo)return this.G.Na();var e={total:[],audio:[],video:[],text:[]};return this.l==ls&&(e.total=ax(this.g.buffered)),e},b.getStats=function(){if(this.l!=lo&&this.l!=ls)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};sz(this);var e=this.g,t=e.currentTime/e.duration;if(!isNaN(t)){var n=this.o;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.B&&(this.o.M=this.B.te(),this.o.O=this.B.ue()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.o;var r=Number(n.totalVideoFrames);t.L=Number(n.droppedVideoFrames),t.J=r,this.o.H=Number(n.corruptedVideoFrames)}n=this.m&&(n=this.m).H?n.H:NaN,this.o.s=n,this.l==lo&&((n=this.j.l)&&(this.o.B=(this.H?this.H.i:1)*n.bandwidth),n&&n.video&&(t=this.o,r=n.video.height||NaN,t.o=n.video.width||NaN,t.l=r),this.U()&&(n=this.Ie().valueOf()+1e3*this.uc().end,this.o.D=(Date.now()-n)/1e3),this.i&&this.i.presentationTimeline&&(this.o.G=this.i.presentationTimeline.g),n=this.u.getBandwidthEstimate(),this.o.u=n),this.l==ls&&(n=this.o,t=e.videoHeight||NaN,n.o=e.videoWidth||NaN,n.l=t);var i=this.o;e=i.o,n=i.l,t=i.B,r=i.J;var a=i.L,o=i.H,s=i.O,l=i.M,u=i.u,c=i.i,d=i.m,f=i.F,p=i.j,h=sh(i.g,"playing"),g=sh(i.g,"paused"),m=sh(i.g,"buffering"),y=i.s,b=i.D,w=i.G,_=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],r=v(e.h),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.g&&n.push(t(e.g)),n}(i.g),S=[];i=v(i.h.g);for(var x=i.next();!x.done;x=i.next())S.push({timestamp:(x=x.value).timestamp,id:x.id,type:x.type,fromAdaptation:x.fromAdaptation,bandwidth:x.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:r,droppedFrames:a,corruptedFrames:o,stallsDetected:s,gapsJumped:l,estimatedBandwidth:u,completionPercent:c,loadLatency:d,manifestTimeSeconds:f,drmTimeSeconds:p,playTime:h,pauseTime:g,bufferingTime:m,licenseTime:y,liveLatency:b,maxSegmentDuration:w,stateHistory:_,switchHistory:S}},b.hf=function(e,t,n,r,i,a,o){o=void 0!==o&&o;var s,l,u,c,d,f=this;return B(function(p){switch(p.g){case 1:if(f.l!=lo&&f.l!=ls)throw new eF(1,7,7004);if(r){p.A(2);break}return A(p,sR(f,e),3);case 3:r=p.h;case 2:if(s=[],f.F)try{s=f.F.getServerSideCuePoints()}catch(e){}if(f.l!=ls){p.A(4);break}return o&&(n="forced"),A(p,sP(f,e,t,n,r,a||"",s),5);case 5:if(l=f.Fb().find(function(e){return e.language==t&&e.label==(a||"")&&e.kind==n}))return sG(f),p.return(l);throw new eF(1,2,2012);case 4:if(u=e7,1/0==(c=f.i.presentationTimeline.getDuration()))throw new eF(1,4,4033);if(!s.length){p.A(6);break}return A(p,sD(f,e,f.D,f.h.streaming.retryParameters),7);case 7:e=aQ(new Blob([sO(f,p.h,r,s)],{type:"text/vtt"})),r="text/vtt";case 6:if(!tK(tz((d={id:f.Yd++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:of(0,c,[e]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:a||null,type:u.X,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!o,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}).mimeType,d.codecs)))throw new eF(2,2,2014,r);return f.i.textStreams.push(d),sG(f),p.return(nu(d))}})},b.jf=function(e,t){var n,r,i,a,o,s,l,u,c,d,f,p,h,g,m,y,b=this;return B(function(w){switch(w.g){case 1:if(b.l!=lo&&b.l!=ls)throw new eF(1,7,7004);if(b.l==ls)throw new eF(1,2,2016);if(t){w.A(2);break}return A(w,sR(b,e),3);case 3:t=w.h;case 2:if("text/vtt"!=t)throw new eF(1,2,2017,e);if(n=e7,1/0==(r=b.i.presentationTimeline.getDuration()))throw new eF(1,4,4045);return A(w,sD(b,e,b.D,b.h.streaming.retryParameters),4);case 4:if(i=w.h,!(a=tY[t]))throw new eF(2,2,2014,t);for(o=a(),s={periodStart:0,segmentStart:0,segmentEnd:r,vttOffset:0},l=eL(i),u=o.parseMedia(l,s),c=[],d={},p=(f=v(u)).next();!p.done;d={Rb:d.Rb},p=f.next())h=p.value,d.Rb=e4([e],[h.payload])[0],g=new am(h.startTime,h.endTime,function(e){return function(){return[e.Rb]}}(d),0,null,null,0,0,1/0),d.Rb.includes("#xywh")&&4===(m=d.Rb.split("#xywh=")[1].split(",")).length&&g.Ye({height:parseInt(m[3],10),positionX:parseInt(m[0],10),positionY:parseInt(m[1],10),width:parseInt(m[2],10)}),c.push(g);return y={id:b.Yd++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new od(c),mimeType:t||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",label:null,type:n.Wb,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1"},b.i.imageStreams.push(y),sG(b),w.return(nc(y))}})},b.gf=function(e,t,n){var r,i,a,o=this;return B(function(s){switch(s.g){case 1:if(o.l!=lo&&o.l!=ls)throw new eF(1,7,7004);if(n){s.A(2);break}return A(s,sR(o,e),3);case 3:n=s.h;case 2:if(r=[],o.F)try{r=o.F.getServerSideCuePoints()}catch(e){}return A(s,sP(o,e,t,"chapters",n,"",r),4);case 4:if(i=s.h,!(a=o.He().find(function(e){return e.language==t}))){s.A(5);break}return A(s,new Promise(function(e,t){o.s.ma(i,"load",e),o.s.ma(i,"error",function(){t(new eF(1,2,2015))})}),6);case 6:return s.return(a);case 5:throw new eF(1,2,2012)}})},b.ke=function(e,t){this.ec.width=e,this.ec.height=t},b.ce=function(e){if(this.l==lo){var t=this.j;if(e=void 0===e?.1:e,t.h.g)t=!1;else if(t.s)t=!1;else{for(var n=v(t.j.values()),r=n.next();!r.done;r=n.next())!(r=r.value).nc||r.ra||r.Ka||(r.nc=!1,oj(t,r,e));t=!0}}else t=!1;return t},b.If=function(){return ee("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},b.Jf=function(){return this.Yc},b.$e=function(e){this.Uc=e},G("shaka.Player",sy),sy.prototype.setVideoContainer=sy.prototype.$e,sy.prototype.getManifestParserFactory=sy.prototype.Jf,sy.prototype.getManifest=sy.prototype.If,sy.prototype.retryStreaming=sy.prototype.ce,sy.prototype.setMaxHardwareResolution=sy.prototype.ke,sy.prototype.addChaptersTrack=sy.prototype.gf,sy.prototype.addThumbnailsTrack=sy.prototype.jf,sy.prototype.addTextTrackAsync=sy.prototype.hf,sy.prototype.getStats=sy.prototype.getStats,sy.prototype.getBufferedInfo=sy.prototype.Na,sy.prototype.getPresentationStartTimeAsDate=sy.prototype.Ie,sy.prototype.getPlayheadTimeAsDate=sy.prototype.Of,sy.prototype.setTextTrackVisibility=sy.prototype.yg,sy.prototype.getChapters=sy.prototype.Cf,sy.prototype.getChaptersTracks=sy.prototype.He,sy.prototype.isTextTrackVisible=sy.prototype.Hd,sy.prototype.selectVariantsByLabel=sy.prototype.tg,sy.prototype.selectTextLanguage=sy.prototype.he,sy.prototype.selectAudioLanguage=sy.prototype.ge,sy.prototype.getTextLanguages=sy.prototype.Qf,sy.prototype.getAudioLanguages=sy.prototype.zf,sy.prototype.getTextLanguagesAndRoles=sy.prototype.Rf,sy.prototype.getAudioLanguagesAndRoles=sy.prototype.Af,sy.prototype.selectVariantTrack=sy.prototype.Te,sy.prototype.selectTextTrack=sy.prototype.Se,sy.prototype.getThumbnails=sy.prototype.Tf,sy.prototype.getImageTracks=sy.prototype.Ff,sy.prototype.getTextTracks=sy.prototype.Fb,sy.prototype.getVariantTracks=sy.prototype.Xa,sy.prototype.cancelTrickPlay=sy.prototype.pf,sy.prototype.trickPlay=sy.prototype.Ag,sy.prototype.getPlaybackRate=sy.prototype.Rc,sy.prototype.isBuffering=sy.prototype.Fd,sy.prototype.getKeyStatuses=sy.prototype.Qc,sy.prototype.getExpiration=sy.prototype.ic,sy.prototype.drmInfo=sy.prototype.drmInfo,sy.prototype.keySystem=sy.prototype.keySystem,sy.prototype.goToLive=sy.prototype.Xf,sy.prototype.seekRange=sy.prototype.uc,sy.prototype.isAudioOnly=sy.prototype.Zf,sy.prototype.isInProgress=sy.prototype.jb,sy.prototype.isLive=sy.prototype.U,sy.prototype.getAdManager=sy.prototype.Ge,sy.prototype.getAssetUri=sy.prototype.Dd,sy.prototype.getNetworkingEngine=sy.prototype.jc,sy.prototype.getMediaElement=sy.prototype.Lf,sy.prototype.getLoadMode=sy.prototype.Hf,sy.prototype.resetConfiguration=sy.prototype.rg,sy.prototype.getBufferFullness=sy.prototype.Bf,sy.prototype.getConfiguration=sy.prototype.getConfiguration,sy.prototype.configure=sy.prototype.configure,sy.prototype.load=sy.prototype.load,sy.prototype.updateStartTime=sy.prototype.Fg,sy.prototype.unload=sy.prototype.re,sy.prototype.detach=sy.prototype.detach,sy.prototype.attachCanvas=sy.prototype.lf,sy.prototype.attach=sy.prototype.Yb,sy.probeSupport=function(e){var t,n,r,i,a;return e=void 0===e||e,B(function(o){if(1==o.g){var s,l,u,c,d,f;return t={},e?A(o,B(function(e){return 1==e.g?(s="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),u={initDataTypes:["cenc"],videoCapabilities:l=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}]},c=[{videoCapabilities:l,persistentState:"required",sessionTypes:["persistent-license"]},u],d=new Map,f=function(e){var t,n,r;return B(function(i){switch(i.g){case 1:if(M(i,2),"org.w3.clearkey"===e&&tp())throw Error("Unsupported keySystem");return A(i,navigator.requestMediaKeySystemAccess(e,c),4);case 4:return r=!!(n=(t=i.h).getConfiguration().sessionTypes)&&n.includes("persistent-license"),th("Tizen 3")&&(r=!1),d.set(e,{persistentState:r}),A(i,t.createMediaKeys(),5);case 5:P(i,0);break;case 2:D(i),d.set(e,null),I(i)}})},A(e,Promise.all(s.map(function(e){return f(e)})),2)):e.return(rh(d))}),3):o.A(2)}2!=o.g&&(t=o.h);var p={};if(ta()){for(var h in ih)p[h]=!0;for(var g in ig)p[g]=!0}h={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"},g=v(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]);for(var m=g.next();!m.done;m=g.next())p[m=m.value]=ta()?!!ih[m]:to(m);for(var b in h)p[b]=ta()?!!ig[b]:to(h[b]);for(n=p,b='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(y(a0)),p={},h=(b=v(b)).next();!h.done;h=b.next())p[h=h.value]=ta()?!!tK(h)||es(h)||tL(h):to(h),p[g=h.split(";")[0]]=p[g]||p[h];for(a in r={manifest:n,media:p,drm:t},i=lu)r[a]=i[a]();return o.return(r)})},sy.isBrowserSupported=function(){if(e.Promise||ee("A Promise implementation or polyfill is required"),!(e.Promise&&e.Uint8Array&&Array.prototype.forEach)||th("Trident/"))return!1;var t=tp();return(!t||!(13>t))&&!!(e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration)&&(!!ta()||to("application/x-mpegurl"))},sy.setAdManagerFactory=function(e){lc=e},sy.registerSupportPlugin=function(e,t){lu[e]=t},sy.prototype.destroy=sy.prototype.destroy;var li=0,la=1,lo=2,ls=3;sy.LoadMode={DESTROYED:0,NOT_LOADED:1,MEDIA_SOURCE:2,SRC_EQUALS:3},sy.version="v4.3.5";nN=new function(e){this.g=e,this.i=nD,this.h=nO}(new nR(Number("4"),Number("3")));var ll=["output-restricted","internal-error"],lu={},lc=null,ld={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"},lf={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"};function lp(){this.h=[],this.j=this.i=this.g=0}function lh(e,t,n){var r=this;this.h=e,this.g=t,this.m=n,this.i=!1,this.l=this.g.getVolume(),this.j=new ru,this.j.C(this.g,google.ima.AdEvent.Type.PAUSED,function(){r.i=!0}),this.j.C(this.g,google.ima.AdEvent.Type.RESUMED,function(){r.i=!1})}function lg(t,n,r,i){var a=this;this.o=t,this.i=n,this.s=null,this.u=NaN,this.l=i,this.j=null,this.h=new ru,google.ima.settings.setLocale(r),(t=new google.ima.AdDisplayContainer(this.o,this.i)).initialize(),this.m=new google.ima.AdsLoader(t),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.3.5"),this.g=null,this.h.ma(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){var n=a,r=t;n.l(new n1("ads-loaded",new Map().set("loadTime",Date.now()/1e3-n.u))),n.g=r.getAdsManager(n.i),n.l(new n1("ima-ad-manager-loaded",new Map().set("imaAdManager",n.g)));var i=n.g.getCuePoints();if(i.length){r=[],i=v(i);for(var o=i.next();!o.done;o=i.next())r.push({start:o.value,end:null});n.l(new n1("ad-cue-points-changed",new Map().set("cuepoints",r)))}var s=n;function l(e,t){e=new Map().set("originalEvent",e),s.l(new n1(t,e))}s.h.C(s.g,google.ima.AdErrorEvent.Type.AD_ERROR,function(e){lm(s,e)}),s.h.C(s.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(e){ly(s,e)}),s.h.C(s.g,google.ima.AdEvent.Type.STARTED,function(e){ly(s,e)}),s.h.C(s.g,google.ima.AdEvent.Type.FIRST_QUARTILE,function(e){l(e,"ad-first-quartile")}),s.h.C(s.g,google.ima.AdEvent.Type.MIDPOINT,function(e){l(e,"ad-midpoint")}),s.h.C(s.g,google.ima.AdEvent.Type.THIRD_QUARTILE,function(e){l(e,"ad-third-quartile")}),s.h.C(s.g,google.ima.AdEvent.Type.COMPLETE,function(e){l(e,"ad-complete")}),s.h.C(s.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(e){lb(s,e)}),s.h.C(s.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(e){lb(s,e)}),s.h.C(s.g,google.ima.AdEvent.Type.SKIPPED,function(e){l(e,"ad-skipped")}),s.h.C(s.g,google.ima.AdEvent.Type.VOLUME_CHANGED,function(e){l(e,"ad-volume-changed")}),s.h.C(s.g,google.ima.AdEvent.Type.VOLUME_MUTED,function(e){l(e,"ad-muted")}),s.h.C(s.g,google.ima.AdEvent.Type.PAUSED,function(e){s.j&&(s.j.i=!0,l(e,"ad-paused"))}),s.h.C(s.g,google.ima.AdEvent.Type.RESUMED,function(e){s.j&&(s.j.i=!1,l(e,"ad-resumed"))}),s.h.C(s.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(e){s.j&&l(e,"ad-skip-state-changed")}),s.h.C(s.g,google.ima.AdEvent.Type.CLICK,function(e){l(e,"ad-clicked")}),s.h.C(s.g,google.ima.AdEvent.Type.AD_PROGRESS,function(e){l(e,"ad-progress")}),s.h.C(s.g,google.ima.AdEvent.Type.AD_BUFFERING,function(e){l(e,"ad-buffering")}),s.h.C(s.g,google.ima.AdEvent.Type.IMPRESSION,function(e){l(e,"ad-impression")}),s.h.C(s.g,google.ima.AdEvent.Type.DURATION_CHANGE,function(e){l(e,"ad-duration-changed")}),s.h.C(s.g,google.ima.AdEvent.Type.USER_CLOSE,function(e){l(e,"ad-closed")}),s.h.C(s.g,google.ima.AdEvent.Type.LOADED,function(e){l(e,"ad-loaded")}),s.h.C(s.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(e){l(e,"all-ads-completed")}),s.h.C(s.g,google.ima.AdEvent.Type.LINEAR_CHANGED,function(e){l(e,"ad-linear-changed")}),s.h.C(s.g,google.ima.AdEvent.Type.AD_METADATA,function(e){l(e,"ad-metadata")}),s.h.C(s.g,google.ima.AdEvent.Type.LOG,function(e){l(e,"ad-recoverable-error")}),s.h.C(s.g,google.ima.AdEvent.Type.AD_BREAK_READY,function(e){l(e,"ad-break-ready")}),s.h.C(s.g,google.ima.AdEvent.Type.INTERACTION,function(e){l(e,"ad-interaction")});try{n.g.init(n.i.offsetWidth,n.i.offsetHeight,lv(n)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),n.h.C(n.i,"loadeddata",function(){n.g.resize(n.i.offsetWidth,n.i.offsetHeight,lv(n)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),"ResizeObserver"in e?(n.s=new ResizeObserver(function(){n.g.resize(n.i.offsetWidth,n.i.offsetHeight,lv(n)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),n.s.observe(n.i)):n.h.C(document,"fullscreenchange",function(){n.g.resize(n.i.offsetWidth,n.i.offsetHeight,lv(n)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),n.i.addEventListener("play",function(){n.g.start()},{once:!0})}catch(e){lb(n,null)}}),this.h.C(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,function(e){lm(a,e)}),this.h.C(this.i,"ended",function(){a.m.contentComplete()})}function lm(e,t){t.getError(),lb(e,null),e.l(new n1("ad-cue-points-changed",new Map().set("cuepoints",[])))}function lv(e){return document.fullscreenEnabled?!!document.fullscreenElement:!!(e=e.i).webkitSupportsFullscreen&&e.webkitDisplayingFullscreen}function ly(e,t){var n=t.getAd();n?(e.j=new lh(n,e.g,e.i),t=new Map().set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.l(new n1("ad-started",t)),e.j.isLinear()&&(e.o.setAttribute("ad-active","true"),e.i.pause(),e.j.setVolume(e.i.muted?0:e.i.volume))):ee("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function lb(e,t){e.l(new n1("ad-stopped",new Map().set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.o.removeAttribute("ad-active"),e.i.ended||e.i.play())}function lw(e,t){this.i=e,this.h=null,this.g=t}function l_(e,t,n,r){var i=this;this.s=e,this.l=t,this.j=null,this.G=NaN,this.i=r,this.F=!1,this.u=this.m=this.o=null,this.B="",this.D=[],this.h=new ru,(e=new google.ima.dai.api.UiSettings).setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.s,e),this.i(new n1("ima-stream-manager-loaded",new Map().set("imaStreamManager",this.g))),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,function(e){var t,n;t=i,n=e,t.i(new n1("ads-loaded",new Map().set("loadTime",Date.now()/1e3-t.G))),n=n.getStreamData().url,t.j.resolve(n),t.j=null,t.F||t.h.C(t.l,"seeked",function(){var e=t.l.currentTime;if(0!=e){t.g.streamTimeForContentTime(e);var n=t.g.previousCuePointForStreamTime(e);n&&!n.played&&(t.o=e,t.l.currentTime=n.start)}})}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,function(){i.B.length?i.j.resolve(i.B):i.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.j=null}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,function(e){i.m=new lw(e=e.getAd(),i.l),i.u&&(i.m.h=i.u),i.i(new n1("ad-started",new Map().set("ad",i.m))),i.s.setAttribute("ad-active","true")}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){i.s.removeAttribute("ad-active");var e=i.l.currentTime;i.o&&i.o>e&&(i.l.currentTime=i.o,i.o=null)}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(e){i.u=e.getStreamData().adProgressData,i.m&&(i.m.h=i.u)}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){i.i(new n1("ad-first-quartile"))}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){i.i(new n1("ad-midpoint"))}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){i.i(new n1("ad-third-quartile"))}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){i.i(new n1("ad-complete")),i.i(new n1("ad-stopped")),i.s.removeAttribute("ad-active"),i.m=null}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){i.i(new n1("ad-skipped")),i.i(new n1("ad-stopped"))}),this.h.C(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(e){var t=e.getStreamData();e=[],t=v(t.cuepoints);for(var n=t.next();!n.done;n=t.next())n=n.value,e.push({start:n.start,end:n.end});i.D=e,i.i(new n1("ad-cue-points-changed",new Map().set("cuepoints",e)))})}function lS(){n4.call(this),this.g=this.i=null,this.h=new lp,this.j=navigator.language}function lx(e){return JSON.stringify(e,function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof n1){var n={};for(r in t)(e=t[r])&&"object"==typeof e?"detail"==r&&(n[r]=e):r in Event||(n[r]=e);return n}if(t instanceof Error){var r=new Set(["name","message","stack"]);for(n in t)r.add(n);for(n=(e=v(Object.getOwnPropertyNames(t))).next();!n.done;n=e.next())r.add(n.value);for(e={},n=(r=v(r)).next();!n.done;n=r.next())e[n=n.value]=t[n];t={__type__:"Error",contents:e}}else if(t instanceof TimeRanges){for(r={__type__:"TimeRanges",length:t.length,start:[],end:[]},n=(t=v(ax(t))).next();!n.done;n=t.next())e=(n=n.value).end,r.start.push(n.start),r.end.push(e);t=r}else t=t instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return t}})}function lE(e){return JSON.parse(e,function(e,t){if("NaN"==t)var n,r=NaN;else if("-Infinity"==t)r=-1/0;else if("Infinity"==t)r=1/0;else if(t&&"object"==typeof t&&"TimeRanges"==t.__type__){r={length:(n=t).length,start:function(e){return n.start[e]},end:function(e){return n.end[e]}}}else if(t&&"object"==typeof t&&"Uint8Array"==t.__type__)r=new Uint8Array(t.entries);else if(t&&"object"==typeof t&&"Error"==t.__type__){for(r in t=Error((e=t.contents).message),e)t[r]=e[r];r=t}else r=t;return r})}(b=lh.prototype).getDuration=function(){return this.h.getDuration()},b.getMinSuggestedDuration=function(){return this.h.getMinSuggestedDuration()},b.getRemainingTime=function(){return this.g.getRemainingTime()},b.isPaused=function(){return this.i},b.isSkippable=function(){return 0<=this.h.getSkipTimeOffset()},b.getTimeUntilSkippable=function(){var e=this.h.getSkipTimeOffset();return Math.max(e=this.getRemainingTime()-e,0)},b.canSkipNow=function(){return this.g.getAdSkippableState()},b.skip=function(){return this.g.skip()},b.pause=function(){return this.g.pause()},b.play=function(){return this.g.resume()},b.getVolume=function(){return this.g.getVolume()},b.setVolume=function(e){return this.g.setVolume(e)},b.isMuted=function(){return 0==this.g.getVolume()},b.isLinear=function(){return this.h.isLinear()},b.resize=function(e,t){var n=!1,r=this.m;document.fullscreenEnabled?n=!!document.fullscreenElement:r.webkitSupportsFullscreen&&(n=r.webkitDisplayingFullscreen),this.g.resize(e,t,n?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},b.setMuted=function(e){e?(this.l=this.getVolume(),this.setVolume(0)):this.setVolume(this.l)},b.getSequenceLength=function(){var e=this.h.getAdPodInfo();return null==e?1:e.getTotalAds()},b.getPositionInSequence=function(){var e=this.h.getAdPodInfo();return null==e?1:e.getAdPosition()},b.getTitle=function(){return this.h.getTitle()},b.getDescription=function(){return this.h.getDescription()},b.release=function(){this.g=this.h=null},G("shaka.ads.ClientSideAd",lh),lh.prototype.release=lh.prototype.release,lh.prototype.getDescription=lh.prototype.getDescription,lh.prototype.getTitle=lh.prototype.getTitle,lh.prototype.getPositionInSequence=lh.prototype.getPositionInSequence,lh.prototype.getSequenceLength=lh.prototype.getSequenceLength,lh.prototype.setMuted=lh.prototype.setMuted,lh.prototype.resize=lh.prototype.resize,lh.prototype.isLinear=lh.prototype.isLinear,lh.prototype.isMuted=lh.prototype.isMuted,lh.prototype.setVolume=lh.prototype.setVolume,lh.prototype.getVolume=lh.prototype.getVolume,lh.prototype.play=lh.prototype.play,lh.prototype.pause=lh.prototype.pause,lh.prototype.skip=lh.prototype.skip,lh.prototype.canSkipNow=lh.prototype.canSkipNow,lh.prototype.getTimeUntilSkippable=lh.prototype.getTimeUntilSkippable,lh.prototype.isSkippable=lh.prototype.isSkippable,lh.prototype.isPaused=lh.prototype.isPaused,lh.prototype.getRemainingTime=lh.prototype.getRemainingTime,lh.prototype.getMinSuggestedDuration=lh.prototype.getMinSuggestedDuration,lh.prototype.getDuration=lh.prototype.getDuration,lg.prototype.stop=function(){this.g&&this.g.stop(),this.o&&oG(this.o)},lg.prototype.release=function(){this.stop(),this.s&&this.s.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy()},(b=lw.prototype).getDuration=function(){return this.h?this.h.duration:-1},b.getMinSuggestedDuration=function(){return this.getDuration()},b.getRemainingTime=function(){return this.h?this.h.duration-this.h.currentTime:-1},b.isPaused=function(){return this.g.paused},b.isSkippable=function(){return this.i.isSkippable()},b.getTimeUntilSkippable=function(){var e=this.i.getSkipTimeOffset();return Math.max(e=this.getRemainingTime()-e,0)},b.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},b.skip=function(){this.g.currentTime+=this.getRemainingTime()},b.pause=function(){return this.g.pause()},b.play=function(){return this.g.play()},b.getVolume=function(){return this.g.volume},b.setVolume=function(e){this.g.volume=e},b.isMuted=function(){return this.g.muted},b.isLinear=function(){return!0},b.resize=function(){},b.setMuted=function(e){this.g.muted=e},b.getSequenceLength=function(){var e=this.i.getAdPodInfo();return null==e?1:e.getTotalAds()},b.getPositionInSequence=function(){var e=this.i.getAdPodInfo();return null==e?1:e.getAdPosition()},b.getTitle=function(){return this.i.getTitle()},b.getDescription=function(){return this.i.getDescription()},b.release=function(){this.g=this.h=this.i=null},G("shaka.ads.ServerSideAd",lw),lw.prototype.release=lw.prototype.release,lw.prototype.getDescription=lw.prototype.getDescription,lw.prototype.getTitle=lw.prototype.getTitle,lw.prototype.getPositionInSequence=lw.prototype.getPositionInSequence,lw.prototype.getSequenceLength=lw.prototype.getSequenceLength,lw.prototype.setMuted=lw.prototype.setMuted,lw.prototype.resize=lw.prototype.resize,lw.prototype.isLinear=lw.prototype.isLinear,lw.prototype.isMuted=lw.prototype.isMuted,lw.prototype.setVolume=lw.prototype.setVolume,lw.prototype.getVolume=lw.prototype.getVolume,lw.prototype.play=lw.prototype.play,lw.prototype.pause=lw.prototype.pause,lw.prototype.skip=lw.prototype.skip,lw.prototype.canSkipNow=lw.prototype.canSkipNow,lw.prototype.getTimeUntilSkippable=lw.prototype.getTimeUntilSkippable,lw.prototype.isSkippable=lw.prototype.isSkippable,lw.prototype.isPaused=lw.prototype.isPaused,lw.prototype.getRemainingTime=lw.prototype.getRemainingTime,lw.prototype.getMinSuggestedDuration=lw.prototype.getMinSuggestedDuration,lw.prototype.getDuration=lw.prototype.getDuration,l_.prototype.stop=function(){this.B="",this.o=null,this.D=[]},l_.prototype.release=function(){this.stop(),this.h&&this.h.release()},l_.prototype.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}},E(lS,n4),(b=lS.prototype).setLocale=function(e){this.j=e},b.initClientSide=function(t,n){var r=this;if(!e.google||!google.ima||!google.ima.AdsLoader)throw new eF(2,10,1e4);this.i&&this.i.release(),this.i=new lg(t,n,this.j,function(e){if(e&&e.type)switch(e.type){case"ads-loaded":r.h.h.push(e.loadTime);break;case"ad-started":r.h.g++;break;case"ad-complete":r.h.i++;break;case"ad-skipped":r.h.j++}r.dispatchEvent(e)})},b.release=function(){this.i&&(this.i.release(),this.i=null),this.g&&(this.g.release(),this.g=null),n4.prototype.release.call(this)},b.onAssetUnload=function(){this.i&&this.i.stop(),this.g&&this.g.stop(),this.dispatchEvent(new n1("ad-stopped")),this.h=new lp},b.requestClientSideAds=function(e){if(!this.i)throw new eF(1,10,10001);var t=this.i;t.u=Date.now()/1e3,t.m.requestAds(e)},b.initServerSide=function(t,n){var r=this;if(!e.google||!google.ima||!google.ima.dai)throw new eF(2,10,10002);this.g&&this.g.release(),this.g=new l_(t,n,this.j,function(e){if(e&&e.type)switch(e.type){case"ads-loaded":r.h.h.push(e.loadTime);break;case"ad-started":r.h.g++;break;case"ad-complete":r.h.i++;break;case"ad-skipped":r.h.j++}r.dispatchEvent(e)})},b.requestServerSideStream=function(e,t){if(t=void 0===t?"":t,!this.g)throw new eF(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&ee('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.3.5",(n=this.g).j?e=Promise.reject(new eF(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.F=!0),n.j=new tt,n.g.requestStream(e),n.B=t||"",n.G=Date.now()/1e3,e=n.j),e},b.replaceServerSideAdTagParameters=function(e){if(!this.g)throw new eF(1,10,10003);(e.mpt||e.mpv)&&ee('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv="v4.3.5",this.g.g.replaceAdTagParameters(e)},b.getServerSideCuePoints=function(){if(!this.g)throw new eF(1,10,10003);return this.g.D},b.getStats=function(){var e=this.h;return{loadTimes:e.h,started:e.g,playedCompletely:e.i,skipped:e.j}},b.onDashTimedMetadata=function(e){if(this.g&&"urn:google:dai:2018"==e.schemeIdUri){var t=e.schemeIdUri,n=e.eventElement?e.eventElement.getAttribute("messageData"):null;this.g.g.processMetadata(t,n,e.startTime)}},b.onHlsTimedMetadata=function(e,t){this.g&&this.g.g.processMetadata("ID3",e.data,t)},b.onCueMetadataChange=function(e){this.g&&this.g.onCueMetadataChange(e)},G("shaka.ads.AdManager",lS),lS.prototype.onCueMetadataChange=lS.prototype.onCueMetadataChange,lS.prototype.onHlsTimedMetadata=lS.prototype.onHlsTimedMetadata,lS.prototype.onDashTimedMetadata=lS.prototype.onDashTimedMetadata,lS.prototype.getStats=lS.prototype.getStats,lS.prototype.getServerSideCuePoints=lS.prototype.getServerSideCuePoints,lS.prototype.replaceServerSideAdTagParameters=lS.prototype.replaceServerSideAdTagParameters,lS.prototype.requestServerSideStream=lS.prototype.requestServerSideStream,lS.prototype.initServerSide=lS.prototype.initServerSide,lS.prototype.requestClientSideAds=lS.prototype.requestClientSideAds,lS.prototype.onAssetUnload=lS.prototype.onAssetUnload,lS.prototype.release=lS.prototype.release,lS.prototype.initClientSide=lS.prototype.initClientSide,lS.prototype.setLocale=lS.prototype.setLocale,lS.ADS_LOADED="ads-loaded",lS.AD_STARTED="ad-started",lS.AD_FIRST_QUARTILE="ad-first-quartile",lS.AD_MIDPOINT="ad-midpoint",lS.AD_THIRD_QUARTILE="ad-third-quartile",lS.AD_COMPLETE="ad-complete",lS.AD_STOPPED="ad-stopped",lS.AD_SKIPPED="ad-skipped",lS.AD_VOLUME_CHANGED="ad-volume-changed",lS.AD_MUTED="ad-muted",lS.AD_PAUSED="ad-paused",lS.AD_RESUMED="ad-resumed",lS.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",lS.CUEPOINTS_CHANGED="ad-cue-points-changed",lS.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",lS.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",lS.AD_CLICKED="ad-clicked",lS.AD_PROGRESS="ad-progress",lS.AD_BUFFERING="ad-buffering",lS.AD_IMPRESSION="ad-impression",lS.AD_DURATION_CHANGED="ad-duration-changed",lS.AD_CLOSED="ad-closed",lS.AD_LOADED="ad-loaded",lS.ALL_ADS_COMPLETED="all-ads-completed",lS.AD_LINEAR_CHANGED="ad-linear-changed",lS.AD_METADATA="ad-metadata",lS.AD_RECOVERABLE_ERROR="ad-recoverable-error",lS.AD_BREAK_READY="ad-break-ready",lS.AD_INTERACTION="ad-interaction",lc=function(){return new lS};var lT="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),lk="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),lC=["loop","playbackRate"],lA=["pause","play"],lI={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferFullness:1,getBufferedInfo:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},lM={getConfiguration:4,getStats:5,getTextTracks:2,getVariantTracks:2},lR={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},lP=[["getConfiguration","configure"]],lD=[["isTextTrackVisible","setTextTrackVisibility"]],lO="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),lN=["attach","attachCanvas","detach","load","unload"];function lL(e,t,n,r,i,a,o){var s=this;this.G=e,this.M=o,this.j=new ti(t),this.O=n,this.u=!1,this.s=r,this.F=i,this.J=a,this.h=this.m=!1,this.L="",this.o=null,this.B=function(){return lz(s)},this.D=function(e,t){switch((e=lE(t)).type){case"event":var n=e.targetName,r=n2(e.event);s.s(n,r);break;case"update":for(r in n=e.update)for(var i in e=s.g[r]||{},n[r])e[i]=n[r][i];s.u&&(s.O(),s.u=!1);break;case"asyncComplete":if(r=e.id,i=e.error,e=s.i[r],delete s.i[r],e)if(i){for(n in r=new eF(i.severity,i.category,i.code),i)r[n]=i[n];e.reject(r)}else e.resolve()}},this.g={video:{},player:{}},this.H=0,this.i={},this.l=null,lG.add(this)}function lj(e,t,n){lW=n,n.addUpdateListener(e.B),n.addMessageListener("urn:x-cast:com.google.shaka.v2",e.D),lz(e),lH(e,{type:"init",initState:t,appData:e.o}),e.l.resolve()}function lU(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.l.reject(new eF(2,8,n,t))}function lF(e,t){var n=e.J();e.l=new tt,e.u=!0,lj(e,n,t)}function lB(e){var t=lW;t.removeUpdateListener(e.B),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.D)}function lz(e){var t=!!lW&&"connected"==lW.status;if(e.h&&!t){for(var n in e.F(),e.g)e.g[n]={};l$(e)}e.h=t,e.L=t?lW.receiver.friendlyName:"",e.j.Mb()}function l$(e){for(var t in e.i){var n=e.i[t];delete e.i[t],n.reject(new eF(1,7,7e3))}}function lH(e,t){t=lx(t);var n=lW;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},en)}catch(r){throw t=new eF(2,8,8005,r),n=new n1("error",new Map().set("detail",t)),e.s("player",n),e.Ab(),t}}(b=lL.prototype).destroy=function(){return lG.delete(this),l$(this),lW&&lB(this),this.j&&(this.j.stop(),this.j=null),this.F=this.s=null,this.h=this.m=!1,this.D=this.B=this.l=this.i=this.g=this.o=null,Promise.resolve()},b.sa=function(){return this.h},b.ae=function(){return this.L},b.init=function(){if(this.G.length)if(e.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.j.Mb();var t=new chrome.cast.SessionRequest(this.G,[],null,this.M,null);t=new chrome.cast.ApiConfig(t,function(e){for(var t=v(lG),n=t.next();!n.done;n=t.next())lF(n.value,e)},function(e){for(var t=v(lG),n=t.next();!n.done;n=t.next())n=n.value,lq="available"==e,n.j.Mb()},"origin_scoped"),chrome.cast.initialize(t,function(){},function(){}),lq&&this.j.N(lV),(t=lW)&&t.status!=chrome.cast.SessionStatus.STOPPED?lF(this,t):lW=null}else e.__onGCastApiAvailable!==lX&&(lK=e.__onGCastApiAvailable||null,e.__onGCastApiAvailable=lX)},b.ie=function(e){this.o=e,this.h&&lH(this,{type:"appData",appData:this.o})},b.cast=function(e){var t=this;return B(function(n){if(!t.m)throw new eF(1,8,8e3);if(!lq)throw new eF(1,8,8001);if(t.h)throw new eF(1,8,8002);return t.l=new tt,chrome.cast.requestSession(function(n){return lj(t,e,n)},function(e){return lU(t,e)}),A(n,t.l,0)})},b.Ab=function(){if(this.h){if(l$(this),lW){lB(this);try{lW.stop(function(){},function(){})}catch(e){}lW=null}lz(this)}},b.get=function(e,t){var n=this;if("video"==e){if(lA.includes(t))return function(){return n.Qe.apply(n,[e,t].concat(y(z.apply(0,arguments))))}}else if("player"==e){if(lR[t]&&!this.get("player","isLive")())return function(){};if(lO.includes(t))return function(){return n.Qe.apply(n,[e,t].concat(y(z.apply(0,arguments))))};if(lN.includes(t))return function(){return n.og.apply(n,[e,t].concat(y(z.apply(0,arguments))))};if(lI[t]||lM[t])return function(){return n.g[e][t]}}return this.g[e][t]},b.set=function(e,t,n){this.g[e][t]=n,lH(this,{type:"set",targetName:e,property:t,value:n})},b.Qe=function(e,t){lH(this,{type:"call",targetName:e,methodName:t,args:z.apply(2,arguments)})},b.og=function(e,t){var n=z.apply(2,arguments),r=new tt,i=this.H.toString();this.H++,this.i[i]=r;try{lH(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:i})}catch(e){r.reject(e)}return r};var lV=.02,lq=!1,lW=null,lK=null,lG=new Set;function lX(t){if(lK?e.__onGCastApiAvailable=lK:delete e.__onGCastApiAvailable,lK=null,t)for(var n=v(lG),r=n.next();!r.done;r=n.next())r.value.init();"function"==typeof e.__onGCastApiAvailable&&e.__onGCastApiAvailable(t)}function lY(e,t,n,r){r=void 0!==r&&r,n4.call(this);var i=this;this.i=e,this.h=t,this.m=this.o=this.j=this.s=this.l=null,this.D=n,this.B=r,this.u=new Map,this.g=new lL(n,function(){return lZ(i)},function(){return l0(i)},function(e,t){return l2(i,e,t)},function(){return l1(i)},function(){return lQ(i)},r),function(e){e.g.init(),e.m=new ru;for(var t,n,r=v(lT),i=r.next();!i.done;i=r.next())e.m.C(e.i,i.value,function(t){e.g.sa()||(t=n2(t),e.j.dispatchEvent(t))});for(var a in n3)e.m.C(e.h,n3[a],function(t){e.g.sa()||e.o.dispatchEvent(t)});for(var o in e.l={},r={},e.i)r.Sb=o,Object.defineProperty(e.l,r.Sb,{configurable:!1,enumerable:!0,get:function(t){return function(){return function(e,t){if("addEventListener"==t)return function(t,n,r){return e.j.addEventListener(t,n,r)};if("removeEventListener"==t)return function(t,n,r){return e.j.removeEventListener(t,n,r)};if(e.g.sa()&&0==Object.keys(e.g.g.video).length){var n=e.i[t];if("function"!=typeof n)return n}return e.g.sa()?e.g.get("video",t):("function"==typeof(t=e.i[t])&&(t=t.bind(e.i)),t)}(e,t.Sb)}}(r),set:function(t){return function(n){var r=t.Sb;e.g.sa()?e.g.set("video",r,n):e.i[r]=n}}(r)}),r={Sb:r.Sb};e.s={},lJ(e,function(t){Object.defineProperty(e.s,t,{configurable:!1,enumerable:!0,get:function(){var n=e,r=t;if(n.u.has(r)&&(r=n.u.get(r)),"addEventListener"==r)return function(e,t,r){return n.o.addEventListener(e,t,r)};if("removeEventListener"==r)return function(e,t,r){return n.o.removeEventListener(e,t,r)};if("getMediaElement"==r)return function(){return n.l};if("getSharedConfiguration"==r)return n.g.get("player","getConfiguration");if("getNetworkingEngine"==r)return function(){return n.h.jc()};if("getDrmEngine"==r)return function(){return n.h.m};if("getAdManager"==r)return function(){return n.h.Ge()};if("setVideoContainer"==r)return function(e){return n.h.$e(e)};if(n.g.sa()){if("getManifest"==r||"drmInfo"==r)return function(){return ee(r+"() does not work while casting!"),null};if("attach"==r||"detach"==r)return function(){return ee(r+"() does not work while casting!"),Promise.resolve()}}return n.g.sa()&&0==Object.keys(n.g.g.video).length&&(lI[r]||lM[r])||!n.g.sa()?n.h[r].bind(n.h):n.g.get("player",r)}})}),t=e,n=new Map,lJ(t,function(e,r){n.has(r)?(r=n.get(r),e.length<r.length?t.u.set(e,r):t.u.set(r,e)):n.set(r,e)}),e.j=new n4,e.j.Wc=e.l,e.o=new n4,e.o.Wc=e.s}(this)}function lJ(e,t){function n(e){return"constructor"!=e&&"function"==typeof i[e]&&!a.has(e)}var r,i=e.h,a=new Set;for(r in i)n(r)&&(a.add(r),t(r,i[r]));for(e=Object.getPrototypeOf(i),r=Object.getPrototypeOf({});e&&e!=r;){for(var o=v(Object.getOwnPropertyNames(e)),s=o.next();!s.done;s=o.next())n(s=s.value)&&(a.add(s),t(s,i[s]));e=Object.getPrototypeOf(e)}}function lQ(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.Dd(),startTime:null};e.i.pause();for(var n=v(lC),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.i[r];for(e.i.ended||(t.startTime=e.i.currentTime),r=(n=v(lP)).next();!r.done;r=n.next()){var i=r.value;r=i[1],i=e.h[i[0]](),t.player[r]=i}for(r=(n=v(lD)).next();!r.done;r=n.next())r=(i=r.value)[1],i=e.h[i[0]](),t.playerAfterLoad[r]=i;return t}function lZ(e){var t=new n1("caststatuschanged");e.dispatchEvent(t)}function l0(e){var t=new n1(e.l.paused?"pause":"play");e.j.dispatchEvent(t)}function l1(e){for(var t=v(lP),n=t.next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.g.get("player",r[0])(),e.h[n](r)}var i=e.g.get("player","getAssetUri")();n=e.g.get("video","ended"),t=Promise.resolve();var a=e.i.autoplay;r=null,n||(r=e.g.get("video","currentTime")),i&&(e.i.autoplay=!1,t=e.h.load(i,r));var o={};for(r=(n=v(lC)).next();!r.done;r=n.next())o[r=r.value]=e.g.get("video",r);t.then(function(){if(e.i){for(var t=v(lC),n=t.next();!n.done;n=t.next())n=n.value,e.i[n]=o[n];for(n=(t=v(lD)).next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.g.get("player",r[0])(),e.h[n](r)}e.i.autoplay=a,i&&e.i.play()}},function(t){t=new n1("error",t=new Map().set("detail",t)),e.h.dispatchEvent(t)})}function l2(e,t,n){e.g.sa()&&("video"==t?e.j.dispatchEvent(n):"player"==t&&e.o.dispatchEvent(n))}function l3(e,t,n,r){n4.call(this);var i=this;this.g=e,this.h=t,this.j=new ru,this.H={video:e,player:t},this.D=n||function(){},this.J=r||function(e){return e},this.i=null,this.F=!1,this.o=!0,this.m=0,this.B=!1,this.u=!0,this.s=this.l=null,this.G=new ti(function(){l8(i)}),function(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return l4(e)},t.onSenderDisconnected=function(){return l4(e)},t.onSystemVolumeChanged=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&ut(e,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},e.l),ut(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.s=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.s.onMessage=function(t){var n=e,r=t,i=lE(r.data);switch(i.type){case"PLAY":n.g.play(),un(n);break;case"PAUSE":n.g.pause(),un(n);break;case"SEEK":r=i.currentTime;var a=i.resumeState;null!=r&&(n.g.currentTime=Number(r)),a&&"PLAYBACK_START"==a?(n.g.play(),un(n)):a&&"PLAYBACK_PAUSE"==a&&(n.g.pause(),un(n));break;case"STOP":n.h.re().then(function(){n.h&&un(n)});break;case"GET_STATUS":l7(n,Number(i.requestId));break;case"VOLUME":r=(a=i.volume).level,a=a.muted;var o=n.g.volume,s=n.g.muted;null!=r&&(n.g.volume=Number(r)),null!=a&&(n.g.muted=a),o==n.g.volume&&s==n.g.muted||un(n);break;case"LOAD":n.m=0,n.B=!1,n.u=!1,r=i.media,a=i.currentTime,o=n.J(r.contentId),s=i.autoplay||!0,n.D(r.customData),s&&(n.g.autoplay=!0),n.h.load(o,a).then(function(){n.h&&l7(n)}).catch(function(e){var t="LOAD_FAILED";7==e.category&&7e3==e.code&&(t="LOAD_CANCELLED"),ut(n,{requestId:Number(i.requestId),type:t},n.s)});break;default:ut(n,{requestId:Number(i.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},n.s)}},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(t){return function(e,t){var n,r,i,a,o,s,l,u,c,d,f,p,h=lE(t.data);switch(h.type){case"init":e.m=0,e.B=!1,e.u=!0,n=e,r=h.initState,i=h.appData,B(function(e){switch(e.g){case 1:for(a in r.player)o=r.player[a],n.h[a](o);return n.D(i),s=n.g.autoplay,r.manifest?(n.g.autoplay=!1,M(e,5),A(e,n.h.load(r.manifest,r.startTime),7)):A(e,Promise.resolve(),3);case 7:P(e,3);break;case 5:return l=D(e),u=new n1("error",new Map().set("detail",l)),n.h&&n.h.dispatchEvent(u),e.return();case 3:if(!n.h)return e.return();for(c in r.video)d=r.video[c],n.g[c]=d;for(f in r.playerAfterLoad)p=r.playerAfterLoad[f],n.h[f](p);n.g.autoplay=s,r.manifest&&(n.g.play(),un(n)),I(e)}}),l8(e);break;case"appData":e.D(h.appData);break;case"set":var g=h.targetName,m=h.property;if(h=h.value,"video"==g){if(t=cast.receiver.CastReceiverManager.getInstance(),"volume"==m){t.setSystemVolumeLevel(h);break}else if("muted"==m){t.setSystemVolumeMuted(h);break}}e.H[g][m]=h;break;case"call":(g=e.H[h.targetName])[h.methodName].apply(g,h.args);break;case"asyncCall":g=h.targetName,m=h.methodName,"player"==g&&"load"==m&&(e.m=0,e.B=!1);var v=h.id,y=t.senderId;h=(t=e.H[g])[m].apply(t,h.args),"player"==g&&"load"==m&&(h=h.then(function(){e.u=!0})),h.then(function(){return ue(e,y,v,null)},function(t){return ue(e,y,v,t)})}}(e,t)},t.start(),t=v(lT);for(var n=t.next();!n.done;n=t.next())e.j.C(e.g,n.value,function(t){return l6(e,"video",t)});for(var r in n3)e.j.C(e.h,n3[r],function(t){return l6(e,"player",t)});cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.h.ke(3840,2160):e.h.ke(1920,1080),e.j.C(e.g,"loadeddata",function(){e.B=!0}),e.j.C(e.h,"loading",function(){e.o=!1,l5(e)}),e.j.C(e.g,"playing",function(){e.o=!1,l5(e)}),e.j.C(e.g,"pause",function(){l5(e)}),e.j.C(e.h,"unloading",function(){e.o=!0,l5(e)}),e.j.C(e.g,"ended",function(){new ti(function(){e.g&&e.g.ended&&(e.o=!0,l5(e))}).N(ui)})}(this)}function l4(e){e.m=0,e.u=!0,e.F=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,l5(e)}function l5(e){var t;B(function(n){return 1==n.g?A(n,Promise.resolve(),2):e.h?void(t=new n1("caststatuschanged"),e.dispatchEvent(t),l9(e)||un(e),I(n)):n.return()})}function l6(e,t,n){e.h&&(l8(e),ut(e,{type:"event",targetName:t,event:n},e.l))}function l8(e){e.G.N(ur);for(var t={video:{},player:{}},n=v(lk),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.g[r];if(e.h.U())for(var i in lR)0==e.m%lR[i]&&(t.player[i]=e.h[i]());for(var a in lI)0==e.m%lI[a]&&(t.player[a]=e.h[a]());for(var o in(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),ut(e,{type:"update",update:t},e.l),lM)0==e.m%lM[o]&&((t={player:{}}).player[o]=e.h[o](),ut(e,{type:"update",update:t},e.l));e.B&&(e.m+=1),l9(e)}function l9(e){return!!(e.u&&(e.g.duration||e.h.U()))&&(l7(e),e.u=!1,!0)}function l7(e,t){var n={contentId:e.h.Dd(),streamType:e.h.U()?"LIVE":"BUFFERED",contentType:""};e.h.U()||(n.duration=e.g.duration),e.i&&(n.metadata=e.i),un(e,void 0===t?0:t,n)}function ue(e,t,n,r){e.h&&ut(e,{type:"asyncComplete",id:n,error:r},e.l,t)}function ut(e,t,n,r){e.F&&(e=lx(t),r?n.getCastChannel(r).send(e):n.broadcast(e))}function un(e,t,n){n=void 0===n?null:n;var r={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.o?ua:e.h.Fd()?us:e.g.paused?ul:uo,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};n&&(r.media=n),ut(e,{requestId:void 0===t?0:t,type:"MEDIA_STATUS",status:[r]},e.s)}E(lY,n4),(b=lY.prototype).destroy=function(e){return e&&this.g.Ab(),this.m&&(this.m.release(),this.m=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.s=this.l=this.i=null,n4.prototype.release.call(this),Promise.all(e)},b.Wf=function(){return this.l},b.Nf=function(){return this.s},b.nf=function(){return this.g.m&&lq},b.sa=function(){return this.g.sa()},b.ae=function(){return this.g.ae()},b.cast=function(){var e,t=this;return B(function(n){return 1==n.g?(e=lQ(t),A(n,t.g.cast(e),2)):t.h?A(n,t.h.re(),0):n.return()})},b.ie=function(e){this.g.ie(e)},b.zg=function(){var e=this.g;if(e.h){var t=e.J();chrome.cast.requestSession(function(n){return lj(e,t,n)},function(t){return lU(e,t)})}},b.Ab=function(){this.g.Ab()},b.qf=function(e,t){t=void 0!==t&&t;var n=this;return B(function(r){if(1==r.g)return e==n.D&&t==n.B?r.return():(n.D=e,n.B=t,n.g.Ab(),A(r,n.g.destroy(),2));n.g=null,n.g=new lL(e,function(){return lZ(n)},function(){return l0(n)},function(e,t){return l2(n,e,t)},function(){return l1(n)},function(){return lQ(n)},t),n.g.init(),I(r)})},G("shaka.cast.CastProxy",lY),lY.prototype.changeReceiverId=lY.prototype.qf,lY.prototype.forceDisconnect=lY.prototype.Ab,lY.prototype.suggestDisconnect=lY.prototype.zg,lY.prototype.setAppData=lY.prototype.ie,lY.prototype.cast=lY.prototype.cast,lY.prototype.receiverName=lY.prototype.ae,lY.prototype.isCasting=lY.prototype.sa,lY.prototype.canCast=lY.prototype.nf,lY.prototype.getPlayer=lY.prototype.Nf,lY.prototype.getVideo=lY.prototype.Wf,lY.prototype.destroy=lY.prototype.destroy,E(l3,n4),(b=l3.prototype).isConnected=function(){return this.F},b.$f=function(){return this.o},b.wg=function(e){this.i=e},b.uf=function(){this.i=null},b.xg=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},b.vg=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},b.ug=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},b.destroy=function(){var e,t=this;return B(function(n){if(1==n.g)return t.j&&(t.j.release(),t.j=null),e=[],t.h&&(e.push(t.h.destroy()),t.h=null),t.G&&(t.G.stop(),t.G=null),t.g=null,t.H=null,t.D=null,t.F=!1,t.o=!0,t.l=null,t.s=null,n4.prototype.release.call(t),A(n,Promise.all(e),2);cast.receiver.CastReceiverManager.getInstance().stop(),I(n)})},G("shaka.cast.CastReceiver",l3),l3.prototype.destroy=l3.prototype.destroy,l3.prototype.setContentArtist=l3.prototype.ug,l3.prototype.setContentImage=l3.prototype.vg,l3.prototype.setContentTitle=l3.prototype.xg,l3.prototype.clearContentMetadata=l3.prototype.uf,l3.prototype.setContentMetadata=l3.prototype.wg,l3.prototype.isIdle=l3.prototype.$f,l3.prototype.isConnected=l3.prototype.isConnected;var ur=.5,ui=5,ua="IDLE",uo="PLAYING",us="BUFFERING",ul="PAUSED";function uu(e,t,n){var r=function(e){var t=[];e=v(e);for(var n=e.next();!n.done;n=e.next())(n=function(e){var t=e.getAttribute("schemeIdUri"),n=rO(e,"urn:mpeg:cenc:2013","default_KID"),r=rD(e,"urn:mpeg:cenc:2013","pssh").map(rL);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new eF(2,4,4009);var i=[];try{i=r.map(function(e){return{initDataType:"cenc",initData:tA(e),keyId:null}})}catch(e){throw new eF(2,4,4007)}return{node:e,fe:t,keyId:n,init:0<i.length?i:null}}(n.value))&&t.push(n);return t}(e),i=null;e=[];var a=[],o=new Set(r.map(function(e){return e.keyId}));if(o.delete(null),1<o.size)throw new eF(2,4,4010);if(t||(a=r.filter(function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.fe||(i=e.init||i,!1)})).length&&0==(e=function(e,t,n,r){var i=[];t=v(t);for(var a=t.next();!a.done;a=t.next()){var o,s=n[(a=a.value).fe];if(s){if(o=rR(a.node,"urn:microsoft:playready","pro")){o=tA(o.textContent);var l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);o=[{initData:rI(o,l,new Set,0),initDataType:"cenc",keyId:a.keyId}]}else o=null;if(l=null,"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"===a.fe)if(0==(l=r).size)l=null;else{var u=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]);l=[{initData:rI(new Uint8Array([]),u,l,1),initDataType:"cenc",keyId:a.keyId}]}o=e5(s,a.init||e||o||l),(s=uf.get(s))&&(o.licenseServerUri=s(a)),i.push(o)}}return i}(i,a,n,o)).length&&(e=[e5("",i)]),r.length&&(t||!a.length))for(e=[],n=(t=v(Object.values(n))).next();!n.done;n=t.next())"org.w3.clearkey"!=(n=n.value)&&e.push(e5(n,i));if(o=Array.from(o)[0]||null)for(n=(t=v(e)).next();!n.done;n=t.next())for(r=(n=v(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=o;return{Be:o,sh:i,drmInfos:e,Fe:!0}}function uc(e){return(e=rR(e.node,"urn:microsoft:playready","pro"))&&(e=(function(e){var t=0,n=ej(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,0!=(1&i)||i+e>n.byteLength){n=[];break e}var a=eL(n,e,i);t.push({type:r,value:a}),e+=i}n=t}return n})(e=tA(e.textContent)).filter(function(e){return e.type===ud})[0])&&(e=rK(e=tw(e.value,!0),"WRMHEADER"))?function(e){e=v(e.getElementsByTagName("DATA"));for(var t=e.next();!t.done;t=e.next()){t=v(t.value.childNodes);for(var n=t.next();!n.done;n=t.next())if((n=n.value)instanceof Element&&"LA_URL"==n.tagName)return n.textContent}return""}(e):""}var ud=1,uf=new Map().set("com.widevine.alpha",function(e){return(e=rR(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""}).set("com.microsoft.playready",uc).set("com.microsoft.playready.recommendation",uc).set("com.microsoft.playready.software",uc).set("com.microsoft.playready.hardware",uc).set("org.w3.clearkey",function(e){return(e=rR(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&"EME-1.0"===e.getAttribute("Lic_type")&&e.textContent?e.textContent:""});function up(t,n,r,i,a){var o={RepresentationID:n,Number:r,Bandwidth:i,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(t,n,r,i){if("$$"==t)return"$";var a=o[n];if(null==a)return t;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&(a=Math.round(a)),i){case void 0:case"d":case"i":case"u":default:t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase()}return Array(Math.max(0,(r=e.parseInt(r,10)||1)-t.length)+1).join("0")+t})}function uh(e,t){var n=ug(e,t,"timescale"),r=1;n&&(r=rH(n)||1);var i=ug(e,t,"duration");n=rH(i||""),"image"==e.I.contentType&&(n=rq(i||"")),n&&(n/=r);var a=ug(e,t,"startNumber");i=Number(ug(e,t,"presentationTimeOffset"))||0;var o=rV(a||"");if((null==a||null==o)&&(o=1),a=um(e,t,"SegmentTimeline"),t=null,a){t=r,e=e.T.duration||1/0,a=rP(a,"S");for(var s=[],l=-i,u=0;u<a.length;++u){var c=a[u],d=a[u+1],f=rU(c,"t",rV),p=rU(c,"d",rV);if(c=rU(c,"r",r$),null!=f&&(f-=i),!p)break;if(f=null!=f?f:l,0>(c=c||0))if(d){if(null==(d=rU(d,"t",rV))||f>=d)break;c=Math.ceil((d-f)/p)-1}else{if(1/0==e||f/t>=e)break;c=Math.ceil((e*t-f)/p)-1}for(0<s.length&&f!=l&&(s[s.length-1].end=f/t),d=0;d<=c;++d)l=f+p,s.push({start:f/t,end:l/t,Dg:f}),f=l}t=s}return{timescale:r,ia:n,Lb:o,Sa:i/r||0,se:i,timeline:t}}function ug(e,t,n){return[t(e.I),t(e.fa),t(e.$)].filter(e3).map(function(e){return e.getAttribute(n)}).reduce(function(e,t){return e||t})}function um(e,t,n){return[t(e.I),t(e.fa),t(e.$)].filter(e3).map(function(e){return rM(e,n)}).reduce(function(e,t){return e||t})}function uv(e,t,n,r,i,a){if(a=void 0===a?0:a,rO(e,"http://www.w3.org/1999/xlink","href")){var o=function(e,t,n,r,i,a){for(var o=rO(e,"http://www.w3.org/1999/xlink","href"),s=rO(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",l=v(Array.from(e.attributes)),u=l.next();!u.done;u=l.next())"http://www.w3.org/1999/xlink"==(u=u.value).namespaceURI&&e.removeAttributeNS(u.namespaceURI,u.localName);if(5<=a)return nY(new eF(2,4,4028));if("onLoad"!=s)return nY(new eF(2,4,4027));var c=e4([r],[o]);return i.request(0,rt(c,t)).Y(function(r){if(!(r=rG(r.data,e.tagName)))return nY(new eF(2,4,4001,o));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),e.appendChild(s)}for(s=(r=v(Array.from(r.attributes))).next();!s.done;s=r.next())e.setAttributeNode(s.value.cloneNode(!1));return uv(e,t,n,c[0],i,a+1)})}(e,t,n,r,i,a);return n&&(o=o.Y(void 0,function(){return uv(e,t,n,r,i,a)})),o}o=[];for(var s=v(Array.from(e.childNodes)),l=s.next();!l.done;l=s.next())(l=l.value)instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==rO(l,"http://www.w3.org/1999/xlink","href")?e.removeChild(l):"SegmentTimeline"!=l.tagName&&o.push(uv(l,t,n,r,i,a)));return n0(o).Y(function(){return e})}function uy(e){this.h=ej(e),this.g=new rg(this.h,0)}function ub(e){var t=uw(e);if(7<t.length)throw new eF(2,3,3002);var n=0;t=v(t);for(var r=t.next();!r.done;r=t.next())n=256*n+r.value;t=uw(e);e:{r=v(u_);for(var i=r.next();!i.done;i=r.next())if(eD(t,new Uint8Array(i.value))){r=!0;break e}r=!1}if(r)t=e.h.byteLength-e.g.Z();else{if(8==t.length&&224&t[1])throw new eF(2,3,3001);for(i=r=0;i<t.length;i++){var a=t[i];r=0==i?a&(1<<8-t.length)-1:256*r+a}t=r}return t=e.g.Z()+t<=e.h.byteLength?t:e.h.byteLength-e.g.Z(),r=ej(e.h,e.g.Z(),t),e.g.skip(t),new uS(n,r)}function uw(e){var t=e.g.Z(),n=e.g.Ra();if(0==n)throw new eF(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),eL(e.h,t,n)}uy.prototype.ha=function(){return this.g.ha()};var u_=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function uS(e,t){this.id=e,this.g=t}function ux(e){if(8<e.g.byteLength)throw new eF(2,3,3002);if(8==e.g.byteLength&&224&e.g.getUint8(0))throw new eF(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++)t=256*t+e.g.getUint8(n);return t}function uE(e,t){if(!(t=um(e,t,"Initialization")))return null;var n=e.I.wa,r=t.getAttribute("sourceURL");r&&(n=e4(e.I.wa,[r])),r=0;var i=null;return(t=rU(t,"range",rz))&&(r=t.start,i=t.end),new ag(function(){return n},r,i,uI(e))}function uT(e,t,n,r,i,a,o){var s,l,u,c,d,f,p,h,g,m,v,y,b,w,_;return B(function(S){if(1==S.g)return s=e.presentationTimeline,l=!e.Ma||!e.T.Gd,u=e.T.start,c=e.T.duration,d=e.I.mimeType.split("/")[1],p=null,h=[(f=t)(r,i,a),"webm"==d?f(n.ya(),n.Ba,n.ka):null],f=null,A(S,Promise.all(h),2);if(m=(g=S.h)[0],v=g[1]||null,y=null,b=u-o,w=u,_=c?u+c:1/0,"mp4"==d)var x=function(e,t,n,r,i,a,o){var s,l=new ry().P("sidx",function(e){s=function(e,t,n,r,i,a,o){var s=[];o.reader.skip(4);var l=o.reader.K();if(0==l)throw new eF(2,3,3005);if(0==o.version)var u=o.reader.K(),c=o.reader.K();else u=o.reader.$a(),c=o.reader.$a();o.reader.skip(2);var d=o.reader.$d();for(e=e+o.size+c,c=0;c<d;c++){var f=o.reader.K(),p=(0x80000000&f)>>>31;f&=0x7fffffff;var h=o.reader.K();if(o.reader.skip(4),1==p)throw new eF(2,3,3006);s.push(new am(u/l+n,(u+h)/l+n,function(){return a},e,e+f-1,t,n,r,i)),u+=h,e+=f}return o.parser.stop(),s}(t,r,i,a,o,n,e)});if(e&&l.parse(e),s)return s;throw new eF(2,3,3004)}(m,i,r,n,b,w,_);else{if(0x1a45dfa3!=ub(x=new uy(v)).id)throw new eF(2,3,3008);var E=ub(x);if(0x18538067!=E.id)throw new eF(2,3,3009);x=E.g.byteOffset,E=new uy(E.g);for(var T=null;E.ha();){var k=ub(E);if(0x1549a966==k.id){T=k;break}}if(!T)throw new eF(2,3,3010);for(E=null,T=new uy(T.g),k=1e6;T.ha();){var C=ub(T);if(2807729==C.id)k=ux(C);else if(17545==C.id)if(4==C.g.byteLength)E=C.g.getFloat32(0);else if(8==C.g.byteLength)E=C.g.getFloat64(0);else throw new eF(2,3,3003)}if(null==E)throw new eF(2,3,3011);if(E*=T=k/1e9,0x1c53bb6b!=(k=ub(new uy(m))).id)throw new eF(2,3,3007);x=function(e,t,n,r,i,a,o,s,l){function u(){return i}var c=[];e=new uy(e.g);for(var d=null,f=null;e.ha();){var p=ub(e);if(187==p.id){var h=function(e){var t=new uy(e.g);if(179!=(e=ub(t)).id)throw new eF(2,3,3013);if(e=ux(e),183!=(t=ub(t)).id)throw new eF(2,3,3012);t=new uy(t.g);for(var n=0;t.ha();){var r=ub(t);if(241==r.id){n=ux(r);break}}return{Eg:e,ng:n}}(p);h&&(p=n*h.Eg,h=t+h.ng,null!=d&&c.push(new am(d+o,p+o,u,f,h-1,a,o,s,l)),d=p,f=h)}}return null!=d&&c.push(new am(d+o,r+o,u,f,null,a,o,s,l)),c}(k,x,T,E,r,n,b,w,_)}return y=x,s.Ib(y),p=new od(y),l&&p.Wa(w,_,!0),S.return(p)})}function uk(e){return e.wc}function uC(e){var t=um(e,uk,"RepresentationIndex");return e=rz((e=ug(e,uk,"indexRange"))||""),t&&(e=rU(t,"range",rz,e)),e}function uA(e,t){var n=e.I.mimeType.split("/")[1];if(e.I.contentType!=e9&&"mp4"!=n&&"webm"!=n)throw new eF(2,4,4006);if("webm"==n&&!t)throw new eF(2,4,4005)}function uI(e){var t=e.I;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.ad,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null}}function uM(e){return e.ab}function uR(e){return e.xc}function uP(){this.l=[],this.g=[],this.h=[],this.j=[],this.i=[],this.m=new Set}function uD(e){var t,n,r,i,a,o,s,l,u,c,d,f,p,h,g,m,y,b,w,_,S,x,E;return B(function(T){switch(T.g){case 1:if(t=e7,1==e.length)return T.return(e[0]);for(n=e.map(function(e){return e.filter(function(e){return e.type==t.Hc})}),r=e.map(function(e){return e.filter(function(e){return e.type==t.va})}),i=e.map(function(e){return e.filter(function(e){return e.type==t.X})}),a=e.map(function(e){return e.filter(function(e){return e.type==t.Wb})}),s=(o=v(i)).next();!s.done;s=o.next())s.value.push(uX(t.X));for(u=(l=v(a)).next();!u.done;u=l.next())u.value.push(uX(t.Wb));return A(T,uO([],n,0,uU,uB),2);case 2:return c=T.h,A(T,uO([],r,0,uU,uB),3);case 3:return d=T.h,A(T,uO([],i,0,uU,uB),4);case 4:return f=T.h,A(T,uO([],a,0,uU,uB),5);case 5:if(p=T.h,h=0,d.length&&c.length)for(b=(y=v(c)).next();!b.done;b=y.next())for(w=b.value,S=(_=v(d)).next();!S.done;S=_.next())x=S.value,E=h++,x.variantIds.push(E),w.variantIds.push(E);else for(m=(g=v(d.concat(c))).next();!m.done;m=g.next())m.value.variantIds=[h++];return T.return(d.concat(c).concat(f).concat(p))}})}function uO(e,t,n,r,i){var a,o,s,l,u,c,d,f,p,h,g,m,y,b,w,_;return B(function(S){switch(S.g){case 1:for(s=0,a=e7,o=[];s<t.length;s++)s>=n?o.push(new Set(t[s])):o.push(new Set);u=(l=v(e)).next();case 2:var x,E,T,k,C;if(u.done){S.A(4);break}return A(S,(x=u.value,E=t,T=n,k=i,C=o,B(function(e){return 1==e.g?(uz(E,x),x.matchedStreams?x.segmentIndex?A(e,uN(x,T),2):e.A(2):e.return(!1)):(uL(x,T,k,C),e.return(!0))})),5);case 5:if(!S.h)throw new eF(2,4,4037);u=l.next(),S.A(2);break;case 4:for(d=(c=v(o)).next();!d.done;d=c.next())for(p=(f=v(d.value)).next();!p.done;p=f.next())(h=function(e,t,n,r,i){var a=n(e);return(uz(t,a),a.createSegmentIndex&&(a.createSegmentIndex=function(){return B(function(e){return a.segmentIndex?e.A(0):(a.segmentIndex=new oh,A(e,uN(a,0),0))})}),a.matchedStreams)?(uL(a,0,r,i),a):null}(p.value,t,r,i,o))&&e.push(h);for(d=(g=v(o)).next();!d.done;d=g.next())for(m=d.value,y={},p=(b=v(m)).next();!p.done;y={Va:y.Va},p=b.next())if(y.Va=p.value,w=y.Va.type==a.X&&!y.Va.language,_=y.Va.type==a.Wb&&!y.Va.tilesLayout,!w&&!_&&e.some(function(e){return function(t){return t.mimeType==e.Va.mimeType&&tH(t.codecs)==tH(e.Va.codecs)}}(y)))throw new eF(2,4,4037);return S.return(e)}})}function uN(e,t){var n,r,i,a,o,s,l;return B(function(u){if(1==u.g){for(n=[],a=(i=v(r=e.matchedStreams)).next();!a.done;a=i.next())o=a.value,n.push(o.createSegmentIndex()),o.trickModeVideo&&!o.trickModeVideo.segmentIndex&&n.push(o.trickModeVideo.createSegmentIndex());return A(u,Promise.all(n),2)}if(e.segmentIndex instanceof oh)for(s=0;s<r.length;s++)(l=r[s]).segmentIndex&&s>=t&&e.segmentIndex.l.push(l.segmentIndex);I(u)})}function uL(e,t,n,r){for(var i=e.matchedStreams,a=0;a<i.length;a++)if(a>=t){var o=i[a];n(e,o);var s=!0;"audio"==e.type&&0==t2(e.language,o.language)&&(s=!1),s&&r[a].delete(o)}}function uj(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var e=v(t.matchedStreams),n=e.next();!n.done;n=e.next())(n=n.value).segmentIndex&&(n.segmentIndex.release(),n.segmentIndex=null)},t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set,t.closedCaptions=null,t.trickModeVideo=null,t}function uU(e){return(e=Object.assign({},e)).keyIds=new Set,e.segments=[],e.variantIds=[],e.closedCaptions=null,e}function uF(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles))),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=Array.from(new Set(e.emsgSchemeIdUris.concat(t.emsgSchemeIdUris)))),n=e.keyIds,r=t.keyIds,e.keyIds=new Set([].concat(y(n),y(r))),null==e.originalId?e.originalId=t.originalId:e.originalId+=","+(t.originalId||"");var n,r,i=ie(e.drmInfos,t.drmInfos);if(t.drmInfos.length&&e.drmInfos.length&&!i.length)throw new eF(2,4,4038);if(e.drmInfos=i,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map),i=v(t.closedCaptions);for(var a=i.next();!a.done;a=i.next()){var o=v(a.value);a=o.next().value,o=o.next().value,e.closedCaptions.set(a,o)}}t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=uj(t.trickModeVideo),e.trickModeVideo.createSegmentIndex=function(){return e.trickModeVideo.segmentIndex=e.segmentIndex.clone(),Promise.resolve()}),uF(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&uF(e.trickModeVideo,t)}function uB(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles)));var n=t.keyIds;if(n=new Set([].concat(y(e.keyIds),y(n))),e.keyIds=n,e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,y(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),n=(t=v(t.closedCaptions)).next();!n.done;n=t.next()){var r=v(n.value);n=r.next().value,r=r.next().value,e.closedCaptions.set(n,r)}}function uz(e,t){var n=[];e=v(e);for(var r=e.next();!r.done;r=e.next()){var i=t,a={audio:u$,video:u$,text:uH,image:uV}[i.type],o={audio:uq,video:uW,text:uK,image:uG}[i.type],s=null;r=v(r.value);for(var l=r.next();!l.done;l=r.next())a(i,l=l.value)&&(!s||o(i,s,l))&&(s=l);if(!(i=s))return;n.push(i)}t.matchedStreams=n}function u$(e,t){var n;return!(n=t.mimeType!=e.mimeType||tH(t.codecs)!=tH(e.codecs))&&(n=e.drmInfos)&&(e=e.drmInfos,t=t.drmInfos,n=!(e.length&&t.length?0<ie(e,t).length:1)),!n}function uH(e,t){return!!e.language&&(!t.language||0!=t2(e.language,t.language)&&t.kind==e.kind)}function uV(e){return!!e.tilesLayout}function uq(e,t,n){if(e.id==n.id)return!0;var r=t2(e.language,t.language),i=t2(e.language,n.language);return i>r||!(i<r)&&(e.roles.length?(r=t.roles.filter(function(t){return e.roles.includes(t)}),(i=n.roles.filter(function(t){return e.roles.includes(t)})).length>r.length||!(i.length<r.length)&&n.roles.length<t.roles.length):!n.roles.length&&!!t.roles.length||(!n.roles.length||!!t.roles.length)&&(!t.primary&&!!n.primary||(!t.primary||!!n.primary)&&((r=uJ(e.channelsCount,t.channelsCount,n.channelsCount))==uZ||r!=u1&&((r=uJ(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate))==uZ||r!=u1&&!!e.bandwidth&&uQ(e.bandwidth,t.bandwidth,n.bandwidth)==uZ))))}function uW(e,t,n){if(e.id==n.id)return!0;var r=uJ(e.width*e.height,t.width*t.height,n.width*n.height);if(r==uZ)return!0;if(r==u1)return!1;if(e.frameRate){if((r=uJ(e.frameRate,t.frameRate,n.frameRate))==uZ)return!0;if(r==u1)return!1}return!!e.bandwidth&&uQ(e.bandwidth,t.bandwidth,n.bandwidth)==uZ}function uK(e,t,n){if(e.id==n.id)return!0;var r=t2(e.language,t.language),i=t2(e.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(e.roles.length){if(r=t.roles.filter(function(t){return e.roles.includes(t)}),(i=n.roles.filter(function(t){return e.roles.includes(t)})).length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return n.mimeType==e.mimeType&&n.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)}function uG(e,t,n){return e.id==n.id||uJ(e.width*e.height,t.width*t.height,n.width*n.height)==uZ}function uX(e){return{id:0,originalId:"",primary:!1,type:e,mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function uY(e){return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new od([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:e,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function uJ(e,t,n){if(t==e&&e!=n)return u1;if(n==e&&e!=t)return uZ;if(t>e){if(n<=e||n-e<t-e)return uZ;if(n-e>t-e)return u1}else{if(n>e)return u1;if(e-n<e-t)return uZ;if(e-n>e-t)return u1}return u0}function uQ(e,t,n){return t=Math.abs(e-t),(e=Math.abs(e-n))<t?uZ:t<e?u1:u0}uP.prototype.release=function(){for(var e=v(this.g.concat(this.h,this.j,this.i)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.g=[],this.h=[],this.j=[],this.i=[],this.l=[]};var uZ=1,u0=0,u1=-1;function u2(){var e=this;this.h=this.g=null,this.m=[],this.i=null,this.G=1,this.l={},this.L={},this.j=new uP,this.F=0,this.H=new X(5),this.D=new ti(function(){var t,n,r;t=e,B(function(e){switch(e.g){case 1:return n=0,M(e,2),A(e,u3(t),4);case 4:n=e.h,P(e,3);break;case 2:r=D(e),t.h&&(r.severity=1,t.h.onError(r));case 3:if(!t.h)return e.return();u6(t,n),I(e)}})}),this.o=new n8,this.s=null,this.J=[],this.u=1/0,this.B=!1}function u3(e){var t,n,r,i,a,o;return B(function(s){if(1==s.g)return t=rt(e.m,e.g.retryParameters),n=e.h.networkingEngine,e.h.modifyManifestRequest(t,{format:"d"}),r=Date.now(),i=n.request(0,t),n9(e.o,i),A(s,i.promise,2);if(3!=s.g){var l,u,c,d,f,p,h;return(a=s.h,e.h)?(a.uri&&!e.m.includes(a.uri)&&e.m.unshift(a.uri),A(s,(l=e,u=a.data,c=a.uri,B(function(e){if(1==e.g){if(!(d=rG(u,"MPD")))throw new eF(2,4,4001,c);return l.g.dash.disableXlinkProcessing?e.return(u4(l,d,c)):(f=l.g.dash.xlinkFailGracefully,p=uv(d,l.g.retryParameters,f,c,l.h.networkingEngine),n9(l.o,p),A(e,p.promise,2))}return h=e.h,e.return(u4(l,h,c))})),3)):s.return(0)}return o=(Date.now()-r)/1e3,e.H.sample(1,o),s.return(o)})}function u4(e,t,n){var r,i,a,o,s,l,u,c,d,f,p,h,g,m,b,w,_,S,x,E,T,k,C,R,O,N,L,j;return B(function(U){var F,z,$,H,V,q,W,K,G,X,Y,J,Q,Z,et,en,er,ei,ea,eo,es,el,eu,ec,ef,ep,eh,eg,em,ev,ey,eb,ew,e_,eS,ex,eE,eT,ek,eC,eA;switch(U.g){case 1:if((r=e.g.dash.manifestPreprocessor)&&r(t),i=[n],0<(a=rP(t,"Location").map(rL).filter(e3)).length&&(i=e.m=e4(i,a)),s=(o=rP(t,"BaseURL")).map(rL),l=e4(i,s),u=0,o&&o.length&&(u=rU(o[0],"availabilityTimeOffset",rq)||0),c=e.g.dash.ignoreMinBufferTime,d=0,c||(d=rU(t,"minBufferTime",rB)||0),e.F=rU(t,"minimumUpdatePeriod",rB,-1),f=rU(t,"availabilityStartTime",rF),p=rU(t,"timeShiftBufferDepth",rB),h=e.g.dash.ignoreSuggestedPresentationDelay,g=null,h||(g=rU(t,"suggestedPresentationDelay",rB)),m=e.g.dash.ignoreMaxSegmentDuration,b=null,m||(b=rU(t,"maxSegmentDuration",rB)),w=t.getAttribute("type")||"static",e.i)for(_=e.i.presentationTimeline,x=(S=v(Object.values(e.l))).next();!x.done;x=S.next())(E=x.value).segmentIndex&&E.segmentIndex.eb(_.Pa());else T=e.g.defaultPresentationDelay||1.5*d,_=new a1(f,null!=g?g:T,e.g.dash.autoCorrectDrift);return _.yc("static"==w),_.U()&&!isNaN(e.g.availabilityWindowOverride)&&(p=e.g.availabilityWindowOverride),null==p&&(p=1/0),_.me(p),k=t.getAttribute("profiles")||"",O=(R=function(e,t,n,r){var i=rU(r,"mediaPresentationDuration",rB),a=[],o=0;r=rP(r,"Period");for(var s=0;s<r.length;s++){var l=r[s],u=r[s+1],c=rU(l,"start",rB,o),d=l.id,f=rU(l,"duration",rB),p=null;if(u){var h=rU(u,"start",rB);null!=h&&(p=h-c)}else null!=i&&(p=i-c);if(null==p&&(p=f),!(null!==e.s&&null!==d&&null!==c&&c<e.s)||e.J.includes(d)||s+1==r.length){if(null!==c&&(null===e.s||c>e.s)&&(e.s=c),o=function(e,t,n,r){t.$=u8(r.node,null,n),t.T=r,t.$.zb=t.zb,t.$.id||(t.$.id="__shaka_period_"+r.start);var i=rP(r.node,"EventStream");n=t.presentationTimeline.Pa(),i=v(i);for(var a=i.next();!a.done;a=i.next())!function(e,t,n,r,i){var a=r.getAttribute("schemeIdUri")||"",o=r.getAttribute("value")||"",s=rU(r,"timescale",rV)||1;r=v(rP(r,"Event"));for(var l=r.next();!l.done;l=r.next()){var u=rU(l=l.value,"presentationTime",rV)||0,c=rU(l,"duration",rV)||0;c=(u=u/s+t)+c/s,null!=n&&(u=Math.min(u,t+n),c=Math.min(c,t+n)),c<i||(l={schemeIdUri:a,value:o,startTime:u,endTime:c,id:l.getAttribute("id")||"",eventElement:l},e.h.onTimelineRegionAdded(l))}}(e,r.start,r.duration,a.value,n);if(n=rP(r.node,"AdaptationSet").map(function(n){return function(e,t,n){function r(e){switch(e){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}t.fa=u8(n,t.$,null);var i,a=!1,o=rP(n,"Role"),s=o.map(function(e){return e.getAttribute("value")}).filter(e3),l=void 0,u=t.fa.contentType==e9;u&&(l="subtitle"),o=v(o);for(var c=o.next();!c.done;c=o.next()){var d=(c=c.value).getAttribute("schemeIdUri");if(null==d||"urn:mpeg:dash:role:2011"==d)switch(c=c.getAttribute("value")){case"main":a=!0;break;case"caption":case"subtitle":l=c}}d=rP(n,"EssentialProperty"),o=null,c=!1,d=v(d);for(var f=d.next();!f.done;f=d.next()){var p=(f=f.value).getAttribute("schemeIdUri");"http://dashif.org/guidelines/trickmode"==p?o=f.getAttribute("value"):"urn:mpeg:mpegB:cicp:TransferCharacteristics"==p?i=r(parseInt(f.getAttribute("value"),10)):c=!0}for(f=(d=v(d=rP(n,"SupplementalProperty"))).next();!f.done;f=d.next())"urn:mpeg:mpegB:cicp:TransferCharacteristics"==(f=f.value).getAttribute("schemeIdUri")&&(i=r(parseInt(f.getAttribute("value"),10)));d=rP(n,"Accessibility");var h=new Map;for(f=(d=v(d)).next();!f.done;f=d.next())if(f=(p=f.value).getAttribute("schemeIdUri"),p=p.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==f)if(f=1,null!=p){p=p.split(";");for(var g=v(p),m=g.next();!m.done;m=g.next()){var b=m.value,w=m=void 0;b.includes("=")?(m=(b=b.split("="))[0].startsWith("CC")?b[0]:"CC"+b[0],w=b[1]||"und"):(m="CC"+f,2==p.length?f+=2:f++,w=b),h.set(m,t1(w))}}else h.set("CC1","und");else if("urn:scte:dash:cc:cea-708:2015"==f)if(f=1,null!=p)for(m=(p=v(p.split(";"))).next();!m.done;m=p.next())m=m.value,b=g=void 0,m.includes("=")?(g="svc"+(m=m.split("="))[0],b=m[1].split(",")[0].split(":").pop()):(g="svc"+f,f++,b=m),h.set(g,t1(b));else h.set("svc1","und");else"urn:mpeg:dash:role:2011"==f&&null!=p&&(s.push(p),"captions"==p&&(l="caption"));if(c)return null;var _=uu(c=rP(n,"ContentProtection"),e.g.dash.ignoreDrmInfo,e.g.dash.keySystemsByURI),S=t1(n.getAttribute("lang")||"und"),x=n.getAttribute("label");if((c=rP(n,"Label"))&&c.length&&(c=c[0]).textContent&&(x=c.textContent),0==(n=(c=rP(n,"Representation")).map(function(n){return(n=function(e,t,n,r,i,a,o,s,l,u){if(t.I=u8(u,t.fa,null),e.u=Math.min(e.u,t.I.zb),!function(e){var t=+!!e.wc;return 0==(t+=+!!e.ab+ +!!e.xc)?e.contentType==e9||"application"==e.contentType:(1!=t&&(e.wc&&(e.ab=null),e.xc=null),!0)}(t.I))return null;var c,d,f=t.T.start;t.bandwidth=rU(u,"bandwidth",rH)||0;var p=t.I.contentType,h=p==e9||"application"==p;p="image"==p;try{var g=function(t,n,r){return function(e,t,n,r){var i,a,o,s;return B(function(l){return 1==l.g?(i=ri,a=ok(t,n,r,e.g.retryParameters),o=e.h.networkingEngine.request(i,a),n9(e.o,o),A(l,o.promise,2)):(s=l.h,l.return(s.data))})}(e,t,n,r)};if(t.I.wc)var m,y,b,w,_,S,x,E,T=(m=t,y=g,b=Number(ug(m,uk,"presentationTimeOffset"))||0,w=ug(m,uk,"timescale"),_=1,w&&(_=rH(w)||1),S=b/_||0,x=uE(m,uk),function(e,t){if(uA(e,t),!uC(e))throw new eF(2,4,4002)}(m,x),E=n6(m),{Bb:function(){var e=um(E,uk,"RepresentationIndex"),t=E.I.wa;return e&&(e=e.getAttribute("sourceURL"))&&(t=e4(E.I.wa,[e])),e=uC(E),uT(E,y,x,t,e.start,e.end,S)}});else if(t.I.ab)T=function(e,t){var n=uE(e,uM),r=function(e){var t=function(e){return[e.I.ab,e.fa.ab,e.$.ab].filter(e3).map(function(e){return rP(e,"SegmentURL")}).reduce(function(e,t){return 0<e.length?e:t}).map(function(t){t.getAttribute("indexRange")&&!e.Ke&&(e.Ke=!0);var n=t.getAttribute("media");return{dg:n,start:(t=rU(t,"mediaRange",rz,{start:0,end:null})).start,end:t.end}})}(e),n=(e=uh(e,uM)).Lb;0==n&&(n=1);var r=0;return e.ia?r=e.ia*(n-1):e.timeline&&0<e.timeline.length&&(r=e.timeline[0].start),{ia:e.ia,startTime:r,Lb:n,Sa:e.Sa,timeline:e.timeline,Gb:t}}(e);if(!r.ia&&!r.timeline&&1<r.Gb.length||!r.ia&&!e.T.duration&&!r.timeline&&1==r.Gb.length||r.timeline&&0==r.timeline.length)throw new eF(2,4,4002);var i=null,a=null;e.$.id&&e.I.id&&(a=t[e.$.id+","+e.I.id])&&(i=a.segmentIndex);var o=function(e,t,n,r,i){var a=r.Gb.length;r.timeline&&r.timeline.length!=r.Gb.length&&(a=Math.min(r.timeline.length,r.Gb.length));for(var o=e-r.Sa,s=t?e+t:1/0,l=[],u=r.startTime,c={},d=0;d<a;c={od:c.od},d++){var f=r.Gb[d];c.od=e4(n,[f.dg]);var p=void 0;p=null!=r.ia?u+r.ia:r.timeline?r.timeline[d].end:u+t,l.push(new am(e+u,e+p,function(e){return function(){return e.od}}(c),f.start,f.end,i,o,e,s)),u=p}return l}(e.T.start,e.T.duration,e.I.wa,r,n);return t=!i,i?i.Hb(o,e.presentationTimeline.Pa()):i=new od(o),e.presentationTimeline.Ib(o),e.Ma&&e.T.Gd||i.Wa(e.T.start,e.T.duration?e.T.start+e.T.duration:1/0,t),a&&(a.segmentIndex=i),{Bb:function(){return i&&0!=i.g.length||i.pc(o),Promise.resolve(i)}}}(t,e.l);else if(t.I.xc)T=function(e,t,n,r,i,a){var o=function(e){var t=ug(e,uR,"initialization");if(!t)return null;var n=e.I.id,r=e.bandwidth||null,i=e.I.wa;return new ag(function(){return e4(i,[up(t,n,null,r,null)])},0,null,uI(e))}(e),s=function(e){var t=uh(e,uR),n=ug(e,uR,"media");return e=ug(e,uR,"index"),{ia:t.ia,timescale:t.timescale,Lb:t.Lb,Sa:t.Sa,se:t.se,timeline:t.timeline,Pd:n,oc:e}}(e);!function(e){var t=+!!e.oc;if(0==(t+=+!!e.timeline+ +!!e.ia)||(1!=t&&(e.oc&&(e.timeline=null),e.ia=null),!e.oc&&!e.Pd))throw new eF(2,4,4002)}(s);var l=n6(e);if(s.oc)return uA(e,o),{Bb:function(){var e=up(s.oc,l.I.id,null,l.bandwidth||null,null);return e=e4(l.I.wa,[e]),uT(l,t,o,e,0,null,s.Sa)}};if(s.ia)return r||"image"===e.fa.contentType||(e.presentationTimeline.Sd(s.ia),e.presentationTimeline.Td(e.T.start)),{Bb:function(){return function(e,t,n,r,i){function a(e){var n=(e-p)*f,i=n+t.Sa,a=n+u,o=Math.min(n=a+f,s());return(a=new am(a,o,function(){return e4(b,[up(g,y,e,m,i*h)])},0,null,r,w,u,s())).j=n,a}function o(){var e=[Math.max(l.Pa(),u),Math.min(l.gb(),s())].map(function(e){return e-u});return[Math.ceil(e[0]/f),Math.ceil(e[1]/f)-1].map(function(e){return e+p})}function s(){var e=null!=c&&i[c]||d;return e?u+e:1/0}var l=e.presentationTimeline,u=e.T.start,c=e.$.id,d=e.T.duration,f=t.ia,p=t.Lb,h=t.timescale,g=t.Pd,m=e.bandwidth||null,y=e.I.id,b=e.I.wa,w=u-t.Sa,_=o();e=e.Ma?Math.max(_[0],_[1]-n+1):_[0],_=_[1],n=[];for(var S=e;S<=_;++S){var x=a(S);n.push(x)}var E=new od(n);if(n=l.gb()<s(),S=l.U(),n||S){var T=Math.max(e,_+1);E.fd(f,function(){var e=l.Pa();E.eb(e);var t=v(o());t.next(),t=t.next().value;for(var n=[];T<=t;){var r=a(T);n.push(r),T++}return e>s()&&!n.length?null:n})}return Promise.resolve(E)}(l,s,i,o,a)}};var u=null;r=r=null,e.$.id&&e.I.id&&(r=n[r=e.$.id+","+e.I.id])&&(u=r.segmentIndex);var c=function(e,t,n){var r=e.T.start,i=e.T.duration,a=r-t.Sa;i=i?r+i:1/0;for(var o=[],s={},l=0;l<t.timeline.length;s={nd:s.nd,rd:s.rd,ud:s.ud,kd:s.kd,wd:s.wd,ld:s.ld},l++){var u=t.timeline[l],c=u.start,d=u.Dg;u=u.end,s.ud=l+t.Lb,s.wd=d+t.se,s.rd=e.I.id,s.kd=e.bandwidth||null,s.nd=t.Pd,s.ld=e.I.wa,o.push(new am(r+c,r+u,function(e){return function(){var t=up(e.nd,e.rd,e.ud,e.kd||null,e.wd);return e4(e.ld,[t]).map(function(e){return e.toString()})}}(s),0,null,n,a,r,i))}return o}(l,s,o);n=e.T.start;var d=e.T.duration?e.T.start+e.T.duration:1/0,f=!(e.Ma&&e.T.Gd);return u?(f&&new od(c).Wa(n,d,!0),u.Hb(c,e.presentationTimeline.Pa())):u=new od(c),e.presentationTimeline.Ib(c),f&&u.Wa(n,d),r&&e.Ma&&(r.segmentIndex=u),{Bb:function(){return u&&0!=u.g.length||u.pc(c),Promise.resolve(u)}}}(t,g,e.l,!!e.i,e.g.dash.initialSegmentLimit,e.L);else{var k=t.I.wa,C=t.T.duration||0;T={Bb:function(){return Promise.resolve(of(f,C,k))}}}}catch(e){if((h||p)&&4002==e.code)return null;throw e}g=new Set((g=function(e,t,n,r){var i=uu(e,n,r);if(t.Fe)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==i.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=i.drmInfos),t.Fe=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter(function(e){return i.drmInfos.some(function(t){return t.keySystem==e.keySystem})}),0==t.drmInfos.length))throw new eF(2,4,4008);return i.Be||t.Be}(g=rP(u,"ContentProtection"),n,e.g.dash.ignoreDrmInfo,e.g.dash.keySystemsByURI))?[g]:[]);var M=!1;rP(u,"SupplementalProperty").some(function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.getAttribute("schemeIdUri")&&"JOC"==e.getAttribute("value")})&&(M=!0);var R=!1;if(h&&(R=s.includes("forced_subtitle")||s.includes("forced-subtitle")),p&&((u=rP(u,"EssentialProperty").find(function(e){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(e.getAttribute("schemeIdUri"))}))&&(c=u.getAttribute("value")),!c))return null;u=t.I.codecs,t.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(u.includes("hvc1.2.4.L153.B0")||u.includes("hev1.2.4.L153.B0"))&&(d="PQ");var P=t.I.id?t.$.id+","+t.I.id:"",D={id:e.G++,originalId:t.I.id,createSegmentIndex:function(){var n,r;return B(function(i){if(1==i.g)return(n=P&&t.Ma&&e.l[P]?e.l[P]:D).segmentIndex?i.A(0):(r=n,A(i,T.Bb(),3));r.segmentIndex=i.h,I(i)})},closeSegmentIndex:function(){D.segmentIndex&&(D.segmentIndex.release(),D.segmentIndex=null)},segmentIndex:null,mimeType:t.I.mimeType,codecs:t.I.codecs,frameRate:t.I.frameRate,pixelAspectRatio:t.I.pixelAspectRatio,bandwidth:t.bandwidth,width:t.I.width,height:t.I.height,kind:r,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:g,language:i,label:a,type:t.fa.contentType,primary:o,trickModeVideo:null,emsgSchemeIdUris:t.I.emsgSchemeIdUris,roles:s,forced:R,channelsCount:t.I.ad,audioSamplingRate:t.I.audioSamplingRate,spatialAudio:M,closedCaptions:l,hdr:d,tilesLayout:c,matchedStreams:[]};return P&&t.Ma&&!e.l[P]&&(e.l[P]=D),D}(e,t,_,l,S,x,a,s,h,n))&&(n.hdr=n.hdr||i),n}).filter(function(e){return!!e})).length){if(o="image"==t.fa.contentType,e.g.dash.ignoreEmptyAdaptationSet||u||o)return null;throw new eF(2,4,4003)}if(!t.fa.contentType||"application"==t.fa.contentType)for(t.fa.contentType=u7(n[0].mimeType,n[0].codecs),d=(u=v(n)).next();!d.done;d=u.next())d.value.type=t.fa.contentType;for(d=(u=v(n)).next();!d.done;d=u.next())for(d=d.value,p=(f=v(_.drmInfos)).next();!p.done;p=f.next())(p=p.value).keyIds=p.keyIds&&d.keyIds?new Set([].concat(y(p.keyIds),y(d.keyIds))):p.keyIds||d.keyIds;return u=c.map(function(e){return e.getAttribute("id")}).filter(e3),{id:t.fa.id||"__fake__"+e.G++,contentType:t.fa.contentType,language:S,th:a,streams:n,drmInfos:_.drmInfos,qe:o,qg:u}}(e,t,n)}).filter(e3),t.Ma){for(r=[],a=(i=v(n)).next();!a.done;a=i.next()){a=v(a.value.qg);for(var o=a.next();!o.done;o=a.next())r.push(o.value)}if(r.length!=new Set(r).size)throw new eF(2,4,4018)}for(r=n.filter(function(e){return!e.qe}),i=(n=v(n=n.filter(function(e){return e.qe}))).next();!i.done;i=n.next()){a=(i=i.value).qe.split(" "),o=v(r);for(var s=o.next();!s.done;s=o.next()){var l=s.value;if(a.includes(l.id)){s={},l=v(l.streams);for(var u=l.next();!u.done;s={Gc:s.Gc},u=l.next())s.Gc=u.value,s.Gc.trickModeVideo=i.streams.find(function(e){return function(t){return tH(e.Gc.codecs)==tH(t.codecs)}}(s))}}}if(i=e.g.disableAudio?[]:u5(r,"audio"),o=e.g.disableVideo?[]:u5(r,"video"),a=e.g.disableText?[]:u5(r,e9),n=e.g.disableThumbnails?[]:u5(r,"image"),!o.length&&!i.length)throw new eF(2,4,4004);for(r=[],s=(i=v(i)).next();!s.done;s=i.next())r.push.apply(r,y(s.value.streams));for(i=[],s=(o=v(o)).next();!s.done;s=o.next())i.push.apply(i,y(s.value.streams));for(o=[],s=(a=v(a)).next();!s.done;s=a.next())o.push.apply(o,y(s.value.streams));for(a=[],s=(n=v(n)).next();!s.done;s=n.next())a.push.apply(a,y(s.value.streams));return{id:t.$.id,Kc:r,gd:i,textStreams:o,imageStreams:a}}(e,t,n,{start:c,duration:p,node:l,Gd:null==p||!u}),a.push(o),t.$.id&&p&&(e.L[t.$.id]=p),null==p){o=null;break}o=c+p}}return e.J=a.map(function(e){return e.id}),null!=i?{periods:a,duration:i,De:!1}:{periods:a,duration:o,De:!0}}(e,C={Ma:"static"!=w,presentationTimeline:_,$:null,T:null,fa:null,I:null,bandwidth:0,Ke:!1,zb:u,profiles:k.split(",")},l,t)).duration,N=R.periods,"static"!=w&&R.De||_.Aa(O||1/0),e.u&&!e.B&&e.h.isAutoLowLatencyMode()&&(e.h.enableLowLatencyMode(),e.B=e.h.isLowLatencyMode()),e.B?_.Ue(e.u):e.u&&ee("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),_.Sd(b||1),A(U,(F=e.j,z=N,$=C.Ma,B(function(e){switch(e.g){case 1:if(H=e7,function(e){e=v(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],r=v(t.Kc),i=r.next();!i.done;i=r.next()){i=i.value;for(var a=!1,o=v(n),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.channelsCount==s.channelsCount&&i.language==s.language&&i.bandwidth==s.bandwidth&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&ed(i.roles,s.roles)&&i.audioSamplingRate==s.audioSamplingRate&&i.primary==s.primary&&(a=!0);a||n.push(i)}t.Kc=n}}(z),function(e){e=v(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],r=v(t.gd),i=r.next();!i.done;i=r.next()){i=i.value;for(var a=!1,o=v(n),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.frameRate==s.frameRate&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&i.label==s.label&&ed(i.roles,s.roles)&&function(e,t){if(!e&&!t)return!0;if(e&&!t||t&&!e||e.size!=t.size)return!1;e=v(e);for(var n=e.next();!n.done;n=e.next()){var r=v(n.value);if(n=r.next().value,r=r.next().value,!t.has(n)||(n=t.get(n))!=r||void 0==n)return!1}return!0}(i.closedCaptions,s.closedCaptions)&&i.bandwidth==s.bandwidth&&(a=!0);a||n.push(i)}t.gd=n}}(z),function(e){e=v(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],r=v(t.textStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var a=!1,o=v(n),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.language==s.language&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&i.bandwidth==s.bandwidth&&ed(i.roles,s.roles)&&(a=!0);a||n.push(i)}t.textStreams=n}}(z),function(e){e=v(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],r=v(t.imageStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var a=!1,o=v(n),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&(a=!0);a||n.push(i)}t.imageStreams=n}}(z),!$&&1==z.length){F.g=(V=z[0]).Kc,F.h=V.gd,F.j=V.textStreams,F.i=V.imageStreams,e.A(2);break}for(W=0,q=-1;W<z.length;W++)K=z[W],F.m.has(K.id)||(F.m.add(K.id),-1==q&&(q=W));if(-1==q)return e.return();for(G=z.map(function(e){return e.Kc}),X=z.map(function(e){return e.gd}),Y=z.map(function(e){return e.textStreams}),J=z.map(function(e){return e.imageStreams}),Z=(Q=v(Y)).next();!Z.done;Z=Q.next())Z.value.push(uY(H.X));for(en=(et=v(J)).next();!en.done;en=et.next())en.value.push(uY(H.Wb));return A(e,uO(F.g,G,q,uj,uF),3);case 3:return A(e,uO(F.h,X,q,uj,uF),4);case 4:return A(e,uO(F.j,Y,q,uj,uF),5);case 5:return A(e,uO(F.i,J,q,uj,uF),2);case 2:if(er=0,ei=[],F.h.length&&F.g.length)for(ec=(eu=v(F.g)).next();!ec.done;ec=eu.next())for(ef=ec.value,eh=(ep=v(F.h)).next();!eh.done;eh=ep.next())eg=eh.value,em=ie(ef.drmInfos,eg.drmInfos),ef.drmInfos.length&&eg.drmInfos.length&&!em.length||(ev=er++,ei.push({id:ev,language:ef.language,primary:ef.primary,audio:ef,video:eg,bandwidth:(ef.bandwidth||0)+(eg.bandwidth||0),drmInfos:em,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(eo=(ea=v(F.h.concat(F.g))).next();!eo.done;eo=ea.next())es=eo.value,el=er++,ei.push({id:el,language:es.language,primary:es.primary,audio:es.type==H.Hc?es:null,video:es.type==H.va?es:null,bandwidth:es.bandwidth||0,drmInfos:es.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});F.l=ei,I(e)}})),2);case 2:if(e.i){e.i.variants=e.j.l,e.i.textStreams=e.j.j.slice(),e.i.imageStreams=e.j.i,e.h.filter(e.i),U.A(3);break}if(e.i={presentationTimeline:_,variants:e.j.l,textStreams:e.j.j.slice(),imageStreams:e.j.i,offlineSessionIds:[],minBufferTime:d||0,sequenceMode:e.g.dash.sequenceMode},!_.df()){U.A(4);break}return L=rP(t,"UTCTiming"),A(U,(ey=e,eb=l,ew=L,B(function(e){switch(e.g){case 1:e_=ew.map(function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}}),eS=ey.g.dash.clockSyncUri,!e_.length&&eS&&e_.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:eS}),eE=(ex=v(e_)).next();case 2:if(eE.done){e.A(4);break}switch(eT=eE.value,M(e,5),ek=eT.scheme,eC=eT.value,ek){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return e.A(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return e.A(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return eA=Date.parse(eC),e.return(isNaN(eA)?0:eA-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":ee("NTP UTCTiming scheme is not supported");break;default:ee("Unrecognized scheme in UTCTiming element",ek)}e.A(9);break;case 7:return A(e,u9(ey,eb,eC,"HEAD"),10);case 10:case 11:return e.return(e.h);case 8:return A(e,u9(ey,eb,eC,"GET"),11);case 9:P(e,3);break;case 5:D(e);case 3:eE=ex.next(),e.A(2);break;case 4:return ee("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),e.return(0)}})),5);case 5:if(j=U.h,!e.h)return U.return();_.Ve(j);case 4:_.Md();case 3:e.h.makeTextStreamsForClosedCaptions(e.i),I(U)}})}function u5(e,t){return e.filter(function(e){return e.contentType==t})}function u6(e,t){0>e.F||e.D.N(Math.max(3,e.F-t,Y(e.H)))}function u8(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,ad:null,audioSamplingRate:null,zb:0},n=n||t.wa;var r=rP(e,"BaseURL"),i=r.map(rL),a=e.getAttribute("contentType")||t.contentType,o=e.getAttribute("mimeType")||t.mimeType,s=e.getAttribute("codecs")||t.codecs,l=rU(e,"frameRate",rW)||t.frameRate,u=e.getAttribute("sar")||t.pixelAspectRatio,c=rP(e,"InbandEventStream"),d=t.emsgSchemeIdUris.slice();c=v(c);for(var f=c.next();!f.done;f=c.next())f=f.value.getAttribute("schemeIdUri"),d.includes(f)||d.push(f);c=function(e){e=v(e);for(var t=e.next();!t.done;t=e.next()){var n=t.value;if((t=n.getAttribute("schemeIdUri"))&&(n=n.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(t=parseInt(n,10)))continue;return t;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(!(t=parseInt(n,16)))continue;for(e=0;t;)1&t&&++e,t>>=1;return e;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(t=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(n=parseInt(n,10))&&0<n&&n<t.length)return t[n]}}return null}(c=rP(e,"AudioChannelConfiguration"))||t.ad,f=rU(e,"audioSamplingRate",rV)||t.audioSamplingRate,a||(a=u7(o,s));var p=rM(e,"SegmentBase"),h=rM(e,"SegmentTemplate"),g=p&&rU(p,"availabilityTimeOffset",rq)||0,m=h&&rU(h,"availabilityTimeOffset",rq)||0;return r=r&&r.length&&rU(r[0],"availabilityTimeOffset",rq)||0,r=t.zb+r+g+m,{wa:e4(n,i),wc:p||t.wc,ab:rM(e,"SegmentList")||t.ab,xc:h||t.xc,width:rU(e,"width",rV)||t.width,height:rU(e,"height",rV)||t.height,contentType:a,mimeType:o,codecs:s,frameRate:l,pixelAspectRatio:u,emsgSchemeIdUris:d,id:e.getAttribute("id"),ad:c,audioSamplingRate:f,zb:r}}function u9(e,t,n,r){var i,a,o,s,l;return B(function(u){if(1==u.g)return(i=rt(e4(t,[n]),e.g.retryParameters)).method=r,a=e.h.networkingEngine.request(4,i),n9(e.o,a),A(u,a.promise,2);if(o=u.h,"HEAD"==r){if(!o.headers||!o.headers.date)return u.return(0);s=o.headers.date}else s=tb(o.data);return isNaN(l=Date.parse(s))?u.return(0):u.return(l-Date.now())})}function u7(e,t){return tK(tz(e,t))?e9:e.split("/")[0]}function ce(e,t,n,r){this.h=e,this.type=t,this.g=n,this.segments=r||null}function ct(e,t,n,r){this.id=e,this.name=t,this.g=n,this.value=void 0===r?null:r}function cn(e,t,n){return(e=e.getAttribute(t))?e.value:n||null}function cr(e,t){if(!(e=e.getAttribute(t)))throw new eF(2,4,4023,t);return e.value}function ci(e,t,n){n=void 0===n?[]:n,this.g=t,this.i=e,this.h=n}function ca(e,t){this.name=e,this.value=t}function co(e,t){return e.filter(function(e){return e.name==t})}function cs(e,t){return e.filter(function(e){return cr(e,"TYPE")==t})}function cl(e,t){return(e=co(e,t)).length?e[0]:null}function cu(e,t){var n=0;return(e=cl(e,t))?Number(e.value):n}function cc(e,t){return e4([e],[t])[0]}function cd(e){this.h=e,this.g=0}function cf(e){cp(e,/[ \t]+/gm)}function cp(e,t){return(t.lastIndex=e.g,t=null==(t=t.exec(e.h))?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||null==t||t.position!=e.g)?null:(e.g+=t.length,t.results)}function ch(e){return e.g==e.h.length?null:(e=cp(e,/[^ \t\n]*/gm))?e[0]:null}function cg(){this.g=0}function cm(e,t,n){var r=(t=(t=tb(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new eF(2,4,4015);t=0;for(var i=!0,a=v(r),o=a.next();!o.done;o=a.next())if(o=o.value,/^#(?!EXT)/m.test(o)||i)i=!1;else if(o=cv(e,o),--e.g,cy.includes(o.name)){t=1;break}else"EXT-X-STREAM-INF"==o.name&&(i=!0);for(o=0,a=[],i=!0;o<r.length;o++){var s=r[o],l=r[o+1];if(/^#(?!EXT)/m.test(s)||i)i=!1;else{if(s=cv(e,s),cb.includes(s.name)){if(1!=t)throw new eF(2,4,4017);var u=r.splice(o,r.length-o);r=n,i=[],o=[],l=[],s=null,u=v(u);for(var c=u.next();!c.done;c=u.next())c=c.value,/^(#EXT)/.test(c)?(c=cv(e,c),cy.includes(c.name)?a.push(c):"EXT-X-MAP"==c.name?s=c:"EXT-X-PART"==c.name?l.push(c):"EXT-X-PRELOAD-HINT"==c.name?"PART"==cn(c,"TYPE")?l.push(c):"MAP"==cn(c,"TYPE")&&(c.name="EXT-X-MAP",s=c):o.push(c)):/^#(?!EXT)/m.test(c)||(c=cc(r,c.trim()),s&&o.push(s),i.push(new ci(c,o,l)),o=[],l=[]);return l.length&&(s&&o.push(s),i.push(new ci("",o,l))),new ce(n,t,a,i)}a.push(s),"EXT-X-STREAM-INF"==s.name&&(s.g.push(new ca("URI",l)),i=!0)}}return new ce(n,t,a)}function cv(e,t){e=e.g++;var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new eF(2,4,4016,t);t=n[1];var r=n[2];if(n=[],r){(a=cp(r=new cd(r),/^([^,=]+)(?:,|$)/g))&&(i=a[1]);for(var i,a,o=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=cp(r,o);)n.push(new ca(a[1],a[2]||a[3])),cf(r)}return new ct(e,t,n,i)}(b=u2.prototype).configure=function(e){this.g=e},b.start=function(e,t){var n,r=this;return B(function(i){if(1==i.g)return r.B=t.isLowLatencyMode(),r.m=[e],r.h=t,A(i,u3(r),2);if(n=i.h,r.h&&u6(r,n),!r.h)throw new eF(2,7,7001);return i.return(r.i)})},b.stop=function(){for(var e=v(Object.values(this.l)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();return this.j&&this.j.release(),this.g=this.h=null,this.m=[],this.i=null,this.l={},this.j=null,null!=this.D&&(this.D.stop(),this.D=null),this.o.destroy()},b.update=function(){var e,t=this;return B(function(n){return 1==n.g?(M(n,2),A(n,u3(t),4)):2!=n.g?P(n,0):(e=D(n),t.h&&e)?void(t.h.onError(e),I(n)):n.return()})},b.onExpirationUpdated=function(){},G("shaka.dash.DashParser",u2),ig.mpd=function(){return new u2},ih["application/dash+xml"]=function(){return new u2},ih["video/vnd.mpeg.dash.mpd"]=function(){return new u2},ct.prototype.toString=function(){var e="#"+this.name,t=this.g?this.g.map(function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)}):[];return this.value&&t.unshift(this.value),0<t.length&&(e+=":"+t.join(",")),e},ct.prototype.getAttribute=function(e){var t=this.g.filter(function(t){return t.name==e});return t.length?t[0]:null};var cy="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP".split(" "),cb="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function cw(){}function c_(e){try{var t=cS(e);return nQ({uri:e,Oe:e,data:t.data,headers:{"content-type":t.contentType}})}catch(e){return nY(e)}}function cS(t){var n=t.split(":");if(2>n.length||"data"!=n[0]||2>(n=n.slice(1).join(":").split(",")).length)throw new eF(2,1,1004,t);var r=n[0];t=e.decodeURIComponent(n.slice(1).join(",")),r=(n=r.split(";"))[0];var i=!1;return 1<n.length&&"base64"==n[n.length-1]&&(i=!0,n.pop()),{data:i?tA(t):tS(t),contentType:r}}function cx(){var e=this;this.g=this.i=null,this.Fa=1,this.o=new Map,this.u=new Map,this.F=new Map,this.F.set("video",new Map),this.F.set("audio",new Map),this.F.set(e9,new Map),this.F.set("image",new Map),this.ua=new Set,this.h=new Map,this.j=null,this.M="",this.W=new cg,this.O=0,this.B=-1,this.H=1/0,this.Ga=!1,this.m=new ti(function(){var t,n,r;t=e,B(function(e){return 1==e.g?t.i?(M(e,2),A(e,t.update(),4)):e.return():2!=e.g?(cW(t)&&(n=t.O,t.m.N(n)),P(e,0)):(r=D(e),t.i)?void(r.severity=1,t.i.onError(r),t.m.N(.1),I(e)):e.return()})}),this.ea=c0,this.D=null,this.ca=0,this.J=1/0,this.V=this.da=0,this.G=new n8,this.L=new Map,this.s=new Map,this.ba=new Map,this.l=!1}function cE(e,t){return cW(e)?e.F.get(t.type):t.$c}function cT(e,t,n){t.Ya+=n,t=v(e=cE(e,t));for(var r=t.next();!r.done;r=t.next()){var i=v(r.value);r=i.next().value,i=i.next().value,e.set(r,i+n)}}function ck(e){if(cW(e)){if(e.O=e.J,e.ea==c2){var t=cP(e);e.g.hls.useSafariBehaviorForLive&&(t=e.j.m),isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.j.me(t)}}else e.j.Aa(cP(e));e.j.Md()}function cC(e,t){var n=new Map;t=v(t);for(var r=t.next();!r.done;r=t.next()){var i=r.value;r=cn(i,"NAME");var a=cn(i,"VALUE");i=cn(i,"IMPORT"),r&&a&&n.set(r,a),i&&(r=e.o.get(i))&&n.set(i,r)}return n}function cA(e,t){var n=[];e.g.disableVideo||n.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||n.push(e.g.hls.defaultAudioCodec),n=cn(t,"CODECS",n.join(",")).split(/\s*,\s*/),e=new Set,t=[],n=v(n);for(var r=n.next();!r.done;r=n.next()){var i=tq(r=r.value)[0];e.has(i)||(t.push(r),e.add(i))}return t}function cI(e){return t1(e=cn(e,"LANGUAGE")||"und")}function cM(e,t){var n=cr(t,"GROUP-ID"),r="",i=cr(t,"TYPE").toLowerCase();"subtitles"==i&&(i=e9);var a=i;if(a!=e9&&n&&e.s.has(n)&&(r=e.s.get(n)),i=c$(cr(t,"URI"),e.o),e.h.has(i))return e.h.get(i);var o=cI(t),s=cn(t,"NAME"),l="YES"==cn(t,"DEFAULT"),u="audio"==a&&(u=cn(t,"CHANNELS"))?parseInt(u.split("/")[0],10):null,c="audio"==a&&!!(c=cn(t,"CHANNELS"))&&c.includes("/JOC"),d=cn(t,"CHARACTERISTICS");return(r=cR(e,i,r,a,o,l,s,u,null,d,t="YES"==cn(t,"FORCED"),c),e.u.has(n)?e.u.get(n).push(r):e.u.set(n,[r]),e.h.has(i))?e.h.get(i):(e.h.set(i,r),r)}function cR(e,t,n,r,i,a,o,s,l,u,c,d){var f=cc(e.M,t),p=cL(e,n,r,i,a,o,s,l,u,c,d);a0.includes(p.mimeType)&&(p.codecs="");var h={stream:p,type:r,Ac:t,Jc:f,Ya:0,$c:new Map,Mc:!1,mc:!1,Cd:-1,Ld:!1},g=null,m=new AbortController;return p.createSegmentIndex=function(){return g||(m=new AbortController,g=new Promise(function(f){var g,y,b,w,_,S,x,E,T,k,C,M,R;f((g=m.signal,B(function(f){if(1==f.g)return A(f,cq(e,h.Jc),2);if(3!=f.g)return(y=f.h,g.aborted)?f.return():(b=y.uri,w=cm(e.W,y.data,b),_=cW(e),A(f,cN(e,w,t,b,n,r,i,a,o,s,l,u,c,d),3));if(S=f.h,g.aborted)return f.return();if(x=S.stream,cW(e)&&!_&&cF(e),h.Jc=b,h.Ya=S.Ya,h.Mc=S.Mc,h.mc=S.mc,h.$c=S.$c,h.Ld=!0,p.segmentIndex=x.segmentIndex,p.encrypted=x.encrypted,p.drmInfos=x.drmInfos,p.keyIds=x.keyIds,p.mimeType=x.mimeType,a0.includes(p.mimeType)&&(p.codecs=""),p.drmInfos.length&&e.i.newDrmInfo(p),r==(E=e7).va||r==E.Hc)for(k=(T=v(e.h.values())).next();!k.done;k=T.next())(C=k.value).Ld||C.type!=r||(C.stream.mimeType=x.mimeType,a0.includes(C.stream.mimeType)&&(C.stream.codecs=""));(function(e){if(!e.D)return!1;var t=[],n=[];e=v(e.D.variants);for(var r=e.next();!r.done;r=e.next())(r=r.value).video&&t.push(r.video),r.audio&&n.push(r.audio);return(!(0<t.length)||!!t.some(function(e){return e.segmentIndex}))&&(!(0<n.length)||!!n.some(function(e){return e.segmentIndex}))})(e)&&(e.Ga?cO(e,[h]):(e.Ga=!0,M=Array.from(e.h.values()).filter(function(e){return e.stream.segmentIndex}),cO(e,M),ck(e),0<(R=e.O)&&e.m.N(R))),I(f)})))}))},p.closeSegmentIndex=function(){g&&!p.segmentIndex&&m.abort(),p.segmentIndex&&(p.segmentIndex.release(),p.segmentIndex=null),g=null},h}function cP(e){var t=1/0;e=v(e.h.values());for(var n=e.next();!n.done;n=e.next())(n=n.value).stream.segmentIndex&&"text"!=n.stream.type&&(t=Math.min(t,n.Ya));return t}function cD(e,t){var n=[];t=v(t);for(var r=t.next();!r.done;r=t.next())(r=r.value).segmentIndex&&function(e,t){e=v(e.g);for(var n=e.next();!n.done;n=e.next())t(n.value)}(r.segmentIndex,function(e){n.push(e)});e.j.Ib(n)}function cO(e,t){if(!cW(e))for(var n=cP(e),r=v(t),i=r.next();!i.done;i=r.next())i.value.stream.segmentIndex.Wa(0,n);for(i=(n=v(t)).next();!i.done;i=n.next())i=i.value.stream,a0.includes(i.mimeType)&&(i.codecs="");cD(e,t.map(function(e){return e.stream})),e.g.hls.ignoreManifestProgramDateTime?function(e,t){for(var n=-1==e.B,r=v(t),i=r.next();!i.done;i=r.next()){var a=(i=i.value).stream.segmentIndex,o=cE(e,i);if(a=a.g[0]||null){o=v(o);for(var s=o.next();!s.done;s=o.next()){var l=(s=v(s.value)).next().value;if(s.next().value==a.startTime){n&&(e.B=Math.max(e.B,l)),i.Cd=l;break}}}}if(!(0>e.B))for(i=(t=v(t)).next();!i.done;i=t.next())(r=(n=i.value).stream.segmentIndex)&&(r.g.splice(0,e.B-n.Cd),r=r.g[0]||null)&&(r=-r.startTime,n.stream.segmentIndex.offset(r),cT(e,n,r))}(e,t):function(e,t){if(1/0==e.H){t=v(t);for(var n=t.next();!n.done;n=t.next()){var r=n.value.stream.segmentIndex.g[0]||null;null!=r&&null!=r.g&&(e.H=Math.min(e.H,r.g))}}if(1/0!=(t=e.H))for(n=(r=v(e.h.values())).next();!n.done;n=r.next()){var i=(n=n.value).stream.segmentIndex;if(null!=i){var a=i.g[0]||null;if(null==a.g)Z("Missing EXT-X-PROGRAM-DATE-TIME for stream",n.Ac,"Expect AV sync issues!");else for(cT(e,n,a.g-t-a.startTime),i=(n=v(i)).next();!i.done;i=n.next())i.value.oe(t)}}}(e,t)}function cN(e,t,n,r,i,a,o,s,l,u,c,d,f,p,h){var g,m,v,y,b,w,_,S,x,E,T,k,C,I;return B(function(M){if(1==M.g){var R,P,D,O,N,L,j,U,F,z,$,H;if(1!=t.type)throw new eF(2,4,4017);return g=cC(e,co(t.g,"EXT-X-DEFINE")),cU(e,t),h?M.A(2):A(M,(R=e,P=a,D=i,O=t,N=g,B(function(e){return 1==e.g?(L=ri,j=Math.trunc((O.segments.length-1)/2),F=new ez(U=c$(O.segments[j].i,N)).qa.split(".").pop(),(z=cQ[P][F])||(z=cX[F])||(z=cH(P,D)))?e.return(z):(($=rt([U],R.g.retryParameters)).method="HEAD",A(e,cG(R,$,L),2)):(H=e.h.headers["content-type"])?e.return(H.split(";")[0]):e.return(cV(P))})),3)}if(2!=M.g&&(h=M.h),v=(m=cj(t,h)).drmInfos,y=m.keyIds,b=m.encrypted,w=m.kf,b&&!v.length&&!w)throw new eF(2,4,4026);return _=cW(e)?e.F.get(a):new Map,S=e.l,x=cz(e,t,a,_,g),S!=e.l&&cU(e,t),E=x[x.length-1].endTime,T=new od(x),C=!!(k=cl(t.g,"EXT-X-SERVER-CONTROL"))&&null!=k.getAttribute("CAN-SKIP-UNTIL"),(I=cL(e,i,a,o,s,l,u,c,d,f,p)).segmentIndex=T,I.encrypted=b,I.drmInfos=v,I.keyIds=y,I.mimeType=h,M.return({stream:I,type:a,Ac:n,Jc:r,Ya:E,Mc:C,mc:!1,Cd:-1,$c:_,Ld:!1})})}function cL(e,t,n,r,i,a,o,s,l,u,c){var d=cH(n,t)||cV(n);return{id:e.Fa++,originalId:a,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:d,codecs:t,kind:n==e9?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:r,label:a,type:n,primary:i,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:l?l.split(","):[],forced:u,channelsCount:o,audioSamplingRate:null,spatialAudio:c,closedCaptions:s,hdr:void 0,tilesLayout:void 0}}function cj(e,t){var n=[];if(e.segments){e=v(e.segments);for(var r=e.next();!r.done;r=e.next())r=co(r.value.g,"EXT-X-KEY"),n.push.apply(n,y(r))}r=e=!1;var i=[],a=new Set;n=v(n);for(var o=n.next();!o.done;o=n.next()){var s=cr(o=o.value,"METHOD");if("NONE"!=s){if(e=!0,"AES-128"==s)r=!0;else if(o=(s=cZ[s=cn(o,"KEYFORMAT")||"identity"])?s(o,t):null){if(o.keyIds){s=v(o.keyIds);for(var l=s.next();!l.done;l=s.next())a.add(l.value)}i.push(o)}}}return{drmInfos:i,keyIds:a,encrypted:e,kf:r}}function cU(e,t){var n=cl(t.g,"EXT-X-PLAYLIST-TYPE"),r=cl(t.g,"EXT-X-ENDLIST");if(r=n&&"VOD"==n.value||r,n=n&&"EVENT"==n.value&&!r,n=!r&&!n,r)cK(e,c0);else{if(n?cK(e,c2):cK(e,c1),!(r=cl(t.g,"EXT-X-TARGETDURATION")))throw new eF(2,4,4024,"EXT-X-TARGETDURATION");r=Number(r.value),n=cl(t.g,"EXT-X-PART-INF"),e.l&&n?(e.da=Number(cr(n,"PART-TARGET")),e.J=Math.min(e.da,e.J),e.V=(t=cl(t.g,"EXT-X-SERVER-CONTROL"))?Number(cr(t,"PART-HOLD-BACK")):0):e.J=Math.min(r,e.J),e.ca=Math.max(r,e.ca)}}function cF(e){var t=e.g.defaultPresentationDelay?e.g.defaultPresentationDelay:e.V?e.V:e.ca*e.g.hls.liveSegmentsDelay;e.j.Xe(0),e.j.We(t),e.j.yc(!1)}function cB(e,t){var n=0,r=null;return t&&(t=Number((n=t.split("@"))[0]),r=(n=n[1]?Number(n[1]):e.ka+1)+t-1),[n,r]}function cz(t,n,r,i,a){var o=n.segments,s=void 0,l=cu(n.g,"EXT-X-DISCONTINUITY-SEQUENCE"),u=cu(n.g,"EXT-X-MEDIA-SEQUENCE"),c=cl(n.g,"EXT-X-SKIP"),d=u+(c=c?Number(cn(c,"SKIPPED-SEGMENTS")):0),f=0;cW(t)&&i.has(d)&&(f=i.get(d));for(var p=[],h=null,g=0;g<o.length;g++){var m,y,b,w,_=o[g],S=0==g?f:h.endTime;d=u+c+g,cl(_.g,"EXT-X-DISCONTINUITY")&&l++;for(var x=v(_.g),E=x.next();!E.done;E=x.next())"EXT-X-KEY"==(E=E.value).name&&(s="AES-128"==cr(E,"METHOD")?function(t,n,r){if(!e.crypto||!e.crypto.subtle)throw ee("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new eF(2,4,4042);var i=0,a=cn(n,"IV","");if(a){var o=tI(a.substr(2));if(16!=o.byteLength)throw new eF(2,4,4043)}else i=cu(r.g,"EXT-X-MEDIA-SEQUENCE");var s=rt([n=cc(r.h,cr(n,"URI"))],t.g.retryParameters),l={method:"AES-128",iv:o,firstMediaSequenceNumber:i,fetchKey:function(){var n,r,i;return B(function(a){if(1==a.g)return A(a,cG(t,s,6),2);if(3!=a.g){if(!(n=a.h).data||16!=n.data.byteLength)throw new eF(2,4,4044);return r={name:"AES-CBC"},i=l,A(a,e.crypto.subtle.importKey("raw",n.data,r,!0,["decrypt"]),3)}i.cryptoKey=a.h,l.fetchKey=void 0,I(a)})}};return l}(t,E,n):void 0);i.set(d,S),m=t,y=n.h,b=_.g,w=a,x=(b=cl(b,"EXT-X-MAP"))?(y=[w=c$(cc(y,cr(b,"URI")),w),cn(b,"BYTERANGE","")].join("-"),m.ba.has(y)||(b=function(e,t){var n=0,r=null;return(t=cn(t,"BYTERANGE"))&&(r=Number((n=t.split("@"))[0]),r=(n=Number(n[1]))+r-1),new ag(function(){return[e]},n,r)}(w,b),m.ba.set(y,b)),m.ba.get(y)):null,!t.l&&t.i.isAutoLowLatencyMode()&&(t.i.enableLowLatencyMode(),t.l=t.i.isLowLatencyMode()),(h=_=function(e,t,n,r,i,a,o,s,l){var u=r.g,c=c$(r.i,a),d=cl(u,"EXTINF"),f=a=0,p=null;r.h.length&&!e.l&&ee("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.");var h=null;if(!e.g.hls.ignoreManifestProgramDateTime){var g=cl(u,"EXT-X-PROGRAM-DATE-TIME");g&&g.value&&(h=rF(g.value))}if(g=av,cl(u,"EXT-X-GAP")&&(g=2),!d){if(0==r.h.length)throw new eF(2,4,4024,"EXTINF");if(!e.l)return null}var m=[];if(e.l)for(var y={},b=0;b<r.h.length;y={pd:y.pd},b++){var w=r.h[b],_=0==b?n:m[m.length-1],S=0==b?i:_.endTime,x=Number(cn(w,"DURATION"))||e.da;if(x){x=S+x;var E=0,T=null;"EXT-X-PRELOAD-HINT"==w.name?E=(E=cn(w,"BYTERANGE-START"))?Number(E):0:(E=(T=v(cB(_,E=cn(w,"BYTERANGE")))).next().value,T=T.next().value),(_=cn(w,"URI"))&&(y.pd=cc(o,_),_=av,"YES"==cn(w,"GAP")&&(_=2),m.push(new am(S,x,function(e){return function(){return[e.pd]}}(y),E,T,t,0,0,1/0,[],"",null,null,_)))}}return a=d?i+Number(d.value.split(",")[0]):m[m.length-1].endTime,(e=cl(u,"EXT-X-BYTERANGE"))?(f=(p=v(cB(n,e.value))).next().value,p=p.next().value):m.length&&(f=m[0].Ba,p=m[m.length-1].ka),n="",e=null,"image"==s&&(n="1x1",s=cl(u,"EXT-X-TILES"))&&(n=cr(s,"LAYOUT"),(s=cn(s,"DURATION"))&&(e=Number(s))),new am(i,a,function(){return c.length?[c]:[]},f,p,t,0,0,1/0,m,n,e,h,g,l)}(t,x,h,_,S,a,n.h,r,s))&&(_.m=l,t.g.hls.ignoreManifestProgramDateTime&&null!=t.B&&d<t.B||p.push(_))}if(n=p.some(function(e){return null!=e.g})){for(r={},i=0;i<p.length;r={Qb:r.Qb,Pb:r.Pb,Bc:r.Bc,Ta:r.Ta,Ob:r.Ob},i++)if(r.Ta=p[i],null==r.Ta.g)for(r.Pb=0,r.Qb=i,a=function(e){return function(){var t=p[e.Qb];if(t){if(null!=t.g)return t.g+e.Pb;e.Pb-=t.endTime-t.startTime,e.Qb+=1}return null}}(r),r.Ob=0,r.Bc=i,o=function(e){return function(){var t=p[e.Bc];if(t){if(t!=e.Ta&&(e.Ob+=t.endTime-t.startTime),null!=t.g)return t.g+e.Ob;--e.Bc}return null}}(r);null==r.Ta.g;)r.Ta.g=o(),null==r.Ta.g&&(r.Ta.g=a())}if(n)for(i=(r=v(p)).next();!i.done;i=r.next())for(i=(a=i.value).g,o=(a=v(a.i)).next();!o.done;o=a.next())(o=o.value).g=i,i+=o.endTime-o.startTime;if(t=t.H,n&&1/0!=t)for(i=(n=v(p)).next();!i.done;i=n.next())i.value.oe(t);return p}function c$(e,t){var n=(e=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}")).match(/{\$\w*}/g);if(n){n=v(n);for(var r=n.next();!r.done;r=n.next()){var i=(r=r.value).slice(2,r.length-1),a=t.get(i);if(a)e=e.replace(r,a);else throw new eF(2,4,4039,i)}}return e}function cH(e,t){if(e==e9){if("vtt"==t||"wvtt"==t)return"text/vtt";if(t&&""!==t)return"application/mp4"}return"image"!=e||t&&"jpeg"!=t?"audio"==e&&"mp4a.40.34"==t?"audio/mpeg":null:"image/jpeg"}function cV(e){return e==e9?"text/vtt":cQ[e].mp4}function cq(e,t){return t=rt([t],e.g.retryParameters),e.i.modifyManifestRequest(t,{format:"h"}),cG(e,t,0)}function cW(e){return e.ea!=c0}function cK(e,t){e.ea=t,e.j&&e.j.yc(!cW(e)),cW(e)||e.m.stop()}function cG(e,t,n){if(!e.G)throw new eF(2,7,7001);return t=e.i.networkingEngine.request(n,t),n9(e.G,t),t.promise}G("shaka.net.DataUriPlugin",cw),cw.parse=c_,re("data",c_),(b=cx.prototype).configure=function(e){this.g=e},b.start=function(e,t){var n,r=this;return B(function(i){var a,o,s,l,u,c,d,f,p,h,g,m,y,b,w,_,S,x,E,T,k,C,R,P,O,N,L,j,U,F,z,$,H;return 1==i.g?(r.i=t,r.l=t.isLowLatencyMode(),A(i,cq(r,e),2)):3!=i.g?(r.M=(n=i.h).uri,A(i,(a=r,o=n.data,s=e,B(function(e){switch(e.g){case 1:u=co((l=cm(a.W,o,a.M)).g,"EXT-X-DEFINE");for(var t,n,r,i,V=v(u),q=V.next();!q.done;q=V.next()){var W=q.value;q=cn(W,"NAME"),W=cn(W,"VALUE"),q&&W&&(a.o.has(q)||a.o.set(q,W))}if(c=[],d=[],f=[],1==l.type)return C=a.g.hls.mediaPlaylistFullMimeType,l.segments.length&&((P=cX[R=new ez(l.segments[0].i).qa.split(".").pop()])?C=P:"ts"!==R&&"mp4"!==R&&(cY[R]?(P=cY[R],O=a.g.hls.defaultAudioCodec,C=P+'; codecs="'+O+'"'):cJ[R]&&(P=cJ[R],N=a.g.hls.defaultVideoCodec,C=P+'; codecs="'+N+'"'))),j=(L=C.split(";")[0]).split("/")[0],U=tV(C),F=new Map,A(e,cN(a,l,s,s,U,j,"",!0,"Media Playlist",null,F,null,!1,!1,L),5);for(p=co(l.g,"EXT-X-MEDIA"),h=co(l.g,"EXT-X-STREAM-INF"),g=co(l.g,"EXT-X-IMAGE-STREAM-INF"),m=co(l.g,"EXT-X-SESSION-KEY"),q=(V=v(h)).next();!q.done;q=V.next()){var K=q.value;W=cn(K,"AUDIO"),q=cn(K,"VIDEO");var G=cn(K,"SUBTITLES");if(K=cA(a,K),G){var X=e8(e9,K);a.s.set(G,X),ec(K,X)}W&&((G=e8("audio",K))||(G=a.g.hls.defaultAudioCodec),a.s.set(W,G)),q&&((W=e8("video",K))||(W=a.g.hls.defaultVideoCodec),a.s.set(q,W))}for(b=(y=v(co(l.g,"EXT-X-SESSION-DATA"))).next();!b.done;b=y.next())_=cn(w=b.value,"DATA-ID"),S=cn(w,"URI"),x=cn(w,"LANGUAGE"),E=cn(w,"VALUE"),T=new Map().set("id",_),S&&T.set("uri",cc(a.M,S)),x&&T.set("language",x),E&&T.set("value",E),k=new n1("sessiondata",T),a.i&&a.i.onEvent(k);for(function(e,t){t=v(t=t.filter(function(e){var t=cn(e,"URI")||"";return"SUBTITLES"!=cn(e,"TYPE")&&""!=t}));for(var n=t.next();!n.done;n=t.next())cM(e,n.value)}(a,p),q=(V=v(V=cs(p,"CLOSED-CAPTIONS"))).next();!q.done;q=V.next())q=cI(G=q.value),W=cr(G,"GROUP-ID"),G=cr(G,"INSTREAM-ID"),a.L.get(W)||a.L.set(W,new Map),a.L.get(W).set(G,q);return c=function(e,t,n){var r=[],i=new Set;if(0<n.length){n=v(n);for(var a=n.next();!a.done;a=n.next()){var o=cr(a=a.value,"METHOD");if("NONE"!=o&&"AES-128"!=o&&(a=(o=cZ[o=cn(a,"KEYFORMAT")||"identity"])?o(a,""):null)){if(a.keyIds){o=v(a.keyIds);for(var s=o.next();!s.done;s=o.next())i.add(s.value)}r.push(a)}}}return(t=t.map(function(t){var n,a,o,s,l,u,c,d,f,p,h,g,m,y,b,w=cn(t,"FRAME-RATE"),_=Number(cn(t,"AVERAGE-BANDWIDTH"))||Number(cr(t,"BANDWIDTH")),S=cn(t,"RESOLUTION"),x=(S=v(S?S.split("x"):[null,null])).next().value,E=S.next().value,T=cn(t,"VIDEO-RANGE");S=(o=cA(n=e,a=t),s=cn(a,"AUDIO"),l=cn(a,"VIDEO"),u=(u=s||l)&&n.u.has(u)?n.u.get(u):[],s={audio:s?u:[],video:l?u:[]},l=!1,c=cr(a,"URI"),d=s.audio.find(function(e){return e&&e.Ac==c}),f=e8("video",o),(p=e8("audio",o))&&!f?u="audio":!u.length&&p&&f?(u="video",o=[[f,p].join()]):s.audio.length&&d?(u="audio",l=!0):u=s.video.length&&!s.audio.length?"audio":"video",l||(s[(h=n,g=a,m=o,y=u,b=c$(cr(g,"URI"),h.o),n=h.h.has(b)||(g=cn(g,"CLOSED-CAPTIONS"),g="video"==y&&g&&"NONE"!=g?h.L.get(g):null,y=cR(h,b,m=e6(y,m),y,"und",!1,null,null,g,null,!1,!1),h.h.has(b))?h.h.get(b):(h.h.set(b,y),y)).stream.type]=[n]),t=s).audio,t=t.video;for(var k=v(t),C=k.next();!C.done;C=k.next())(C=C.value.stream)&&(C.width=Number(x)||void 0,C.height=Number(E)||void 0,C.frameRate=Number(w)||void 0,C.hdr=T||void 0);for(w=e.g.disableAudio,(!S.length||w)&&(S=[null]),w=e.g.disableVideo,(!t.length||w)&&(t=[null]),w=[],x=(S=v(S)).next();!x.done;x=S.next())for(x=x.value,T=(E=v(t)).next();!T.done;T=E.next()){var A=T.value;(T=x?x.stream:null)&&(T.drmInfos=r,T.keyIds=i),(k=A?A.stream:null)&&(k.drmInfos=r,k.keyIds=i),C=x?x.stream.drmInfos:null;var I=A?A.stream.drmInfos:null;A=(A?A.Ac:"")+" - "+(x?x.Ac:""),T&&k&&C.length&&I.length&&!(0<ie(C,I).length)||e.ua.has(A)||(T={id:e.Fa++,language:T?T.language:"und",primary:!!T&&T.primary||!!k&&k.primary,audio:T,video:k,bandwidth:_,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},w.push(T),e.ua.add(A))}return w}).reduce(e1,[])).filter(function(e){return null!=e})}(a,h,m),d=function(e,t){var n=cs(t,"SUBTITLES");t=n.map(function(t){if(e.g.disableText)return null;try{return cM(e,t).stream}catch(t){if(e.g.hls.ignoreTextStreamFailures)return null;throw t}}),n=v(n);for(var r=n.next();!r.done;r=n.next()){var i=cr(r.value,"GROUP-ID");if((r=e.s.get(i))&&(i=e.u.get(i))){i=v(i);for(var a=i.next();!a.done;a=i.next())(a=a.value).stream.codecs=r,a.stream.mimeType=cH(e9,r)||cV(e9)}}return t.filter(function(e){return e})}(a,p),A(e,(t=a,n=g,B(function(e){return 1==e.g?(r=n.map(function(e){var n,r;return B(function(i){if(1==i.g){var a,o,s,l,u,c,d,f,p,h,g;return t.g.disableThumbnails?i.return(null):(M(i,2),A(i,(a=t,o=e,B(function(e){return 1==e.g?(s=c$(cr(o,"URI"),a.o),l=cn(o,"CODECS","jpeg")||"",a.h.has(s))?e.return(a.h.get(s)):(u=cI(o),c=cn(o,"NAME"),d=cn(o,"CHARACTERISTICS"),f=cR(a,s,l,"image",u,!1,c,null,null,d,!1,!1),a.h.has(s)?e.return(a.h.get(s)):(p=cn(o,"RESOLUTION"))?A(e,f.stream.createSegmentIndex(),3):e.A(2)):(2!=e.g&&(h=f.stream.segmentIndex.get(0).tilesLayout)&&(f.stream.width=Number(p.split("x")[0])*Number(h.split("x")[0]),f.stream.height=Number(p.split("x")[1])*Number(h.split("x")[1])),(g=cn(o,"BANDWIDTH"))&&(f.stream.bandwidth=Number(g)),a.h.set(s,f),e.return(f))})),4))}if(2!=i.g)return n=i.h,i.return(n.stream);if(r=D(i),t.g.hls.ignoreImageStreamFailures)return i.return(null);throw r})}),A(e,Promise.all(r),2)):(i=e.h,e.return(i.filter(function(e){return e})))})),4);case 4:f=e.h,e.A(3);break;case 5:z=e.h,a.h.set(s,z),c.push({id:0,language:"und",disabledUntilTime:0,primary:!0,audio:"audio"==j?z.stream:null,video:"video"==j?z.stream:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!a.i)throw new eF(2,7,7001);a.j=new a1(null,0),a.j.yc(!0),1==l.type&&(cW(a)&&(cF(a),$=a.O,a.m.N($)),H=Array.from(a.h.values()),cO(a,H),ck(a)),a.D={presentationTimeline:a.j,variants:c,textStreams:d,imageStreams:f,offlineSessionIds:[],minBufferTime:0,sequenceMode:!0},a.i.makeTextStreamsForClosedCaptions(a.D),I(e)}})),3)):i.return(r.D)})},b.stop=function(){this.m&&(this.m.stop(),this.m=null);var e=[];return this.G&&(e.push(this.G.destroy()),this.G=null),this.g=this.i=null,this.ua.clear(),this.D=null,this.h.clear(),this.u.clear(),this.s.clear(),this.o.clear(),Promise.all(e)},b.update=function(){var e,t,n,r,i,a,o,s=this;return B(function(l){if(1==l.g){if(!cW(s))return l.return();for(e=[],r=(n=v(t=Array.from(s.h.values()).filter(function(e){return e.stream.segmentIndex}))).next();!r.done;r=n.next())i=r.value,e.push(function(e,t){var n,r,i,a,o,s,l,u,c,d,f,p,h;return B(function(g){var m,v;if(1==g.g)return n=new ez(t.Jc),e.l&&t.Mc&&eV(n,new eZ("_HLS_skip=YES")),A(g,cq(e,n.toString()),2);if(r=g.h,!t.stream.segmentIndex)return g.return();if(1!=(i=cm(e.W,r.data,r.uri)).type)throw new eF(2,4,4017);a=cC(e,co(i.g,"EXT-X-DEFINE")),o=t.stream,s=cE(e,t),u=(l=cj(i,o.mimeType)).keyIds,c=l.drmInfos,m=o.keyIds,v=u,m.size===v.size&&[].concat(y(m)).every(function(e){return v.has(e)})||(o.keyIds=u,o.drmInfos=c,e.i.newDrmInfo(o)),d=cz(e,i,o.type,s,a),o.segmentIndex.Hb(d,e.j.Pa()),d.length&&(f=cu(i.g,"EXT-X-MEDIA-SEQUENCE"),p=s.get(f),o.segmentIndex.eb(p)),h=d[d.length-1],cl(i.g,"EXT-X-ENDLIST")&&(t.mc=!0,t.Ya=h.endTime),I(g)})}(s,i));return A(l,Promise.all(e),2)}cD(s,t.map(function(e){return e.stream})),a=t.some(function(e){return 0==e.mc}),t.length&&!a&&(cK(s,c3.ff),o=t.map(function(e){return e.Ya}),s.j.Aa(Math.min.apply(Math,y(o))),s.i.updateDuration()),I(l)})},b.onExpirationUpdated=function(){},G("shaka.hls.HlsParser",cx);var cX={aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},cY={mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",tsa:"video/mp2t"},cJ={mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t",tsv:"video/mp2t"},cQ={audio:cY,video:cJ,text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml"},image:{jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}},cZ={"com.apple.streamingkeydelivery":function(t,n){if("video/mp2t"==n)throw new eF(2,4,4040);if(e.shakaMediaKeysPolyfill)throw new eF(2,4,4041);return e5("com.apple.fps",[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}])},"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=cr(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(t=e5("com.widevine.alpha",[{initDataType:"cenc",initData:t=eL((t=cS(t=cr(e,"URI"))).data)}]),(e=cn(e,"KEYID"))&&(t.keyIds=new Set([e.toLowerCase().substr(2)])),t):null},"com.microsoft.playready":function(e){var t=cr(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(e=eL((e=cS(e=cr(e,"URI"))).data),e5("com.microsoft.playready",[{initDataType:"cenc",initData:e=rI(e,t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),new Set,0)}])):null},identity:function(e){return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(e=cr(e,"METHOD"))?e5("org.w3.clearkey",null):null}},c0="VOD",c1="EVENT",c2="LIVE",c3={ff:c0};function c4(e,t,n,r,i,a){if(200<=n&&299>=n&&202!=n)return{uri:i||r,Oe:r,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"]};i=null;try{i=t_(t)}catch(e){}throw new eF(401==n||403==n?2:1,1,1001,r,n,i,e,a)}function c5(){}function c6(e,t,n,r,i){var a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,w,_,S,x,E=new dn;rp(t.headers).forEach(function(e,t){E.append(t,e)});var T=new de,k={ye:!1,bf:!1};if(e=new nX((a=e,o=n,s={body:t.body||void 0,headers:E,method:t.method,signal:T.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},l=k,u=r,c=i,d=t.streamDataCallback,e=B(function(e){switch(e.g){case 1:return f=c7,p=dt,v=m=0,y=Date.now(),M(e,2),A(e,f(a,s),4);case 4:return c(c8((h=e.h).headers)),b=h.clone().body.getReader(),_=(w=h.headers.get("Content-Length"))?parseInt(w,10):0,new p({start:function(e){!function t(){var n,r;return B(function(i){switch(i.g){case 1:return M(i,2),A(i,b.read(),4);case 4:n=i.h,P(i,3);break;case 2:return D(i),i.return();case 3:if(n.done||(m+=n.value.byteLength,!d)){i.A(5);break}return A(i,d(n.value),5);case 5:(100<(r=Date.now())-y||n.done)&&(u(r-y,m-v,_-m),v=m,y=r),n.done?e.close():(e.enqueue(n.value),t()),I(i)}})}()}}),A(e,h.arrayBuffer(),5);case 5:g=e.h,P(e,3);break;case 2:if(S=D(e),l.ye)throw new eF(1,1,7001,a,o);if(l.bf)throw new eF(1,1,1003,a,o);throw new eF(1,1,1002,a,S,o);case 3:return x=c8(h.headers),e.return(c4(x,g,h.status,a,h.url,o))}})),function(){return k.ye=!0,T.abort(),Promise.resolve()}),t=t.retryParameters.timeout){var C=new ti(function(){k.bf=!0,T.abort()});C.N(t/1e3),e.finally(function(){C.stop()})}return e}function c8(e){var t={};return e.forEach(function(e,n){t[n.trim()]=e}),t}function c9(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(e){return!1}return!(!e.fetch||!e.AbortController)}th("Tizen 3")||th("Tizen 2")||tc()||(ig.m3u8=function(){return new cx},ih["application/x-mpegurl"]=function(){return new cx},ih["application/vnd.apple.mpegurl"]=function(){return new cx}),G("shaka.net.HttpFetchPlugin",c5),c5.isSupported=c9,c5.parse=c6;var c7=e.fetch,de=e.AbortController,dt=e.ReadableStream,dn=e.Headers;function dr(){}function di(e,t,n,r,i){var a=new ds,o=Date.now(),s=0;return new nX(new Promise(function(l,u){a.open(t.method,e,!0),a.responseType="arraybuffer",a.timeout=t.retryParameters.timeout,a.withCredentials=t.allowCrossSiteCredentials,a.onabort=function(){u(new eF(1,1,7001,e,n))};var c=!1;for(var d in a.onreadystatechange=function(){2!=a.readyState||c||(i(da(a)),c=!0)},a.onload=function(){var t=da(a),r=a.response;try{var i=c4(t,r,a.status,e,a.responseURL,n);l(i)}catch(e){u(e)}},a.onerror=function(t){u(new eF(1,1,1002,e,t,n))},a.ontimeout=function(){u(new eF(1,1,1003,e,n))},a.onprogress=function(e){var t=Date.now();(100<t-o||e.lengthComputable&&e.loaded==e.total)&&(r(t-o,e.loaded-s,e.total-e.loaded),s=e.loaded,o=t)},t.headers)a.setRequestHeader(d.toLowerCase(),t.headers[d]);a.send(t.body)}),function(){return a.abort(),Promise.resolve()})}function da(e){var t=e.getAllResponseHeaders().trim().split("\r\n");e={},t=v(t);for(var n=t.next();!n.done;n=t.next())e[(n=n.value.split(": "))[0].toLowerCase()]=n.slice(1).join(": ");return e}c9()&&(re("http",c6,2,!0),re("https",c6,2,!0),re("blob",c6,2,!0)),G("shaka.net.HttpXHRPlugin",dr),dr.parse=di;var ds=e.XMLHttpRequest;function dl(e,t,n,r){this.g=e,this.i=t,this.groupId=n,this.h=r}function du(e){return e.ya().map(function(e){return"{"+encodeURI(e)+"}"}).join("")+":"+e.Ba+":"+e.ka}function dc(){this.h=this.j=this.i=0,this.g=new Map,this.l=0}function dd(e,t){e.i+=t;var n=e.l;return e.l++,e.g.set(n,t),n}function df(e){var t=this;this.o=e,this.j=new Map,this.i=new rs(function(){return dp(t).catch(function(){})}),this.h=[],this.m=function(){},this.l=function(){},this.g=new dc}function dp(e){var t=e.h.map(function(e){return e()});return e.h=[],Promise.all(t)}function dh(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new tt,e.onabort=function(e){e.preventDefault(),n.g.reject()},e.onerror=function(e){e.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}function dg(e,t){return new Promise(function(n,r){var i=e.h.openCursor();i.onerror=r,i.onsuccess=function(){var e;return B(function(r){if(1==r.g)return null==i.result?(n(),r.return()):A(r,t((e=i.result).key,e.value,e),2);e.continue(),I(r)})}})}function dm(e){this.h=e,this.g=[]}function dv(e,t){return dy(e,t,"readwrite")}function dy(e,t,n){var r=new dh(n=e.h.transaction([t],n),t);return e.g.push(r),r.promise().then(function(){ec(e.g,r)},function(){ec(e.g,r)}),r}function db(e,t,n){this.h=new dm(e),this.i=t,this.g=n}function dw(e){return Promise.reject(new eF(2,9,9011,"Cannot add new value to "+e))}function d_(e,t,n,r){t=(e=dv(e.h,t)).store();var i={};n=v(n);for(var a=n.next();!a.done;i={Ec:i.Ec},a=n.next())i.Ec=a.value,t.delete(i.Ec).onsuccess=function(e){return function(){return r(e.Ec)}}(i);return e.promise()}function dS(e,t,n){var r,i,a,o,s,l,u;return B(function(c){if(1==c.g){for(i=(r=dy(e.h,t,"readonly")).store(),a={},o=[],s={},u=(l=v(n)).next();!u.done;s={Vb:s.Vb,Tb:s.Tb},u=l.next())s.Tb=u.value,s.Vb=i.get(s.Tb),s.Vb.onsuccess=function(e){return function(){void 0==e.Vb.result&&o.push(e.Tb),a[e.Tb]=e.Vb.result}}(s);return A(c,r.promise(),2)}if(o.length)throw new eF(2,9,9012,"Could not find values for "+o);return c.return(n.map(function(e){return a[e]}))})}function dx(e){this.g=new dm(e)}function dE(){this.g=new Map}function dT(e){var t=null;if(e.g.forEach(function(e,n){e.getCells().forEach(function(e,r){e.hasFixedKeySpace()||t||(t={path:{za:n,ja:r},ja:e})})}),t)return t;throw new eF(2,9,9013,"Could not find a cell that supports add-operations")}function dk(e,t,n){if(!(e=e.g.get(t)))throw new eF(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells().get(n)))throw new eF(2,9,9013,"Could not find cell with name "+n);return t}function dC(e,t){dA.set(e,t)}re("http",di,1,!0),re("https",di,1,!0),re("blob",di,1,!0),dc.prototype.close=function(e,t){if(this.g.has(e)){var n=this.g.get(e);this.g.delete(e),this.j+=n,this.h+=t}},df.prototype.destroy=function(){return this.i.destroy()},dh.prototype.abort=function(){var e=this;return B(function(t){if(1==t.g){try{e.i.abort()}catch(e){}return M(t,2),A(t,e.g,4)}if(2!=t.g)return P(t,0);D(t),I(t)})},dh.prototype.store=function(){return this.h},dh.prototype.promise=function(){return this.g},dm.prototype.destroy=function(){return Promise.all(this.g.map(function(e){return e.abort()}))},(b=db.prototype).destroy=function(){return this.h.destroy()},b.hasFixedKeySpace=function(){return!0},b.addSegments=function(){return dw(this.i)},b.removeSegments=function(e,t){return d_(this,this.i,e,t)},b.getSegments=function(e){var t,n=this;return B(function(r){return 1==r.g?A(r,dS(n,n.i,e),2):(t=r.h,r.return(t.map(function(e){return n.ze(e)})))})},b.addManifests=function(){return dw(this.g)},b.updateManifest=function(){return Promise.reject(new eF(2,9,9016,"Cannot modify values in "+this.g))},b.updateManifestExpiration=function(e,t){var n=dv(this.h,this.g),r=n.store();return r.get(e).onsuccess=function(n){(n=n.target.result)&&(n.expiration=t,r.put(n,e))},n.promise()},b.removeManifests=function(e,t){return d_(this,this.g,e,t)},b.getManifests=function(e){var t,n=this;return B(function(r){return 1==r.g?A(r,dS(n,n.g,e),2):(t=r.h,r.return(Promise.all(t.map(function(e){return n.bc(e)}))))})},b.getAllManifests=function(){var e,t,n=this;return B(function(r){return 1==r.g?(e=dy(n.h,n.g,"readonly"),t=new Map,A(r,dg(e,function(e,r){var i;return B(function(a){if(1==a.g)return A(a,n.bc(r),2);i=a.h,t.set(e,i),I(a)})}),2)):3!=r.g?A(r,e.promise(),3):r.return(t)})},b.ze=function(e){return e},b.bc=function(e){return Promise.resolve(e)},b.add=function(e,t){var n,r,i,a,o,s,l,u=this;return B(function(c){if(1==c.g){for(r=(n=dv(u.h,e)).store(),i=[],a={},s=(o=v(t)).next();!s.done;a={Fc:a.Fc},s=o.next())l=s.value,a.Fc=r.add(l),a.Fc.onsuccess=function(e){return function(){i.push(e.Fc.result)}}(a);return A(c,n.promise(),2)}return c.return(i)})},dx.prototype.destroy=function(){return this.g.destroy()},dx.prototype.getAll=function(){var e,t,n=this;return B(function(r){return 1==r.g?(e=dy(n.g,"session-ids","readonly"),t=[],A(r,dg(e,function(e,n){t.push(n)}),2)):3!=r.g?A(r,e.promise(),3):r.return(t)})},dx.prototype.add=function(e){var t=dv(this.g,"session-ids"),n=t.store();e=v(e);for(var r=e.next();!r.done;r=e.next())n.add(r.value);return t.promise()},dx.prototype.remove=function(e){var t,n=this;return B(function(r){return 1==r.g?A(r,dg(t=dv(n.g,"session-ids"),function(t,n,r){e.includes(n.sessionId)&&r.delete()}),2):A(r,t.promise(),0)})},dE.prototype.destroy=function(){for(var e=[],t=v(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},dE.prototype.init=function(){var e=this;dA.forEach(function(t,n){(t=t())&&e.g.set(n,t)});for(var t=[],n=v(this.g.values()),r=n.next();!r.done;r=n.next())t.push(r.value.init());return Promise.all(t)},G("shaka.offline.StorageMuxer",dE),dE.unregister=function(e){dA.delete(e)},dE.register=dC,dE.prototype.destroy=dE.prototype.destroy;var dA=new Map;function dI(){db.apply(this,arguments)}function dM(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new eF(2,9,9004,"Could not parse uri "+e)}function dR(){db.apply(this,arguments)}function dP(){db.apply(this,arguments)}function dD(){this.m=this.j=this.i=this.h=this.g=this.l=null}function dO(e,t,n,r){this.g=e,this.i=t,this.h=n,this.l=r,this.j="offline:"+e+"/"+t+"/"+n+"/"+r}function dN(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var n=e[2];if(!n)return null;var r=e[3];return r&&null!=t?new dO(t,n,r,Number(e[4])):null}function dL(e,t){this.h=e,this.g=t}function dj(e,t){var n=new a1(null,0);n.Aa(t.duration);var r=t.streams.filter(function(e){return"audio"==e.type}),i=t.streams.filter(function(e){return"video"==e.type});r=function(e,t,n,r){for(var i=new Set,a=v(t),o=a.next();!o.done;o=a.next()){var s=v(o.value.variantIds);for(o=s.next();!o.done;o=s.next())i.add(o.value)}for(o=(a=v(n)).next();!o.done;o=a.next())for(o=(s=v(o.value.variantIds)).next();!o.done;o=s.next())i.add(o.value);for(a=new Map,o=(i=v(i)).next();!o.done;o=i.next())o=o.value,a.set(o,{id:o,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(i=(t=v(t)).next();!i.done;i=t.next())for(o=dU(e,i=i.value,r),i=(s=v(i.variantIds)).next();!i.done;i=s.next())(i=a.get(i.value)).language=o.language,i.primary=i.primary||o.primary,i.audio=o;for(t=(n=v(n)).next();!t.done;t=n.next())for(t=dU(e,i=t.value,r),i=(o=v(i.variantIds)).next();!i.done;i=o.next())(i=a.get(i.value)).primary=i.primary||t.primary,i.video=t;return a}(e,r,i,n),i=t.streams.filter(function(e){return e.type==e9}).map(function(t){return dU(e,t,n)});var a=t.streams.filter(function(e){return"image"==e.type}).map(function(t){return dU(e,t,n)}),o=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var s=v(r.values()),l=s.next();!l.done;l=s.next())(l=l.value).audio&&l.audio.encrypted&&(l.audio.drmInfos=o),l.video&&l.video.encrypted&&(l.video.drmInfos=o);return{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,variants:Array.from(r.values()),textStreams:i,imageStreams:a,sequenceMode:t.sequenceMode||!1}}function dU(e,t,n){var r=t.segments.map(function(t){var n,r,i,a,o,s;return n=e,r=t,i=new dO("segment",n.h,n.g,r.dataKey),new am(r.startTime,r.endTime,function(){return[i.toString()]},0,null,null!=r.initSegmentKey?(a=n,o=r.initSegmentKey,s=new dO("segment",a.h,a.g,o),new ag(function(){return[s.toString()]},0,null)):null,r.timestampOffset,r.appendWindowStart,r.appendWindowEnd,[],r.tilesLayout||"")});return n.Ib(r),{id:t.id,originalId:t.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new od(r),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout}}function dF(){this.g=null}function dB(){}function dz(e){var t,n,r,i=dN(e);return e=i&&"manifest"==i.g?nQ(e={uri:e,Oe:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}}):i&&"segment"==i.g?(t=i.key(),n=i,r=new dE,nQ(void 0).Y(function(){return r.init()}).Y(function(){return dk(r,n.za(),n.ja())}).Y(function(e){return e.getSegments([n.key()])}).Y(function(e){return{uri:n,data:e[0].data,headers:{}}}).finally(function(){return r.destroy()})):nY(new eF(2,1,9004,e))}function d$(e,t,n){var r,i,a,o;return B(function(s){switch(s.g){case 1:r=[];for(var l,u,c,d,f,p=[],h=v(n),g=h.next();!g.done;g=h.next()){g=g.value;for(var m=!1,y=v(p),b=y.next();!b.done;b=y.next())if(function(e,t){function n(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&ed(e.audioCapabilities,t.audioCapabilities,n)&&ed(e.videoCapabilities,t.videoCapabilities,n)}((b=b.value).info,g)){b.sessionIds.push(g.sessionId),m=!0;break}m||p.push({info:g,sessionIds:[g.sessionId]})}a=(i=v(p)).next();case 2:if(a.done){s.A(4);break}return A(s,(l=e,u=t,c=a.value,B(function(e){switch(e.g){case 1:var t,n,r,i,a,o,s;return d=new rY({kb:u,onError:function(){},cd:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),M(e,2),d.configure(l),A(e,(t=d,n=c.info.keySystem,r=c.info.licenseUri,i=c.info.serverCertificate,a=c.info.audioCapabilities,o=c.info.videoCapabilities,s=new Map,(a={audioCapabilities:a,videoCapabilities:o,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:n}).drmInfos=[{keySystem:n,licenseServerUri:r,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:i,serverCertificateUri:"",initData:null,keyIds:null}],s.set(n,a),r5(t,s,[])),4);case 4:P(e,3);break;case 2:return D(e),A(e,d.destroy(),5);case 5:case 9:return e.return([]);case 3:return M(e,6),A(e,r0(d),8);case 8:P(e,7);break;case 6:return D(e),A(e,d.destroy(),9);case 7:return f=[],A(e,Promise.all(c.sessionIds.map(function(e){return B(function(t){if(1==t.g){var n,r,i,a,o;return M(t,2),A(t,(n=d,r=e,B(function(e){return 1==e.g?A(e,r6(n,r),2):3!=e.g?(i=e.h)?(a=[],(o=n.i.get(i))&&(o.Ja=new tt,a.push(o.Ja)),a.push(i.remove()),A(e,Promise.all(a),3)):e.return():void(n.i.delete(i),I(e))})),4)}if(2!=t.g)return f.push(e),P(t,0);D(t),I(t)})})),10);case 10:return A(e,d.destroy(),11);case 11:return e.return(f)}})),5);case 5:o=s.h,r=r.concat(o),a=i.next(),s.A(2);break;case 4:return s.return(r)}})}function dH(e,t){var n=dj(new dL(e.za(),e.ja()),t),r=t.appMetadata||{};return n=dV(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:r,isIncomplete:t.isIncomplete||!1}}function dV(e){var t=[],n=e.variants.filter(function(e){return ng(e)});n=v(n);for(var r=n.next();!r.done;r=n.next())t.push(nl(r.value));for(n=(e=v(e.textStreams)).next();!n.done;n=e.next())t.push(nu(n.value));return t}function dq(){this.g={}}function dW(e,t){return null==(e=e.g[t])&&(e=0),e}function dK(e){var t=this;if(e&&e.constructor!=sy)throw new eF(2,9,9008);this.g=this.h=null,e?(this.h=e.h,this.g=e.jc()):(this.h=sc(),this.g=new n7),this.i=[],this.j=[];var n=!e;this.l=new rs(function(){var e,r,i,a,o;return B(function(s){switch(s.g){case 1:return A(s,Promise.all(t.j.map(function(e){return dp(e)})),2);case 2:for(e=function(){},r=[],a=(i=v(t.i)).next();!a.done;a=i.next())o=a.value,r.push(o.then(e,e));return A(s,Promise.all(r),3);case 3:if(!n){s.A(4);break}return A(s,t.g.destroy(),4);case 4:t.h=null,t.g=null,I(s)}})})}function dG(){if(ta())e:{for(var e=v(dA.values()),t=e.next();!t.done;t=e.next())if(t=(t=t.value)()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}function dX(e){var t,n,r;return B(function(i){switch(i.g){case 1:return A(i,(t=new dE).init(),2);case 2:return A(i,dT(t),3);case 3:return r=new dO("manifest",(n=i.h).path.za,n.path.ja,e),A(i,t.destroy(),4);case 4:return A(i,new dK().remove(r.toString()),0)}})}function dY(e,t,n,r,i,a){var o,s,l,u,c,d,f,p,h,g;return B(function(m){switch(m.g){case 1:for(o=!1,M(m,2),s=!0,u=(l=v(n.streams)).next();!u.done;u=l.next())for(d=(c=v(u.value.segments)).next();!d.done;d=c.next())null!=(p=(f=d.value).pendingSegmentRefId?r[f.pendingSegmentRefId]:null)&&(f.dataKey=p,f.pendingSegmentRefId=void 0),null!=(p=f.pendingInitSegmentRefId?r[f.pendingInitSegmentRefId]:null)&&(f.initSegmentKey=p,f.pendingInitSegmentRefId=void 0),f.pendingSegmentRefId&&(s=!1),f.pendingInitSegmentRefId&&(s=!1);return n.size+=i,s&&(n.isIncomplete=!1),A(m,e.updateManifest(t,n),4);case 4:o=!0,a(),P(m,0);break;case 2:return h=D(m),A(m,dX(t),5);case 5:if(o){m.A(6);break}return g=Object.values(r),A(m,e.removeSegments(g,function(){}),6);case 6:throw h}})}function dJ(e){return e.variants.some(function(e){var t=e.audio&&e.audio.encrypted;return e.video&&e.video.encrypted||t})}function dQ(e){return e.variants.some(function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]).some(function(e){return e.initData&&e.initData.length})})}function dZ(e,t){for(var n=[],r=v(e.streams),i=r.next();!i.done;i=r.next())i=i.value,t&&"video"==i.type?n.push({contentType:tz(i.mimeType,i.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=i.type||n.push({contentType:tz(i.mimeType,i.codecs),robustness:e.drmInfo.audioRobustness});return n}function d0(e){if(e.l.g)throw new eF(2,9,7001)}function d1(){if(!dG())throw new eF(2,9,9e3)}function d2(e,t){return B(function(n){return 1==n.g?(e.i.push(t),R(n),A(n,t,4)):2!=n.g?n.return(n.h):(O(n),ec(e.i,t),N(n,0))})}function d3(e){for(var t=new Set,n=v(e.textStreams),r=n.next();!r.done;r=n.next())t.add(r.value);for(r=(n=v(e.imageStreams)).next();!r.done;r=n.next())t.add(r.value);for(n=(e=v(e.variants)).next();!n.done;n=e.next())(n=n.value).audio&&t.add(n.audio),n.video&&t.add(n.video);return t}E(dI,db),dI.prototype.updateManifestExpiration=function(e,t){var n,r,i,a=this;return B(function(o){return r=(n=dv(a.h,a.g)).store(),i=new tt,r.get(e).onsuccess=function(n){(n=n.target.result)?(n.expiration=t,r.put(n),i.resolve()):i.reject(new eF(2,9,9012,"Could not find values for "+e))},A(o,Promise.all([n.promise(),i]),0)})},dI.prototype.bc=function(e){var t,n,r,i,a;return B(function(o){if(1==o.g){for(n=0,t=[];n<e.periods.length;++n)r=(n==e.periods.length-1?e.duration:e.periods[n+1].startTime)-e.periods[n].startTime,i=function(e,t){!function(e){var t=e.streams.filter(function(e){return"audio"==e.contentType});if(e=e.streams.filter(function(e){return"video"==e.contentType}),!t.every(function(e){return e.variantIds})||!e.every(function(e){return e.variantIds})){for(var n=v(t),r=n.next();!r.done;r=n.next())r.value.variantIds=[];for(r=(n=v(e)).next();!r.done;r=n.next())r.value.variantIds=[];if(n=0,e.length&&!t.length){var i=n++,a=v(e);for(r=a.next();!r.done;r=a.next())r.value.variantIds.push(i)}if(!e.length&&t.length)for(i=n++,r=(a=v(t)).next();!r.done;r=a.next())r.value.variantIds.push(i);if(e.length&&t.length)for(r=(t=v(t)).next();!r.done;r=t.next())for(r=r.value,a=(i=v(e)).next();!a.done;a=i.next()){a=a.value;var o=n++;r.variantIds.push(o),a.variantIds.push(o)}}}(e);for(var n=v(e.streams),r=n.next();!r.done;r=n.next());return e.streams.map(function(n){return function(e,t,n){var r=e.initSegmentUri?dM(e.initSegmentUri):null,i=t+e.presentationTimeOffset,a=t+n;return{id:e.id,originalId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:r,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(e){var n=dM(e.uri);return{startTime:t+e.startTime,endTime:t+e.endTime,dataKey:n,initSegmentKey:r,appendWindowStart:t,appendWindowEnd:a,timestampOffset:i,tilesLayout:""}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}(n,e.startTime,t)})}(e.periods[n],r),t.push(i);return A(o,uD(t),2)}return a=o.h,o.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,streams:a,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})})},dI.prototype.ze=function(e){return{data:e.data}},E(dR,db),dR.prototype.bc=function(e){var t,n,r,i,a;return B(function(o){if(1==o.g){for(n=0,t=[];n<e.periods.length;++n){r=(n==e.periods.length-1?e.duration:e.periods[n+1].startTime)-e.periods[n].startTime;for(var s=e.periods[n],l=[],u=v(s.streams),c=u.next();!c.done;c=u.next())0!=(c=c.value).variantIds.length&&l.push(function(e,t,n){return{id:e.id,originalId:e.originalId,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(r){return{startTime:t+r.startTime,endTime:t+r.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:r.dataKey,tilesLayout:""}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}(c,s.startTime,s.startTime+r));i=l,t.push(i)}return A(o,uD(t),2)}return a=o.h,o.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:null==e.expiration?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:a,sequenceMode:!1})})},E(dP,db),(b=dP.prototype).hasFixedKeySpace=function(){return!1},b.addSegments=function(e){return this.add(this.i,e)},b.addManifests=function(e){return this.add(this.g,e)},b.updateManifest=function(e,t){var n,r,i,a;return n=this,r=e,i=t,(a=(n=dv(n.h,n.g)).store()).get(r).onsuccess=function(){a.put(i,r)},n.promise()},b.bc=function(e){return null==e.expiration&&(e.expiration=1/0),Promise.resolve(e)},(b=dD.prototype).init=function(){var t=this,n=new tt,r=!1,i=new ti(function(){r=!0,n.reject(new eF(2,9,9017))});i.N(5);var a=e.indexedDB.open("shaka_offline_db",5);return a.onsuccess=function(){if(!r){var e=a.result;t.l=e;var o=e.objectStoreNames;t.g=o=o.contains("manifest")&&o.contains("segment")?new dI(e,"segment","manifest"):null,t.h=o=(o=e.objectStoreNames).contains("manifest-v2")&&o.contains("segment-v2")?new dR(e,"segment-v2","manifest-v2"):null,t.i=o=(o=e.objectStoreNames).contains("manifest-v3")&&o.contains("segment-v3")?new dR(e,"segment-v3","manifest-v3"):null,t.j=o=(o=e.objectStoreNames).contains("manifest-v5")&&o.contains("segment-v5")?new dP(e,"segment-v5","manifest-v5"):null,t.m=e=e.objectStoreNames.contains("session-ids")?new dx(e):null,i.stop(),n.resolve()}},a.onupgradeneeded=function(){for(var e=a.result,t=v(["segment-v5","manifest-v5","session-ids"]),n=t.next();!n.done;n=t.next())n=n.value,e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},a.onerror=function(e){r||(n.reject(new eF(2,9,9001,a.error)),i.stop(),e.preventDefault())},n},b.destroy=function(){var e=this;return B(function(t){switch(t.g){case 1:if(!e.g){t.A(2);break}return A(t,e.g.destroy(),2);case 2:if(!e.h){t.A(4);break}return A(t,e.h.destroy(),4);case 4:if(!e.i){t.A(6);break}return A(t,e.i.destroy(),6);case 6:if(!e.j){t.A(8);break}return A(t,e.j.destroy(),8);case 8:if(!e.m){t.A(10);break}return A(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),I(t)}})},b.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},b.getEmeSessionCell=function(){return this.m},b.erase=function(){var t=this;return B(function(n){switch(n.g){case 1:if(!t.g){n.A(2);break}return A(n,t.g.destroy(),2);case 2:if(!t.h){n.A(4);break}return A(n,t.h.destroy(),4);case 4:if(!t.i){n.A(6);break}return A(n,t.i.destroy(),6);case 6:if(!t.j){n.A(8);break}return A(n,t.j.destroy(),8);case 8:var r,i;return t.l&&t.l.close(),A(n,(r=new tt,(i=e.indexedDB.deleteDatabase("shaka_offline_db")).onblocked=function(){},i.onsuccess=function(){r.resolve()},i.onerror=function(e){r.reject(new eF(2,9,9001,i.error)),e.preventDefault()},r),10);case 10:return t.l=null,t.g=null,t.h=null,t.i=null,t.j=null,A(n,t.init(),0)}})},dC("idb",function(){return th("CrKey")||tl()||!e.indexedDB?null:new dD}),dO.prototype.za=function(){return this.i},dO.prototype.ja=function(){return this.h},dO.prototype.key=function(){return this.l},dO.prototype.toString=function(){return this.j},(b=dF.prototype).configure=function(){},b.start=function(e,t){var n,r,i,a,o,s=this;return B(function(l){switch(l.g){case 1:if(s.g=n=dN(e),null==n||"manifest"!=n.g)throw new eF(2,1,9004,e);return r=new dE,R(l),A(l,r.init(),4);case 4:return A(l,dk(r,n.za(),n.ja()),5);case 5:return i=l.h,A(l,i.getManifests([n.key()]),6);case 6:return a=l.h[0],o=dj(new dL(n.za(),n.ja()),a),t.makeTextStreamsForClosedCaptions(o),l.return(o);case 2:return O(l),A(l,r.destroy(),7);case 7:N(l,0)}})},b.stop=function(){return Promise.resolve()},b.update=function(){},b.onExpirationUpdated=function(e,t){var n,r,i,a,o,s,l=this;return B(function(u){switch(u.g){case 1:return n=l.g,r=new dE,M(u,2,3),A(u,r.init(),5);case 5:return A(u,dk(r,n.za(),n.ja()),6);case 6:return i=u.h,A(u,i.getManifests([n.key()]),7);case 7:if(o=(a=u.h[0]).sessionIds.includes(e),s=void 0==a.expiration||a.expiration>t,!o||!s){u.A(3);break}return A(u,i.updateManifestExpiration(n.key(),t),3);case 3:return O(u),A(u,r.destroy(),10);case 10:N(u,0);break;case 2:D(u),u.A(3)}})},ih["application/x-offline-manifest"]=function(){return new dF},G("shaka.offline.OfflineScheme",dB),dB.plugin=dz,re("offline",dz),(b=dK.prototype).destroy=function(){return this.l.destroy()},b.configure=function(e,t){return 2==arguments.length&&"string"==typeof e&&(e=sa(e,t)),sd(this.h,e)},b.getConfiguration=function(){var e=sc();return sd(e,this.h,sc()),e},b.jc=function(){return this.g},b.store=function(e,t,n){var r,i,a,o,s,l,u,c,d,f,p,h,g,m,y,b,w,_,S,x,E,T,k=this,C=this.getConfiguration(),R=new df(this.g);return this.j.push(R),(t=new nX((r=this,i=e,a=t||{},o=function(){var t;return B(function(r){return 1==r.g?A(r,ic(e,k.g,C.manifest.retryParameters,n||null),2):(t=r.h,r.return(t()))})},s=C,l=R,t=B(function(e){var t,n,x,E,T,k,C,R,L,j,U,F,z,$,H,V,q,W,K,G,X,Y,J,Q,Z,ee,et,en,er,ei,ea,eo,es,el,eu,ed,ef,ep,eh,eg,em,ev,ey,eb,ew,e_,eS,ex,eE,eT,ek,eC,eA,eI,eM,eR,eP,eD,eO;switch(e.g){case 1:return d1(),c=u=null,d=new dE,h=p=f=null,M(e,2,3),A(e,o(),5);case 5:return u=e.h,A(e,(t=r,n=i,x=u,E=s,B(function(e){if(1==e.g)return T=null,k={networkingEngine:t.g,modifyManifestRequest:function(){},modifySegmentRequest:function(){},filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){T=e},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){},updateDuration:function(){},newDrmInfo:function(){}},x.configure(E.manifest),d0(t),A(e,x.start(n,k),2);if(3!=e.g)return C=e.h,d0(t),A(e,Promise.all(rf(d3(C),function(e){return e.createSegmentIndex()})),3);if(d0(t),T)throw T;return e.return(C)})),6);case 6:if(g=e.h,d0(r),!(!g.presentationTimeline.U()&&!g.presentationTimeline.jb()))throw new eF(2,9,9005,i);return A(e,(R=r,L=g,j=function(e){h=h||e},U=s,B(function(e){switch(e.g){case 1:var t,n,r;return(F=new rY({kb:R.g,onError:j,cd:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(U.drm),A(e,(t=F,n=L.variants,r=U.offline.usePersistentLicense,t.da=!0,t.B=[],t.L=r,rQ(t,n)),2);case 2:return A(e,r0(F),3);case 3:return A(e,r1(F),4);case 4:return e.return(F)}})),7);case 7:if(c=e.h,d0(r),h)throw h;return A(e,(z=g,$=s,B(function(e){switch(e.g){case 1:var t,n,r;return H={width:1/0,height:1/0},t=z,n=$.restrictions,r=H,t.variants=t.variants.filter(function(e){return ne(e,n,r)}),A(e,nn(z,$.offline.usePersistentLicense),2);case 2:for(V=[],q=$.preferredAudioChannelCount,W=$.preferredDecodingAttributes,K=$.preferredVideoCodecs,t9(z,K,$.preferredAudioCodecs,q,W),X=(G=v(z.variants)).next();!X.done;X=G.next())Y=X.value,V.push(nl(Y));for(Q=(J=v(z.textStreams)).next();!Q.done;Q=J.next())Z=Q.value,V.push(nu(Z));for(et=(ee=v(z.imageStreams)).next();!et.done;et=ee.next())en=et.value,V.push(nc(en));return A(e,$.offline.trackSelectionCallback(V),3);case 3:for(er=e.h,ei=z.presentationTimeline.getDuration(),ea=0,es=(eo=v(er)).next();!es.done;es=eo.next())el=es.value.bandwidth*ei/8,ea+=el;return M(e,4),A(e,$.offline.downloadSizeCallback(ea),6);case 6:if(!e.h)throw new eF(2,9,9014);P(e,5);break;case 4:if((eu=D(e))instanceof eF)throw eu;throw new eF(2,9,9015);case 5:for(ed=new Set,ef=new Set,ep=new Set,es=(eh=v(er)).next();!es.done;es=eh.next())"variant"==(eg=es.value).type&&ed.add(eg.id),"text"==eg.type&&ef.add(eg.id),"image"==eg.type&&ep.add(eg.id);z.variants=z.variants.filter(function(e){return ed.has(e.id)}),z.textStreams=z.textStreams.filter(function(e){return ef.has(e.id)}),z.imageStreams=z.imageStreams.filter(function(e){return ep.has(e.id)}),function(e){e.variants.map(function(e){return e.video});var t=new Set(e.variants.map(function(e){return e.audio}));e=e.textStreams;for(var n=v(t),r=n.next();!r.done;r=n.next()){r=v(t);for(var i=r.next();!i.done;i=r.next());}for(n=(t=v(e)).next();!n.done;n=t.next())for(r=(n=v(e)).next();!r.done;r=n.next());}(z),I(e)}})),8);case 8:return A(e,d.init(),9);case 9:return d0(r),A(e,dT(d),10);case 10:return f=e.h,d0(r),y=(m=function(e,t,n,r,i,a){var o,s,l,u,c,d,f,p,h=(o=n,s=t,l=r,{offlineUri:null,originalManifestUri:o,duration:s.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:s=dV(s),appMetadata:l,isIncomplete:!1}),g=i.offline.progressCallback;u=a,c=function(e,t){h.size=t,g(h,e)},d=function(t,n){m&&i.offline.usePersistentLicense&&y==n&&r2(e,"cenc",t)},u.m=c,u.l=d;var m=dJ(t)&&!dQ(t),y=null;m&&(y=d4.get(e.g.keySystem));for(var b=new dq,w=v(t.textStreams),_=w.next();!_.done;_=w.next())b.g[_.value.id]=52;for(_=(w=v(t.imageStreams)).next();!_.done;_=w.next())f=b,p=_.value,f.g[p.id]=p.bandwidth||2048;for(w=(_=v(t.variants)).next();!w.done;w=_.next())!function(e,t){var n=t.audio,r=t.video;if(n&&!r&&(e.g[n.id]=n.bandwidth||t.bandwidth),!n&&r&&(e.g[r.id]=r.bandwidth||t.bandwidth),n&&r){var i=n.bandwidth||393216,a=r.bandwidth||t.bandwidth-i;0>=a&&(a=t.bandwidth),e.g[n.id]=i,e.g[r.id]=a}}(b,w.value);return a=(b=function(e,t,n,r){var i=new Map,a=d3(n),o=new Map;a=v(a);for(var s=a.next();!s.done;s=a.next()){var l=function(e,t,n,r,i,a){var o={id:r.id,originalId:r.originalId,primary:r.primary,type:r.type,mimeType:r.mimeType,codecs:r.codecs,frameRate:r.frameRate,pixelAspectRatio:r.pixelAspectRatio,hdr:r.hdr,kind:r.kind,language:r.language,label:r.label,width:r.width||null,height:r.height||null,encrypted:r.encrypted,keyIds:r.keyIds,segments:[],variantIds:[],roles:r.roles,forced:r.forced,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,closedCaptions:r.closedCaptions,tilesLayout:r.tilesLayout},s=i.offline.numberOfParallelDownloads,l=0;return function(e,t,n){if(null!=(t=e.segmentIndex.find(t)))for(var r=e.segmentIndex.get(t);r;)n(r),r=e.segmentIndex.get(++t)}(r,n.presentationTimeline.Pa(),function(n){var i=du(n),u=void 0;if(!a.has(i)){var c=n.endTime-n.startTime;c=dW(t,r.id)*c,c=dd(e.g,c),a.set(i,new dl(n,c,l,!1))}n.h&&(u=du(n.h),a.has(u)||(c=.5*dW(t,r.id),c=dd(e.g,c),a.set(u,new dl(n.h,c,l,!0)))),o.segments.push({pendingInitSegmentRefId:u,initSegmentKey:u?0:null,startTime:n.startTime,endTime:n.endTime,appendWindowStart:n.appendWindowStart,appendWindowEnd:n.appendWindowEnd,timestampOffset:n.timestampOffset,tilesLayout:n.tilesLayout,pendingSegmentRefId:i,dataKey:0}),l=(l+1)%s}),o}(e,t,n,s=s.value,r,i);o.set(s.id,l)}for(t=(e=v(n.variants)).next();!t.done;t=e.next())(t=t.value).audio&&o.get(t.audio.id).variantIds.push(t.id),t.video&&o.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(o.values()),pe:Array.from(i.values())}}(a,b,t,i)).streams,b=b.pe,_=e.g,w=i.offline.usePersistentLicense,_&&w&&(_.initData=[]),{ag:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.ic(),streams:a,sessionIds:w?r4(e):[],drmInfo:_,appMetadata:r,isIncomplete:!0,sequenceMode:t.sequenceMode},pe:b}}(c,g,i,a,s,l)).ag,b=m.pe,A(e,f.ja.addManifests([y]),11);case 11:if(w=e.h,d0(r),p=w[0],d0(r),h)throw h;return A(e,(em=r,ev=b,ey=p,eb=y,ew=l,e_=s,eS=f.ja,ex=g,eE=c,B(function(e){switch(e.g){case 1:if(eT={},ek=0,eC=function(e,t){var n,r,i,a,o,s,l;return B(function(u){if(1==u.g){var c,d,f;for(n={},i=(r=v(e)).next();!i.done;n={cb:n.cb},i=r.next())n.cb=i.value,c=n.cb,d=e_,a=ok(c.g.ya(),c.g.Ba,c.g.ka,d.streaming.retryParameters),o=n.cb.i,s=n.cb.h,l=function(e){return function(t){var n;return B(function(r){if(1==r.g)return A(r,eS.addSegments([{data:t}]),2);n=r.h,d0(em),eT[du(e.cb.g)]=n[0],ek+=t.byteLength,I(r)})}}(n),function(e,t,n,r,i,a){rl(e.i);var o=(e.j.get(t)||Promise.resolve()).then(function(){var t,o,s,l,u,c;return B(function(d){if(1==d.g)return A(d,function(e,t){var n,r,i,a;return B(function(o){return 1==o.g?(n=ri,r=e.o.request(n,t),i=function(){return r.abort()},e.h.push(i),A(o,r.promise,2)):(a=o.h,ec(e.h,i),o.return(a.data))})}(e,n),2);if(t=d.h,e.i.g)throw new eF(2,9,7001);if(i)for(s in(o=new rA(eL(t))).data)l=Number(s),u=o.data[l],c=o.g[l],e.l(u,c);e.g.close(r,t.byteLength);var f=e.g;return e.m(0==f.i?0:f.j/f.i,e.g.h),d.return(a(t))})});e.j.set(t,o)}(ew,n.cb.groupId,a,o,s,l);return A(u,(f=ew,B(function(e){return 1==e.g?A(e,Promise.all(f.j.values()),2):e.return(f.g.h)})),2)}return t?(d0(em),function(e,t,n,r){if(t.expiration=n.ic(),n=r4(n),t.sessionIds=r.offline.usePersistentLicense?n:[],dJ(e)&&r.offline.usePersistentLicense&&!n.length)throw new eF(2,9,9007)}(ex,eb,eE,e_),A(u,eS.updateManifest(ey,eb),0)):u.A(0)})},eA=!1,M(e,2),!dJ(ex)||!eA||dQ(ex)){e.A(4);break}return A(e,eC(ev.filter(function(e){return e.h}),!0),5);case 5:return d0(em),ev=ev.filter(function(e){return!e.h}),eI=eT,eM=ek,eT={},ek=0,A(e,dY(eS,ey,eb,eI,eM,function(){return d0(em)}),6);case 6:d0(em);case 4:if(eA){e.A(7);break}return A(e,eC(ev,!1),8);case 8:return d0(em),eR=eT,eP=ek,eT={},ek=0,A(e,dY(eS,ey,eb,eR,eP,function(){return d0(em)}),9);case 9:d0(em);case 7:P(e,0);break;case 2:return eD=D(e),eO=Object.values(eT),A(e,eS.removeSegments(eO,function(){}),10);case 10:throw eD}})),12);case 12:return d0(r),_=new dO("manifest",f.path.za,f.path.ja,p),e.return(dH(_,y));case 3:return O(e),A(e,d.destroy(),13);case 13:if(!u){e.A(14);break}return A(e,u.stop(),14);case 14:if(!c){e.A(16);break}return A(e,c.destroy(),16);case 16:N(e,0);break;case 2:if(S=D(e),null==p){e.A(18);break}return A(e,dX(p),18);case 18:throw h||S}})),function(){return dp(R)})).finally(function(){ec(k.j,R)}),x=this,T=(E=t).promise,x.i.push(T),E.finally(function(){ec(x.i,T)})},b.remove=function(e){var t,n,r,i,a,o,s;return d2(this,(t=this,n=e,B(function(e){switch(e.g){case 1:if(d1(),null==(r=dN(n))||"manifest"!=r.g)throw new eF(2,9,9004,n);return i=r,a=new dE,R(e),A(e,a.init(),4);case 4:return A(e,dk(a,i.za(),i.ja()),5);case 5:return o=e.h,A(e,o.getManifests([i.key()]),6);case 6:var l,u,c;return s=e.h[0],A(e,Promise.all([(l=t,u=s,c=a,B(function(e){var t,n,r,i,a,o,s;return A(e,(t=l.g,n=l.h.drm,r=c,i=u,B(function(e){return 1==e.g?i.drmInfo?(a=function(e){var t=Array.from(e.g.keys());if(!t.length)throw new eF(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}(r),A(e,d$(n,t,o=i.sessionIds.map(function(e){return{sessionId:e,keySystem:i.drmInfo.keySystem,licenseUri:i.drmInfo.licenseServerUri,serverCertificate:i.drmInfo.serverCertificate,audioCapabilities:dZ(i,!1),videoCapabilities:dZ(i,!0)}})),2)):e.return():3!=e.g?(s=e.h,A(e,a.remove(s),3)):A(e,a.add(o.filter(function(e){return!s.includes(e.sessionId)})),0)})),0)})),function(e,t,n){function r(){}var i=function(e){var t=new Set;e=v(e.streams);for(var n=e.next();!n.done;n=e.next()){n=v(n.value.segments);for(var r=n.next();!r.done;r=n.next())null!=(r=r.value).initSegmentKey&&t.add(r.initSegmentKey),t.add(r.dataKey)}return Array.from(t)}(n);return dH(t,n),Promise.all([e.removeSegments(i,r),e.removeManifests([t.key()],r)])}(o,i,s)]),2);case 2:return O(e),A(e,a.destroy(),8);case 8:N(e,0)}})))},b.pg=function(){var e,t,n,r,i,a,o,s,l,u,c;return d2(this,(e=this,B(function(d){switch(d.g){case 1:return d1(),t=e.g,n=e.h.drm,r=new dE,i=!1,R(d),A(d,r.init(),4);case 4:var f,p;a=[],f=r,p=function(e){return a.push(e)},f.g.forEach(function(e){p(e.getEmeSessionCell())}),s=(o=v(a)).next();case 5:if(s.done){d.A(2);break}return A(d,(l=s.value).getAll(),8);case 8:return u=d.h,A(d,d$(n,t,u),9);case 9:return c=d.h,A(d,l.remove(c),10);case 10:c.length!=u.length&&(i=!0),s=o.next(),d.A(5);break;case 2:return O(d),A(d,r.destroy(),11);case 11:N(d,3);break;case 3:return d.return(!i)}})))},b.list=function(){var e,t,n;return d2(this,B(function(r){switch(r.g){case 1:return d1(),e=[],t=new dE,R(r),A(r,t.init(),4);case 4:var i,a;return n=Promise.resolve(),i=t,a=function(t,r){n=n.then(function(){return B(function(n){if(1==n.g)return A(n,r.getAllManifests(),2);n.h.forEach(function(n,r){n=dH(new dO("manifest",t.za,t.ja,r),n),e.push(n)}),I(n)})})},i.g.forEach(function(e,t){e.getCells().forEach(function(e,n){a({za:t,ja:n},e)})}),A(r,n,2);case 2:return O(r),A(r,t.destroy(),6);case 6:N(r,3);break;case 3:return r.return(e)}}))},G("shaka.offline.Storage",dK),dK.deleteAll=function(){var e;return B(function(t){var n,r,i;return 1==t.g?(e=new dE,R(t),A(t,(n=e,B(function(e){return 1==e.g?((i=0<(r=Array.from(n.g.values())).length)||dA.forEach(function(e){(e=e())&&r.push(e)}),A(e,Promise.all(r.map(function(e){return e.erase()})),2)):i?e.A(0):A(e,Promise.all(r.map(function(e){return e.destroy()})),0)})),2)):5!=t.g?(O(t),A(t,e.destroy(),5)):N(t,0)})},dK.prototype.list=dK.prototype.list,dK.prototype.removeEmeSessions=dK.prototype.pg,dK.prototype.remove=dK.prototype.remove,dK.prototype.store=dK.prototype.store,dK.prototype.getNetworkingEngine=dK.prototype.jc,dK.prototype.getConfiguration=dK.prototype.getConfiguration,dK.prototype.configure=dK.prototype.configure,dK.prototype.destroy=dK.prototype.destroy,dK.support=dG;var d4=new Map().set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");function d5(){}function d6(e,t){for(e={priority:t||0,mf:e},t=0;t<d8.length;t++)if(d8[t].priority<e.priority)return void d8.splice(t,0,e);d8.push(e)}lu.offline=dG,G("shaka.polyfill",d5),d5.register=d6,d5.installAll=function(){for(var e=v(d8),t=e.next();!t.done;t=e.next()){t=t.value;try{t.mf()}catch(e){ee("Error installing polyfill!",e)}}};var d8=[];function d9(){this.g=new fe}function d7(){e.AbortController||(e.AbortController=d9,e.AbortSignal=fe)}function fe(){n4.call(this),this.h=!1,this.g=void 0,this.onabort=null}function ft(){}function fn(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=v(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())!function(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(e){null==e||void 0==e?this.removeAttribute(t):this.setAttribute(t,e)}})}(t.value)}function fr(){}function fi(){hl()}function fa(){}function fo(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",fs),document.addEventListener("webkitfullscreenerror",fs),document.addEventListener("mozfullscreenchange",fs),document.addEventListener("mozfullscreenerror",fs),document.addEventListener("MSFullscreenChange",fs),document.addEventListener("MSFullscreenError",fs)}}function fs(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}function fl(){}function fu(){var e=!0;(td()||th("PlayStation 5")||tf()||th("Web0S")||tu()||th("CrKey")||th("PC=EOS")||th("Hisense")||th("VIDAA"))&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=fc)}function fc(t){var n,r,i,a,o,s,l,u,c,d;return B(function(f){switch(f.g){case 1:if(n={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:t},!t)return f.return(n);if(r=t.video,i=t.audio,"media-source"==t.type){if(!ta())return f.return(n);if(r){if(th("CrKey"))if(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType){var p=r.contentType;r.width&&r.height&&(p+="; width="+r.width+"; height="+r.height),r.framerate&&(p+="; framerate="+r.framerate),"pq"===r.transferFunction&&(p+="; eotf=smpte2084"),p=cast.__platform__.canDisplayType(p)}else p=es(r.contentType);else p=es(r.contentType);if(!p)return f.return(n)}if(i&&!es(i.contentType))return f.return(n)}else if("file"!=t.type)return f.return(n);else if(r&&!to(r.contentType)||i&&!to(i.contentType))return f.return(n);if(!t.keySystemConfiguration)return n.supported=!0,f.return(Promise.resolve(n));return a=t.keySystemConfiguration,o=[],s=[],a.audio&&(l={robustness:a.audio.robustness||"",contentType:t.audio.contentType},o.push(l)),a.video&&(u={robustness:a.video.robustness||"",contentType:t.video.contentType},s.push(u)),c={initDataTypes:[a.initDataType],distinctiveIdentifier:a.distinctiveIdentifier,persistentState:a.persistentState,sessionTypes:a.sessionTypes},o.length&&(c.audioCapabilities=o),s.length&&(c.videoCapabilities=s),M(f,3),A(f,navigator.requestMediaKeySystemAccess(a.keySystem,[c]),5);case 5:d=f.h,P(f,4);break;case 3:D(f);case 4:d&&(n.supported=!0,n.keySystemAccess=d);case 2:return f.return(n)}})}d9.prototype.abort=function(e){var t=this.g;t.h||(t.h=!0,t.g=e,void 0===t.g&&(t.g=new DOMException("signal is aborted without reason","AbortError")),e=new n1("abort"),t.onabort&&t.onabort(e),t.dispatchEvent(e))},h.Object.defineProperties(d9.prototype,{signal:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),d5.AbortController=d9,d9.install=d7,E(fe,n4),h.Object.defineProperties(fe.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.h}},reason:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),d6(d7),d5.Aria=ft,ft.install=fn,d6(fn),d5.EncryptionScheme=fr,fr.install=fi,d6(fi,-2),d5.Fullscreen=fa,fa.install=fo,d6(fo),d5.MediaCapabilities=fl,fl.install=fu;function fd(){}function ff(){var t,n,r,i,a,o=tp();e.MediaSource&&(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType?(t=MediaSource.isTypeSupported,MediaSource.isTypeSupported=function(e){var n=e.split(/ *; */);return n.shift(),n.some(function(e){return e.startsWith("codecs=")})?cast.__platform__.canDisplayType(e):t(e)}):o?12>=o?(fp(),n=SourceBuffer.prototype.remove,SourceBuffer.prototype.remove=function(e,t){return n.call(this,e,t-.001)}):15>=o&&fp():ts()?(r=MediaSource.isTypeSupported,MediaSource.isTypeSupported=function(e){return"mp2t"!=e.split(";")[0].split("/")[1]&&r(e)}):(th("Tizen 2")||th("Tizen 3")||th("Tizen 4"))&&(i=MediaSource.isTypeSupported,MediaSource.isTypeSupported=function(e){return"opus"!=tq(e)[0]&&i(e)})),e.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&(a=MediaSource.isTypeSupported,th("Web0S")||(MediaSource.isTypeSupported=function(e){var t=e.split(/ *; */),n=t.findIndex(function(e){return e.startsWith("codecs=")});if(0>n)return a(e);var r=t[n].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),i=r.findIndex(function(e){return e.startsWith("vp09")});return 0<=i&&(r[i]="vp9",t[n]='codecs="'+r.join(",")+'"',e=t.join("; ")),a(e)}))}function fp(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,z.apply(0,arguments));return t.abort=function(){},t}}function fh(){}function fg(){screen.orientation||void 0!=e.orientation&&function(){function t(){switch(e.orientation){case -90:n.type="landscape-secondary",n.angle=270;break;case 0:n.type="portrait-primary",n.angle=0;break;case 90:n.type="landscape-primary",n.angle=90;break;case 180:n.type="portrait-secondary",n.angle=180}}var n=new fm;screen.orientation=n,t(),e.addEventListener("orientationchange",function(){t();var e=new n1("change");n.dispatchEvent(e)})}()}function fm(){n4.call(this),this.type="",this.angle=0}function fv(){}function fy(e,t){try{var n=new f_(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function fb(e){var t=this.mediaKeys;return t&&t!=e&&fx(t,null),delete this.mediaKeys,(this.mediaKeys=e)?fx(e,this):Promise.resolve()}function fw(e){if(ej(e=eL(e.initData)).getUint32(0,!0)+4!=e.byteLength)throw RangeError("Malformed FairPlay init data");e=tS(e=tw(e.subarray(4),!0));var t=new Event("encrypted");t.initDataType="skd",t.initData=eN(e),this.dispatchEvent(t)}function f_(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(t=(e=v(t)).next();!t.done;t=e.next()){var n=t.value;if("required"==n.persistentState)t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var r=!1,i=!1;if(n.audioCapabilities)for(var a=v(n.audioCapabilities),o=a.next();!o.done;o=a.next())(o=o.value).contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(t.audioCapabilities.push(o),i=!0));if(n.videoCapabilities)for(o=(n=v(n.videoCapabilities)).next();!o.done;o=n.next())(a=o.value).contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,a.contentType.split(";")[0])&&(t.videoCapabilities.push(a),i=!0));r||(i=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=i?t:null}if(t){this.g=t;return}}throw(e=Error("Unsupported keySystem")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}function fS(e){this.h=new WebKitMediaKeys(e),this.g=new ru}function fx(e,t){if(e.g.nb(),!t)return Promise.resolve();e.g.C(t,"webkitneedkey",fw);try{return a8(t,HTMLMediaElement.HAVE_METADATA,e.g,function(){t.webkitSetMediaKeys(e.h)}),Promise.resolve()}catch(e){return Promise.reject(e)}}function fE(e){n4.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new ru,this.sessionId="",this.expiration=NaN,this.closed=new tt,this.keyStatuses=new fk}function fT(e,t){var n=e.keyStatuses;n.size=+(void 0!=t),n.g=t,t=new n1("keystatuseschange"),e.dispatchEvent(t)}function fk(){this.size=0,this.g=void 0}function fC(){}function fA(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=fI,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=fM,e.MediaKeys=fR,e.MediaKeySystemAccess=fP,e.shakaMediaKeysPolyfill=!0)}function fI(){return Promise.reject(Error("The key system specified is not supported."))}function fM(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function fR(){throw TypeError("Illegal constructor.")}function fP(){throw this.keySystem="",TypeError("Illegal constructor.")}function fD(){}function fO(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)fW="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=fL,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=fj,e.MediaKeys=fF,e.MediaKeySystemAccess=fU,e.shakaMediaKeysPolyfill=!0}}function fN(e){var t=fW;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function fL(e,t){try{var n=new fU(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function fj(e){var t=this.mediaKeys;return t&&t!=e&&fB(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&fB(e,this),Promise.resolve()}function fU(e,t){this.g=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video"),t=v(t);for(var a=t.next();!a.done;a=t.next()){var o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(a=a.value).initDataTypes,sessionTypes:["temporary"],label:a.label},s=!1;if(a.audioCapabilities)for(var l=v(a.audioCapabilities),u=l.next();!u.done;u=l.next())(u=u.value).contentType&&(s=!0,i.canPlayType(u.contentType.split(";")[0],this.g)&&(o.audioCapabilities.push(u),r=!0));if(a.videoCapabilities)for(u=(l=v(a.videoCapabilities)).next();!u.done;u=l.next())(u=u.value).contentType&&(s=!0,i.canPlayType(u.contentType,this.g)&&(o.videoCapabilities.push(u),r=!0));if(s||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),"required"==a.persistentState&&(n?(o.persistentState="required",o.sessionTypes=["persistent-license"]):r=!1),r){this.h=o;return}}throw n="Unsupported keySystem",("org.w3.clearkey"==e||"com.widevine.alpha"==e)&&(n="None of the requested configurations were supported."),(e=Error(n)).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}function fF(e){this.l=e,this.h=null,this.g=new ru,this.i=[],this.j=new Map}function fB(e,t){e.h=t,e.g.nb();var n=fW;t&&(e.g.C(t,n+"needkey",function(t){var n=new CustomEvent("encrypted");n.initDataType="cenc",n.initData=eN(t.initData),e.h.dispatchEvent(n)}),e.g.C(t,n+"keymessage",function(t){var n=fz(e,t.sessionId);n&&(t=new n1("message",t=new Map().set("messageType",void 0==n.keyStatuses.Eb()?"licenserequest":"licenserenewal").set("message",t.message)),n.h&&(n.h.resolve(),n.h=null),n.dispatchEvent(t))}),e.g.C(t,n+"keyadded",function(t){(t=fz(e,t.sessionId))&&(fV(t,"usable"),t.g&&t.g.resolve(),t.g=null)}),e.g.C(t,n+"keyerror",function(t){var n=fz(e,t.sessionId);n&&n.handleError(t)}))}function fz(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function f$(e,t,n){n4.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new tt,this.keyStatuses=new fq}function fH(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if("persistent-license"==e.l)if(n)var r=eL(tS("LOAD_SESSION|"+n));else{var i=tS("PERSISTENT|");r=tR(i,t)}else r=eL(t)}catch(e){return Promise.reject(e)}e.h=new tt;var a=fN("generateKeyRequest");try{e.j[a](e.i,r)}catch(t){if("InvalidStateError"!=t.name)return e.h=null,Promise.reject(t);new ti(function(){try{e.j[a](e.i,r)}catch(t){e.h.reject(t),e.h=null}}).N(.01)}return e.h}function fV(e,t){var n=e.keyStatuses;n.size=+(void 0!=t),n.g=t,t=new n1("keystatuseschange"),e.dispatchEvent(t)}function fq(){this.size=0,this.g=void 0}fl.originalMcap=null,d6(fu,-1),d5.MediaSource=fd,fd.install=ff,d6(ff),d5.Orientation=fh,fh.install=fg,E(fm,n4),fm.prototype.lock=function(e){function t(e){return screen.lockOrientation?screen.lockOrientation(e):screen.mozLockOrientation?screen.mozLockOrientation(e):!!screen.msLockOrientation&&screen.msLockOrientation(e)}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():((e=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},fm.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},d6(fg),d5.PatchedMediaKeysApple=fv,fv.uninstall=function(){a&&(a=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",o),HTMLMediaElement.prototype.setMediaKeys=s,e.MediaKeys=l,e.MediaKeySystemAccess=u,navigator.requestMediaKeySystemAccess=c,o=c=s=u=l=null,e.shakaMediaKeysPolyfill=!1)},fv.install=function(t){e.HTMLVideoElement&&e.WebKitMediaKeys&&((void 0===t?0:t)&&(a=!0,o=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),s=HTMLMediaElement.prototype.setMediaKeys,l=e.MediaKeys,u=e.MediaKeySystemAccess,c=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=fb,e.MediaKeys=fS,e.MediaKeySystemAccess=f_,navigator.requestMediaKeySystemAccess=fy,e.shakaMediaKeysPolyfill=!0)},f_.prototype.createMediaKeys=function(){return Promise.resolve(new fS(this.keySystem))},f_.prototype.getConfiguration=function(){return this.g},fS.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw TypeError("Session type "+e+" is unsupported on this platform.");return new fE(this.h,e)},fS.prototype.setServerCertificate=function(){return Promise.resolve(!1)},E(fE,n4),(b=fE.prototype).generateRequest=function(e,t){var n=this;this.h=new tt;try{var r=this.l.createSession("video/mp4",eL(t));this.i=r,this.sessionId=r.sessionId||"",this.j.C(this.i,"webkitkeymessage",function(e){n.h&&(n.h.resolve(),n.h=null),e=new Map().set("messageType",void 0==n.keyStatuses.Eb()?"license-request":"license-renewal").set("message",eN(e.message)),e=new n1("message",e),n.dispatchEvent(e)}),this.j.C(r,"webkitkeyadded",function(){n.g&&(fT(n,"usable"),n.g.resolve(),n.g=null)}),this.j.C(r,"webkitkeyerror",function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=n.i.error,null!=n.h)n.h.reject(e),n.h=null;else if(null!=n.g)n.g.reject(e),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:fT(n,"output-not-allowed");break;default:fT(n,"internal-error")}}),fT(this,"status-pending")}catch(e){this.h.reject(e)}return this.h},b.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},b.update=function(e){this.g=new tt;try{this.i.update(eL(e))}catch(e){this.g.reject(e)}return this.g},b.close=function(){try{this.i.close(),this.closed.resolve(),this.j.nb()}catch(e){this.closed.reject(e)}return this.closed},b.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(b=fk.prototype).Eb=function(){return this.g},b.forEach=function(e){this.g&&e(this.g,il.value())},b.get=function(e){if(this.has(e))return this.g},b.has=function(e){var t=il.value();return!!(this.g&&eD(e,t))},b.entries=function(){},b.keys=function(){},b.values=function(){},d5.PatchedMediaKeysNop=fC,fC.install=fA,fR.prototype.createSession=function(){},fR.prototype.setServerCertificate=function(){},fP.prototype.getConfiguration=function(){},fP.prototype.createMediaKeys=function(){},d6(fA,-10),d5.PatchedMediaKeysWebkit=fD,fD.install=fO,fU.prototype.createMediaKeys=function(){return Promise.resolve(new fF(this.g))},fU.prototype.getConfiguration=function(){return this.h},fF.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new f$(t,this.l,e),this.i.push(e),e},fF.prototype.setServerCertificate=function(){return Promise.resolve(!1)},E(f$,n4),(b=f$.prototype).handleError=function(e){var t=Error("EME v0.1b key error"),n=e.errorCode;n.systemCode=e.systemCode,t.errorCode=n,!e.sessionId&&this.h?(45==e.systemCode&&(t.message="Unsupported session type."),this.h.reject(t),this.h=null):e.sessionId&&this.g?(this.g.reject(t),this.g=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?fV(this,"output-restricted"):1==t?fV(this,"expired"):fV(this,"internal-error"))},b.generateRequest=function(e,t){return fH(this,t,null)},b.load=function(e){return"persistent-license"==this.l?fH(this,null,e):Promise.reject(Error("Not a persistent session."))},b.update=function(e){var t=new tt;return!function e(t,n,r){if(t.g)t.g.then(function(){return e(t,n,r)}).catch(function(){return e(t,n,r)});else{if(t.g=n,"webkit-org.w3.clearkey"==t.i){var i=tb(r),a=JSON.parse(i);"oct"!=a.keys[0].kty&&(t.g.reject(Error("Response is not a valid JSON Web Key Set.")),t.g=null),i=tA(a.keys[0].k),a=tA(a.keys[0].kid)}else i=eL(r),a=null;var o=fN("addKey");try{t.j[o](t.i,i,a,t.sessionId)}catch(e){t.g.reject(e),t.g=null}}}(this,t,e),t},b.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=fN("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch(e){}}return this.closed.resolve(),this.closed},b.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()},(b=fq.prototype).Eb=function(){return this.g},b.forEach=function(e){this.g&&e(this.g,il.value())},b.get=function(e){if(this.has(e))return this.g},b.has=function(e){var t=il.value();return!!(this.g&&eD(e,t))},b.entries=function(){},b.keys=function(){},b.values=function(){};var fW="";function fK(){}function fG(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=fY,Object.defineProperty(t,"disablePictureInPicture",{get:fQ,set:fZ,enumerable:!0,configurable:!0}),document.exitPictureInPicture=fJ,document.addEventListener("webkitpresentationmodechanged",fX,!0))}}function fX(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function fY(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function fJ(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function fQ(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function fZ(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function f0(){}function f1(){e.crypto&&("randomUUID"in e.crypto||(e.crypto.randomUUID=f2))}function f2(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}function f3(){}function f4(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=f5)}function f5(){return new Promise(function(e,t){navigator.webkitTemporaryStorage.queryUsageAndQuota(function(t,n){e({usage:t,quota:n})},t)})}function f6(){}function f8(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:f9})}function f9(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}function f7(){}function pe(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch(function(){}),e}}}function pt(){}function pn(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in t||tc())&&(t.getVideoPlaybackQuality=pr)}}function pr(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function pi(){}function pa(){if(!e.VTTCue&&e.TextTrackCue){var t=null,n=TextTrackCue.length;if(3==n)t=po;else if(6==n)t=ps;else{try{var r=!!po(1,2,"")}catch(e){r=!1}r&&(t=po)}t&&(e.VTTCue=function(e,n,r){return t(e,n,r)})}}function po(t,n,r){return new e.TextTrackCue(t,n,r)}function ps(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)}function pl(){}d6(fO),d5.PiPWebkit=fK,fK.install=fG,d6(fG),d5.RandomUUID=f0,f0.install=f1,d6(f1),d5.StorageEstimate=f3,f3.install=f4,d6(f4),d5.Symbol=f6,f6.install=f8,d6(f8),d5.VideoPlayPromise=f7,f7.install=pe,d6(pe),d5.VideoPlaybackQuality=pt,pt.install=pn,d6(pn),d5.VTTCue=pi,pi.install=pa,d6(pa),pl.prototype.parseInit=function(){},pl.prototype.setSequenceMode=function(){},pl.prototype.parseMedia=function(e,t){var n=null,r=[];e=v(e=tb(e).split(/\r?\n/));for(var i=e.next();!i.done;i=e.next())if((i=i.value)&&!/^\s+$/.test(i)&&(i=pu.exec(i))){var a=pc.exec(i[1]);i=new ep(a=60*parseInt(a[1],10)+parseFloat(a[2].replace(",",".")),t.segmentEnd?t.segmentEnd:a+2,i[2]),n&&(n.endTime=a,r.push(n)),n=i}return n&&r.push(n),r},G("shaka.text.LrcTextParser",pl),pl.prototype.parseMedia=pl.prototype.parseMedia,pl.prototype.setSequenceMode=pl.prototype.setSequenceMode,pl.prototype.parseInit=pl.prototype.parseInit;var pu=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,pc=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;function pd(){}function pf(e,t){t=v(t.split(" "));for(var n=t.next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes("underline")||e.textDecoration.push("underline");break;case"noUnderline":e.textDecoration.includes("underline")&&ec(e.textDecoration,"underline");break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&ec(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&ec(e.textDecoration,"overline")}}function pp(e,t,n,r,i){return i=void 0===i||i,(e=pg(e,n,r))?e:i?ph(t,n,r):null}function ph(e,t,n){if(!e)return null;var r=rN(e,pN,n);return r||pm(e,t,n)}function pg(e,t,n){var r=rN(e,pN,n);return r||pm(e,t,n)}function pm(e,t,n){e=pv(e,"style",t,"");for(var r=null,i=0;i<e.length;i++){var a=rO(e[i],"urn:ebu:tt:style",n);a||(a=rN(e[i],pN,n)),a||(a=pg(e[i],t,n)),a&&(r=a)}return r}function pv(e,t,n,r,i){var a=[];if(!e||1>n.length)return a;var o=e;for(e=null;o&&!(e=i?rO(o,i,t):o.getAttribute(t))&&(o=o.parentNode)instanceof Element;);if(t=e){for(i=(t=v(t.split(" "))).next();!i.done;i=t.next())for(i=i.value,o=(e=v(n)).next();!o.done;o=e.next())if(r+(o=o.value).getAttribute("xml:id")==i){a.push(o);break}}return a}function py(e,t){var n=pb(e.getAttribute("begin"),t),r=pb(e.getAttribute("end"),t);return e=pb(e.getAttribute("dur"),t),null==r&&null!=e&&(r=n+e),{start:n,end:r}}function pb(e,t){var n=null;if(pk.test(e)){n=Number((e=pk.exec(e))[1]);var r=Number(e[2]),i=Number(e[3]),a=Number(e[4]);a+=(Number(e[5])||0)/t.h,i+=a/t.frameRate,n=i+60*r+3600*n}else if(pC.test(e))n=pw(pC,e);else if(pA.test(e))n=pw(pA,e);else if(pI.test(e))n=Number((e=pI.exec(e))[1])/t.frameRate;else if(pM.test(e))n=Number((e=pM.exec(e))[1])/t.g;else if(pR.test(e))n=pw(pR,e);else if(e)throw new eF(2,2,2001,"Could not parse cue time range in TTML");return n}function pw(e,t){return null==(e=e.exec(t))||""==e[0]?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)}function p_(e,t,n,r){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(r),0==this.g&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}tY["application/x-subtitle-lrc"]=function(){return new pl},pd.prototype.parseInit=function(){},pd.prototype.setSequenceMode=function(){},pd.prototype.parseMedia=function(e,t){var n=tb(e);if(e=[],""==n)return e;var r=rK(n,"tt");if(!r)throw new eF(2,2,2005,"Failed to parse TTML.");if(!(n=r.getElementsByTagName("body")[0]))return[];var i=rN(r,pO,"frameRate"),a=rN(r,pO,"subFrameRate"),o=rN(r,pO,"frameRateMultiplier"),s=rN(r,pO,"tickRate"),l=rN(r,pO,"cellResolution"),u=r.getAttribute("xml:space")||"default",c=rN(r,pN,"extent");if("default"!=u&&"preserve"!=u)throw new eF(2,2,2005,"Invalid xml:space value: "+u);u="default"==u,i=new p_(i,a,o,s),l=l&&(l=/^(\d+) (\d+)$/.exec(l))?{columns:parseInt(l[1],10),rows:parseInt(l[2],10)}:null,a=(a=r.getElementsByTagName("metadata")[0])?Array.from(a.childNodes).filter(function(e){return e instanceof Element}):[],o=Array.from(r.getElementsByTagName("style")),r=Array.from(r.getElementsByTagName("region")),s=[];for(var d=v(r),f=d.next();!f.done;f=d.next()){var p=f.value;f=new eI;var h=p.getAttribute("xml:id");if(h){f.id=h;var g,m,y=null;c&&(y=pS.exec(c)||pT.exec(c)),h=y?Number(y[1]):null,y=y?Number(y[2]):null,(g=ph(p,o,"extent"))&&null!=(g=(m=pS.exec(g))||pT.exec(g))&&(f.width=Number(g[1]),f.height=Number(g[2]),m||(null!=h&&(f.width=100*f.width/h),null!=y&&(f.height=100*f.height/y)),f.widthUnits=m||null!=h?eM:0,f.heightUnits=m||null!=y?eM:0),(p=ph(p,o,"origin"))&&null!=(g=(m=pS.exec(p))||pT.exec(p))&&(f.viewportAnchorX=Number(g[1]),f.viewportAnchorY=Number(g[2]),m||(null!=y&&(f.viewportAnchorY=100*f.viewportAnchorY/y),null!=h&&(f.viewportAnchorX=100*f.viewportAnchorX/h)),f.viewportAnchorUnits=m||null!=h?eM:0)}else f=null;f&&s.push(f)}if(rP(n,"p").length)throw new eF(2,2,2001,"<p> can only be inside <div> in TTML");for(d=(c=v(rP(n,"div"))).next();!d.done;d=c.next())if(rP(d.value,"span").length)throw new eF(2,2,2001,"<span> can only be inside <p> in TTML");return(t=function e(t,n,r,i,a,o,s,l,u,c,d){var f,p,h,g,m=t.parentNode;if(t.nodeType==Node.COMMENT_NODE)return null;if(t.nodeType==Node.TEXT_NODE){if(!d)return null;var y=document.createElement("span");y.textContent=t.textContent}else y=t;for(var b=null,w=v(pL),_=w.next();!_.done&&!(b=pv(y,"backgroundImage",i,"#",_.value)[0]);_=w.next());if(w=d,("p"==t.nodeName||b)&&(d=!0),l="default"==(y.getAttribute("xml:space")||(l?"default":"preserve")),_=Array.from(y.childNodes).every(function(e){return e.nodeType==Node.TEXT_NODE}),t=[],!_)for(var S=v(y.childNodes),x=S.next();!x.done;x=S.next())(x=e(x.value,n,r,i,a,o,s,l,u,y,d))&&t.push(x);i=null!=c,S=/\S/.test(y.textContent);var E=y.hasAttribute("begin")||y.hasAttribute("end")||y.hasAttribute("dur");if(!(E||S||"br"==y.tagName||0!=t.length||i&&!l))return null;for(S=(x=py(y,r)).start,x=x.end;m&&m.nodeType==Node.ELEMENT_NODE&&"tt"!=m.tagName;){S=(f=m,p=r,h=S,g=x,f=py(f,p),null==h?h=f.start:null!=f.start&&(h+=f.start),null==g?g=f.end:null!=f.start&&(g+=f.start),x={start:h,end:g}).start,x=x.end,m=m.parentNode}if(null==S&&(S=0),S+=n.periodStart,x=null==x?1/0:x+n.periodStart,S=Math.max(S,n.segmentStart),x=Math.min(x,n.segmentEnd),!E&&0<t.length)for(S=1/0,x=0,r=(n=v(t)).next();!r.done;r=n.next())S=Math.min(S,(r=r.value).startTime),x=Math.max(x,r.endTime);if("br"==y.tagName)return(a=new ep(S,x,"")).lineBreak=!0,a;if(n="",_&&(n=y.textContent,l&&(n=(n=n.trim()).replace(/\s+/g," "))),(n=new ep(S,x,n)).nestedCues=t,d||(n.isContainer=!0),u&&(n.cellResolution=u),u=pv(y,"region",o,"")[0],y.hasAttribute("region")&&u&&u.getAttribute("xml:id")){var T=u.getAttribute("xml:id");n.region=s.filter(function(e){return e.id==T})[0]}return s=u,c&&i&&!y.getAttribute("region")&&!y.getAttribute("style")&&(s=pv(c,"region",o,"")[0]),function(e,t,n,r,i,a,o){if("rtl"==pp(t,n,i,"direction",a=a||o)&&(e.direction="rtl"),"tb"==(o=pp(t,n,i,"writingMode",a))||"tblr"==o?e.writingMode="vertical-lr":"tbrl"==o?e.writingMode="vertical-rl":"rltb"==o||"rl"==o?e.direction="rtl":o&&(e.direction=eb),(o=pp(t,n,i,"textAlign",!0))?(e.positionAlign=pD[o],e.lineAlign=pP[o],e.textAlign=em[o.toUpperCase()]):e.textAlign=eg,(o=pp(t,n,i,"displayAlign",!0))&&(e.displayAlign=ey[o.toUpperCase()]),(o=pp(t,n,i,"color",a))&&(e.color=o),(o=pp(t,n,i,"backgroundColor",a))&&(e.backgroundColor=o),(o=pp(t,n,i,"border",a))&&(e.border=o),o=pp(t,n,i,"fontFamily",a))switch(o){case"monospaceSerif":e.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":e.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":e.fontFamily="sans-serif";break;case"monospaceSansSerif":e.fontFamily="Consolas,monospace";break;case"proportionalSerif":e.fontFamily="serif";break;default:e.fontFamily=o}if((o=pp(t,n,i,"fontWeight",a))&&"bold"==o&&(e.fontWeight=700),e.wrapLine=!(o=pp(t,n,i,"wrapOption",a))||"noWrap"!=o,(o=pp(t,n,i,"lineHeight",a))&&o.match(pE)&&(e.lineHeight=o),(o=pp(t,n,i,"fontSize",a))&&(o.match(pE)||o.match(px))&&(e.fontSize=o),(o=pp(t,n,i,"fontStyle",a))&&(e.fontStyle=eA[o.toUpperCase()]),r){o=r.getAttribute("imageType")||r.getAttribute("imagetype");var s=r.getAttribute("encoding");r=r.textContent.trim(),"PNG"==o&&"Base64"==s&&r&&(e.backgroundImage="data:image/png;base64,"+r)}(r=pp(t,n,i,"textOutline",a))&&((r=r.split(" "))[0].match(pE)?e.textStrokeColor=e.color:(e.textStrokeColor=r[0],r.shift()),r[0]&&r[0].match(pE)?e.textStrokeWidth=r[0]:e.textStrokeColor=""),(r=pp(t,n,i,"letterSpacing",a))&&r.match(pE)&&(e.letterSpacing=r),(r=pp(t,n,i,"linePadding",a))&&r.match(pE)&&(e.linePadding=r),(a=pp(t,n,i,"opacity",a))&&(e.opacity=parseFloat(a)),(n=ph(n,i,"textDecoration"))&&pf(e,n),(t=pg(t,i,"textDecoration"))&&pf(e,t)}(n,y,s,b,a,w,0==t.length),n}(n,t,i,a,o,r,s,u,l,null,!1))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e},G("shaka.text.TtmlTextParser",pd),pd.prototype.parseMedia=pd.prototype.parseMedia,pd.prototype.setSequenceMode=pd.prototype.setSequenceMode,pd.prototype.parseInit=pd.prototype.parseInit;var pS=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,px=/^(\d{1,2}(?:\.\d+)?|100)%$/,pE=/^(\d+px|\d+em|\d*\.?\d+c)$/,pT=/^(\d+)px (\d+)px$/,pk=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,pC=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,pA=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,pI=/^(\d*(?:\.\d*)?)f$/,pM=/^(\d*(?:\.\d*)?)t$/,pR=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),pP={left:eS,center:"center",right:"end",start:eS,end:"end"},pD={left:"line-left",center:"center",right:"line-right"},pO=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],pN=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],pL=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];function pj(){this.g=new pd}function pU(){this.g=!1}function pF(e){for(var t=v(Object.entries(eE)),n=t.next();!n.done;n=t.next()){var r=v(n.value);n=r.next().value,r=r.next().value;var i=new ep(0,0,"");i.color=r,e.set("."+n,i)}for(n=(t=v(Object.entries(eT))).next();!n.done;n=t.next())n=(r=v(n.value)).next().value,r=r.next().value,(i=new ep(0,0,"")).backgroundColor=r,e.set("."+n,i)}function pB(e,t,n){0===n.size&&pF(n);e:{var r=e;e=[];for(var i=-1,a="",o=0;o<r.length;o++)if("/"===r[o]&&0<o&&"<"===r[o-1]){var s=r.indexOf(">",o);if(s<=o){e=r;break e}if((s=r.substring(o+1,s))&&"c"===s){var l=e.pop();l?l===s?(a+="/"+s+">",o+=s.length+1):l.startsWith("c.")?(o+=s.length+1,a+="/"+l+">"):a+=r[o]:a+=r[o]}else a+=r[o]}else"<"===r[o]?"c"!=r[i=o+1]&&(i=-1):">"===r[o]&&0<i&&(e.push(r.substr(i,o-i)),i=-1),a+=r[o];e=a}for(i=0,r=[],a=-1;i<e.length;i++)"<"===e[i]?a=i+1:">"===e[i]&&0<a&&((a=e.substr(a,i-a)).match(pq)&&r.push(a),a=-1);for(i=(r=v(r)).next();!i.done;i=r.next())i=i.value,e=e.replace("<"+i+">",'<div time="'+i+'">')+"</div>";e:{for(s=0,i=e,a=[],o=-1,r="",e=!1;s<i.length;s++)if("/"===i[s]){if(-1===(l=i.indexOf(">",s))){e=i;break e}if((l=i.substring(s+1,l))&&"v"==l){e=!0;var u=null;if(a.length&&(u=a[a.length-1]),u){if(u===l)r+="/"+l+">";else{if(!u.startsWith("v")){r+=i[s];continue}r+="/"+u+">"}s+=l.length+1}else r+=i[s]}else r+=i[s]}else"<"===i[s]?"v"!=i[o=s+1]&&(o=-1):">"===i[s]&&0<o&&(a.push(i.substr(o,s-o)),o=-1),r+=i[s];for(a=(i=v(a)).next();!a.done;a=i.next())o=(a=a.value).replace(" ",".voice-"),r=(r=r.replace("<"+a+">","<"+o+">")).replace("</"+a+">","</"+o+">"),e||(r+="</"+o+">");e=r}if(i=rK("<span>"+e+"</span>","span")){if(r=[],1==(i=i.childNodes).length&&((a=i[0]).nodeType==Node.TEXT_NODE||a.nodeType==Node.CDATA_SECTION_NODE)){t.payload=pV(e);return}for(i=(e=v(i)).next();!i.done;i=e.next())!function e(t,n,r,i){var a=n.clone();if(t.nodeType===Node.ELEMENT_NODE&&t.nodeName)for(var o=v(t.nodeName.split(/(?=[ .])+/g)),s=o.next();!s.done;s=o.next()){var l=s=s.value;if(l.startsWith(".voice-")){var u=l.split("-").pop();l='v[voice="'+u+'"]',i.has(l)||(l="v[voice="+u+"]")}switch(i.has(l)&&(l=i.get(l))&&(a.backgroundColor=pz(l.backgroundColor,a.backgroundColor),a.color=pz(l.color,a.color),a.fontFamily=pz(l.fontFamily,a.fontFamily),a.fontSize=pz(l.fontSize,a.fontSize),a.fontWeight=l.fontWeight,a.fontStyle=l.fontStyle,a.opacity=l.opacity,a.wrapLine=l.wrapLine),s){case"br":(s=n.clone()).lineBreak=!0,r.push(s);break;case"b":a.fontWeight=700;break;case"i":a.fontStyle="italic";break;case"u":a.textDecoration.push("underline");break;case"div":(s=t.getAttribute("time"))&&(s=pH(new cd(s)))&&(a.startTime=s)}}if(rj(t))for(o=!0,t=(i=v(t.textContent.split("\n"))).next();!t.done;t=i.next())t=t.value,o||((o=n.clone()).lineBreak=!0,r.push(o)),0<t.length&&((o=a.clone()).payload=pV(t),r.push(o)),o=!1;else for(t=(n=v(t.childNodes)).next();!t.done;t=n.next())e(t.value,a,r,i)}(i.value,t,r,n);t.nestedCues=r}else t.payload=pV(e)}function pz(e,t){return e&&0<e.length?e:t}function p$(e,t,n){var r,i,a;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?"middle"==(t=r[1])?e.textAlign=eg:e.textAlign=em[t.toUpperCase()]:(r=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(e.positionAlign="line-left"==(t=r[2])||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center")):(r=/^region:(.*)$/.exec(t))?(i=n,a=r[1],(t=(i=i.filter(function(e){return e.id==a})).length?i[0]:null)&&(e.region=t)):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=ex[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=e_,e.line=Number(n[1]),n[2]&&(e.lineAlign=ex[n[2].toUpperCase()]))}function pH(e){if(null==(e=cp(e,pq)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function pV(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":"\xa0","&lrm;":"‎","&rlm;":"‏"},n=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,function(e){return t[e]||"'"}):e||""}tY["application/ttml+xml"]=function(){return new pd},pj.prototype.parseInit=function(e){var t=!1;if(new ry().box("moov",rb).box("trak",rb).box("mdia",rb).box("minf",rb).box("stbl",rb).P("stsd",rw).box("stpp",function(e){t=!0,e.parser.stop()}).parse(e),!t)throw new eF(2,2,2007)},pj.prototype.setSequenceMode=function(){},pj.prototype.parseMedia=function(e,t){var n=this,r=!1,i=[];if(new ry().box("mdat",rS(function(e){r=!0,i=i.concat(n.g.parseMedia(e,t))})).parse(e,!1),!r)throw new eF(2,2,2007);return i},G("shaka.text.Mp4TtmlParser",pj),pj.prototype.parseMedia=pj.prototype.parseMedia,pj.prototype.setSequenceMode=pj.prototype.setSequenceMode,pj.prototype.parseInit=pj.prototype.parseInit,tY['application/mp4; codecs="stpp"']=function(){return new pj},tY['application/mp4; codecs="stpp.ttml"']=function(){return new pj},tY['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new pj},tY['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new pj},pU.prototype.parseInit=function(){},pU.prototype.setSequenceMode=function(e){this.g=e},pU.prototype.parseMedia=function(e,t){var n=(e=(e=tb(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new eF(2,2,2e3);if(e=t.vttOffset,n[0].includes("X-TIMESTAMP-MAP")&&this.g){var r=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),i=n[0].match(/MPEGTS:(\d+)/m);if(r&&i){if(null==(e=pH(new cd(r[1]))))throw new eF(2,2,2e3);for(i=Number(i[1]),r=t.segmentStart-t.periodStart;95443.7176888889<=r;)r-=95443.7176888889,i+=0x200000000;e=t.periodStart+i/9e4-e}}for(t=[],r=(i=v(n[0].split("\n"))).next();!r.done;r=i.next())if(r=r.value,/^Region:/.test(r)){r=new cd(r);var a=new eI;ch(r),cf(r);for(var o=ch(r);o;){var s=a,l=o;(o=/^id=(.*)$/.exec(l))?s.id=o[1]:(o=/^width=(\d{1,2}|100)%$/.exec(l))?s.width=Number(o[1]):(o=/^lines=(\d+)$/.exec(l))?(s.height=Number(o[1]),s.heightUnits=2):(o=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(l))?(s.regionAnchorX=Number(o[1]),s.regionAnchorY=Number(o[2])):(o=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(l))?(s.viewportAnchorX=Number(o[1]),s.viewportAnchorY=Number(o[2])):/^scroll=up$/.exec(l)&&(s.scroll="up"),cf(r),o=ch(r)}t.push(a)}for(pF(i=new Map),r=[],a=(n=v(n.slice(1))).next();!a.done;a=n.next()){if((1!=(a=a.value.split("\n")).length||a[0])&&!/^NOTE($|[ \t])/.test(a[0])&&"STYLE"==a[0]){for(l=1,s=[],o=-1;l<a.length;l++)a[l].includes("::cue")&&(s.push([]),o=s.length-1),-1!=o&&(s[o].push(a[l]),a[l].includes("}")&&(o=-1));for(o=(s=v(s)).next();!o.done;o=s.next()){var u=o.value;o="global",(l=u[0].match(/\((.*)\)/))&&(o=l.pop()),l=u.slice(1,-1),u[0].includes("}")&&(u=/\{(.*?)\}/.exec(u[0]))&&(l=u[1].split(";")),(u=i.get(o))||(u=new ep(0,0,""));for(var c=!1,d=0;d<l.length;d++){var f=/^\s*([^:]+):\s*(.*)/.exec(l[d]);if(f){var p=f[2].trim().replace(";","");switch(f[1].trim()){case"background-color":case"background":c=!0,u.backgroundColor=p;break;case"color":c=!0,u.color=p;break;case"font-family":c=!0,u.fontFamily=p;break;case"font-size":c=!0,u.fontSize=p;break;case"font-weight":(700<=parseInt(p,10)||"bold"==p)&&(c=!0,u.fontWeight=700);break;case"font-style":switch(p){case"normal":c=!0,u.fontStyle=eC;break;case"italic":c=!0,u.fontStyle="italic";break;case"oblique":c=!0,u.fontStyle="oblique"}break;case"opacity":c=!0,u.opacity=parseFloat(p);break;case"text-shadow":c=!0,u.textShadow=p;break;case"white-space":c=!0,u.wrapLine="noWrap"!=p}}}c&&i.set(o,u)}}if(c=e,1==a.length&&!a[0]||/^NOTE($|[ \t])/.test(a[0])||"STYLE"==a[0]||"REGION"==a[0])a=null;else{if(s=null,a[0].includes("--\x3e")||(s=a[0],a.splice(0,1)),l=pH(o=new cd(a[0])),d=cp(o,/[ \t]+--\x3e[ \t]+/g),u=pH(o),null==l||null==d||null==u)throw new eF(2,2,2001,"Could not parse cue time range in WebVTT");for(l+=c,u+=c,c=a.slice(1).join("\n").trim(),i.has("global")?((a=i.get("global").clone()).startTime=l,a.endTime=u,a.payload=""):a=new ep(l,u,""),pB(c,a,i),cf(o),l=ch(o);l;)p$(a,l,t),cf(o),l=ch(o);null!=s&&(a.id=s)}a&&r.push(a)}return r},G("shaka.text.VttTextParser",pU),pU.prototype.parseMedia=pU.prototype.parseMedia,pU.prototype.setSequenceMode=pU.prototype.setSequenceMode,pU.prototype.parseInit=pU.prototype.parseInit;var pq=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function pW(){this.g=null}function pK(){}function pG(e){if(null==(e=cp(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function pX(){this.g=new pU}function pY(e){var t="WEBVTT\n\n";if(""==e)return t;e=v((e=(e=e.replace(/\r+/g,"")).trim()).split("\n\n"));for(var n=e.next();!n.done;n=e.next())(n=n.value.split(/\n/))[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join("\n")+"\n\n";return t}function pJ(){}function pQ(e){return 0<=(e=parseInt(e.replace("&H",""),16))?"rgba("+(255&e)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function pZ(e){return 3600*((e=p3.exec(e))[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}tY["text/vtt"]=function(){return new pU},tY['text/vtt; codecs="vtt"']=function(){return new pU},tY['text/vtt; codecs="wvtt"']=function(){return new pU},pW.prototype.parseInit=function(e){var t=this,n=!1;if(new ry().box("moov",rb).box("trak",rb).box("mdia",rb).P("mdhd",function(e){t.g=(e=as(e.reader,e.version)).timescale}).box("minf",rb).box("stbl",rb).P("stsd",rw).box("wvtt",function(){n=!0}).parse(e),!this.g||!n)throw new eF(2,2,2008)},pW.prototype.setSequenceMode=function(){},pW.prototype.parseMedia=function(e,t){if(!this.g)throw new eF(2,2,2008);var n,r=0,i=[],a=[],o=!1,s=!1,l=!1,u=null;if(new ry().box("moof",rb).box("traf",rb).P("tfdt",function(e){o=!0,r=ao(e.reader,e.version).we}).P("tfhd",function(e){u=aa(e.reader,e.flags).Ce}).P("trun",function(e){s=!0,i=al(e.reader,e.version,e.flags).Re}).box("mdat",rS(function(e){l=!0,n=e})).parse(e,!1),!l&&!o&&!s)throw new eF(2,2,2008);e=r;for(var c=new rg(n,0),d=v(i),f=d.next();!f.done;f=d.next()){var p=(f=f.value).ee||u,h=f.ed?r+f.ed:e;e=h+(p||0);var g=0;do{var m=c.K();g+=m;var y=c.K(),b=null;"vttc"==rE(y)?8<m&&(b=c.Za(m-8)):c.skip(m-8),p&&b&&(m=function(e,t,n){var r,i,a;return new ry().box("payl",rS(function(e){r=tb(e)})).box("iden",rS(function(e){i=tb(e)})).box("sttg",rS(function(e){a=tb(e)})).parse(e),r?function(e,t,n,r,i){if(pB(e,r=new ep(r,i,""),new Map),t&&(r.id=t),n)for(t=ch(e=new cd(n));t;)p$(r,t,[]),cf(e),t=ch(e);return r}(r,i,a,t,n):null}(b,t.periodStart+h/this.g,t.periodStart+e/this.g),a.push(m))}while(f.sampleSize&&g<f.sampleSize)}return a.filter(e3)},G("shaka.text.Mp4VttParser",pW),pW.prototype.parseMedia=pW.prototype.parseMedia,pW.prototype.setSequenceMode=pW.prototype.setSequenceMode,pW.prototype.parseInit=pW.prototype.parseInit,tY['application/mp4; codecs="wvtt"']=function(){return new pW},pK.prototype.parseInit=function(){},pK.prototype.setSequenceMode=function(){},pK.prototype.parseMedia=function(e){var t=tb(e).replace(/\r+/g,"");if(t=t.trim(),e=[],""==t)return e;t=v(t.split("\n\n"));for(var n=t.next();!n.done;n=t.next()){var r=new cd((n=n.value.split("\n"))[0]),i=pG(r),a=cp(r,/,/g);if(r=pG(r),null==i||null==a||null==r)throw new eF(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new ep(i,r,n.slice(1).join("\n").trim()))}return e},G("shaka.text.SbvTextParser",pK),pK.prototype.parseMedia=pK.prototype.parseMedia,pK.prototype.setSequenceMode=pK.prototype.setSequenceMode,pK.prototype.parseInit=pK.prototype.parseInit,tY["text/x-subviewer"]=function(){return new pK},pX.prototype.parseInit=function(){},pX.prototype.setSequenceMode=function(){},pX.prototype.parseMedia=function(e,t){return e=eL(tS(e=pY(e=tb(e)))),this.g.parseMedia(e,t)},G("shaka.text.SrtTextParser",pX),pX.srt2webvtt=pY,pX.prototype.parseMedia=pX.prototype.parseMedia,pX.prototype.setSequenceMode=pX.prototype.setSequenceMode,pX.prototype.parseInit=pX.prototype.parseInit,tY["text/srt"]=function(){return new pX},pJ.prototype.parseInit=function(){},pJ.prototype.setSequenceMode=function(){},pJ.prototype.parseMedia=function(e){var t="",n="";e=v(e=tb(e).split(/\r?\n\s*\r?\n/));for(var r=e.next();!r.done;r=e.next()){var i=p0.exec(r.value);i&&(r=i[1],i=i[2],"V4 Styles"==r||"V4+ Styles"==r?t=i:"Events"==r&&(n=i))}e=[],r=null,t=v(t.split(/\r?\n/));for(var a=t.next();!a.done;a=t.next())if(i=a.value,!/^\s*;/.test(i)&&(a=p1.exec(i))){if(i=a[1].trim(),a=a[2].trim(),"Format"==i)r=a.split(p2);else if("Style"==i){i=a.split(p2),a={};for(var o=0;o<r.length&&o<i.length;o++)a[r[o]]=i[o];e.push(a)}}for(r=[],t=null,i={},a=(n=v(n.split(/\r?\n/))).next();!a.done;i={vd:i.vd},a=n.next())if(a=a.value,!/^\s*;/.test(a)&&(o=p1.exec(a))){if(a=o[1].trim(),o=o[2].trim(),"Format"==a)t=o.split(p2);else if("Dialogue"==a){o=o.split(p2),a={};for(var s=0;s<t.length&&s<o.length;s++)a[t[s]]=o[s];o=new ep(s=pZ(a.Start),pZ(a.End),o.slice(t.length-1).join(",").replace(/\\N/g,"\n").replace(/\{[^}]+\}/g,"")),i.vd=a.Style,(a=e.find(function(e){return function(t){return t.Name==e.vd}}(i)))&&function(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=pQ(n))&&(e.color=n),(n=t.BackColour)&&(n=pQ(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=700),t.Italic&&(e.fontStyle="italic"),t.Underline&&e.textDecoration.push("underline"),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=ev,e.textAlign="start";break;case 2:e.displayAlign=ev,e.textAlign=eg;break;case 3:e.displayAlign=ev,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=eg;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=eg;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}(o,a),r.push(o)}}return r},G("shaka.text.SsaTextParser",pJ),pJ.prototype.parseMedia=pJ.prototype.parseMedia,pJ.prototype.setSequenceMode=pJ.prototype.setSequenceMode,pJ.prototype.parseInit=pJ.prototype.parseInit;var p0=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,p1=/^\s*([^:]+):\s*(.*)/,p2=/\s*,\s*/,p3=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;function p4(){}function p5(){d?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(d=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=p6):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function p6(e,t){var n,r=this;return B(function(i){return 1==i.g?(console.assert(r==navigator,'bad "this" for requestMediaKeySystemAccess'),A(i,d.call(r,e,t),2)):ho(n=i.h)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=d,i.return(n)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=p8,i.return(p8.call(r,e,t)))})}function p8(e,t){var n,r,i,a,o,s,l,u,c,f,p=this;return B(function(h){if(1==h.g){for(console.assert(p==navigator,'bad "this" for requestMediaKeySystemAccess'),n=ha(e),r=[],a=(i=v(t)).next();!a.done;a=i.next())s=p9((o=a.value).videoCapabilities,n),l=p9(o.audioCapabilities,n),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!l.length||((u=Object.assign({},o)).videoCapabilities=s,u.audioCapabilities=l,r.push(u));if(!r.length)throw(c=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",c.code=DOMException.NOT_SUPPORTED_ERR,c;return A(h,d.call(p,e,r),2)}return f=h.h,h.return(new hi(f,n))})}function p9(e,t){return e?e.filter(function(e){return!e.encryptionScheme||e.encryptionScheme==t}):e}function p7(){}function he(){f?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(f=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=ht):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function ht(e){var t,n,r,i=this;return B(function(a){switch(a.g){case 1:return console.assert(i==navigator.mediaCapabilities,'bad "this" for decodingInfo'),A(a,f.call(i,e),2);case 2:if(t=a.h,!e.keySystemConfiguration)return a.return(t);if((n=t.keySystemAccess)&&ho(n))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=f,a.return(t);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=hn,n){a.A(3);break}return r=t,A(a,hr(e),4);case 4:return r.keySystemAccess=a.h,a.return(t);case 3:return a.return(hn.call(i,e))}})}function hn(e){var t,n,r,i,a,o,s,l,u=this;return B(function(c){switch(c.g){case 1:return console.assert(u==navigator.mediaCapabilities,'bad "this" for decodingInfo'),t=null,e.keySystemConfiguration&&(r=(n=e.keySystemConfiguration).keySystem,i=n.audio&&n.audio.encryptionScheme,a=n.video&&n.video.encryptionScheme,t=ha(r),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},i&&i!=t||a&&a!=t)?c.return(o):A(c,f.call(u,e),2);case 2:if((s=c.h).keySystemAccess){s.keySystemAccess=new hi(s.keySystemAccess,t),c.A(3);break}if(!e.keySystemConfiguration){c.A(3);break}return l=s,A(c,hr(e),5);case 5:l.keySystemAccess=c.h;case 3:return c.return(s)}})}function hr(e){var t,n;return B(function(r){if(1==r.g){var i=e.keySystemConfiguration,a=[],o=[];return i.audio&&a.push({robustness:i.audio.robustness||"",contentType:e.audio.contentType}),i.video&&o.push({robustness:i.video.robustness||"",contentType:e.video.contentType}),i={initDataTypes:i.initDataType?[i.initDataType]:[],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},a.length&&(i.audioCapabilities=a),o.length&&(i.videoCapabilities=o),t=i,A(r,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=r.h,r.return(n)})}function hi(e,t){this.h=e,this.g=t,this.keySystem=e.keySystem}function ha(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function ho(e){var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)&&void 0!==e.encryptionScheme}function hs(){}function hl(){p5(),he()}tY["text/x-ssa"]=function(){return new pJ},G("EmeEncryptionSchemePolyfill",p4),p4.install=p5,G("McEncryptionSchemePolyfill",p7),p7.install=he,hi.prototype.getConfiguration=function(){var e=this.h.getConfiguration();if(e.videoCapabilities)for(var t=v(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.g;if(e.audioCapabilities)for(n=(t=v(e.audioCapabilities)).next();!n.done;n=t.next())n.value.encryptionScheme=this.g;return e},hi.prototype.createMediaKeys=function(){return this.h.createMediaKeys()},G("EncryptionSchemePolyfills",hs),hs.install=hl,void 0!==n&&n.exports&&(n.exports=hs)}).call(i,r,r,void 0),i.shaka)t[a]=i.shaka[a]},9743(e,t,n){"use strict";n.d(t,{h:()=>i,j:()=>r});class r{constructor(e){this.ranges=e}get length(){return this.ranges.length}start(e){let t=this.ranges[e];if(!t)throw Error(`Failed to execute 'start' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return t.start}end(e){let t=this.ranges[e];if(!t)throw Error(`Failed to execute 'end' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return t.end}}function i(e){return Array.from(Array(e.length).keys()).map(t=>({start:e.start(t),end:e.end(t)}))}},922(e,t,n){"use strict";n.d(t,{B:()=>l,T:()=>u});var r=n(5055),i=n(8909),a=n(8209),o=n(7450);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let l=(0,r.AH)`
  width: ${3}em;
  height: ${3}em;
  flex-shrink: 0;
  border: 0;
  background: transparent;
  // keep offset inside bottom control bar
  outline-offset: -2px;
`,u=/*#__PURE__*/(0,i.forwardRef)((e,t)=>{let{children:n,className:r,...u}=e;return /*#__PURE__*/i.createElement(a.q,s({className:(0,o.x)(l,r)},u,{ref:t}),n)})},8209(e,t,n){"use strict";n.d(t,{Q:()=>s,q:()=>l});var r=n(8909),i=n(7450),a=n(5055);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".5em";return(0,a.AH)`
  color: var(--glow-color, white);

  // touch devices can have an annoying "sticky" hover effect, so we target with this media selector
  // https://medium.com/@mezoistvan/finally-a-css-only-solution-to-hover-on-touchscreens-c498af39c31c
  @media (hover: hover) and (pointer: fine) {
    :hover {
      filter: drop-shadow(0px 0px ${e} var(--glow-color, white));
    }
    filter: drop-shadow(0px 0px 0px rgba(0, 0, 0, 0));
    transition: filter 0.15s ease;
  }
`},l=/*#__PURE__*/(0,r.forwardRef)((e,t)=>{let{className:n,glowSize:a,...l}=e;return /*#__PURE__*/r.createElement("button",o({className:(0,i.x)(s(a),n),ref:t},l))})},7896(e,t,n){"use strict";n.d(t,{I:()=>eu});var r,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,w,_,S,x,E,T,k,C,A,I,M,R,P,D,O=n(8909);function N(){return(N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(){return(L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(){return(j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(){return(U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(){return(F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(){return(B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(){return(z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(){return($=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V(){return(V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function q(){return(q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(){return(W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(){return(K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var G=n(5055),X=n(7450);function Y(){return(Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(){return(J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(){return(Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(){return(Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(){return(ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function et(){return(et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function en(){return(en=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function er(){return(er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ei(){return(ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ea(){return(ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eo(){return(eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let es={play:e=>/*#__PURE__*/O.createElement("svg",ea({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",fill:"currentColor"},e),D||(D=/*#__PURE__*/O.createElement("path",{d:"M14 15.06V33a2 2 0 0 0 2.93 1.77l17.09-8.97a2 2 0 0 0 0-3.54L16.93 13.3A2 2 0 0 0 14 15.06z"}))),pause:e=>/*#__PURE__*/O.createElement("svg",ei({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",fill:"currentColor"},e),P||(P=/*#__PURE__*/O.createElement("path",{d:"M16 12h3a2 2 0 0 1 2 2v20a2 2 0 0 1-2 2h-3a2 2 0 0 1-2-2V14c0-1.1.9-2 2-2zm13 0h3a2 2 0 0 1 2 2v20a2 2 0 0 1-2 2h-3a2 2 0 0 1-2-2V14c0-1.1.9-2 2-2z"}))),enterFullscreen:e=>/*#__PURE__*/O.createElement("svg",J({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",fill:"currentColor"},e),v||(v=/*#__PURE__*/O.createElement("path",{d:"M28 10h9a1 1 0 0 1 1 1v9a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-6h-6a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1zm9 28h-9a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h6v-6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v9a1 1 0 0 1-1 1zM11 10h9a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-6v6a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-9a1 1 0 0 1 1-1zm3 24h6a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1v-9a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v6z"}))),exitFullscreen:e=>/*#__PURE__*/O.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",fill:"currentColor"},e),_||(_=/*#__PURE__*/O.createElement("path",{d:"M31 17h6a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1v-9a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v6zm-3 10h9a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-6v6a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-9a1 1 0 0 1 1-1zm-8-6h-9a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h6v-6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v9a1 1 0 0 1-1 1zm-9 6h9a1 1 0 0 1 1 1v9a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-6h-6a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1z"}))),enterPictureInPicture:e=>/*#__PURE__*/O.createElement("svg",Q({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),y||(y=/*#__PURE__*/O.createElement("rect",{x:12.5,y:14.5,width:8,height:4,rx:.5,fill:"currentColor",stroke:"currentColor"})),b||(b=/*#__PURE__*/O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 16V7h13v5h2V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h6v-2H5Z",fill:"currentColor"})),w||(w=/*#__PURE__*/O.createElement("path",{d:"m7.5 9.5 3 3m0 0v-2m0 2h-2",stroke:"currentColor",strokeLinecap:"round"}))),exitPictureInPicture:e=>/*#__PURE__*/O.createElement("svg",ee({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),S||(S=/*#__PURE__*/O.createElement("rect",{x:12.5,y:14.5,width:8,height:4,rx:.5,fill:"currentColor",stroke:"currentColor"})),x||(x=/*#__PURE__*/O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 16V7h13v5h2V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h6v-2H5Z",fill:"currentColor"})),E||(E=/*#__PURE__*/O.createElement("path",{d:"m10.5 12.5-3-3m0 0v2m0-2h2",stroke:"currentColor",strokeLinecap:"round"}))),volumeMuted:e=>/*#__PURE__*/O.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},e),u||(u=/*#__PURE__*/O.createElement("path",{d:"M301.1 34.8C312.6 40 320 51.4 320 64v384c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64v-64c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zM425 167l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"}))),volumeLow:e=>/*#__PURE__*/O.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},e),d||(d=/*#__PURE__*/O.createElement("path",{d:"M320 64c0-12.6-7.4-24-18.9-29.2s-25-3.1-34.4 5.3L131.8 160H64c-35.3 0-64 28.7-64 64v64c0 35.3 28.7 64 64 64h67.8l134.9 119.9c9.4 8.4 22.9 10.4 34.4 5.3S320 460.6 320 448V64z"}))),volumeMed:e=>/*#__PURE__*/O.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},e),l||(l=/*#__PURE__*/O.createElement("path",{d:"M301.1 34.8C312.6 40 320 51.4 320 64v384c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64v-64c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zm111.5 146.7c21.5 17.6 35.4 44.4 35.4 74.5s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5z"}))),volumeHigh:e=>/*#__PURE__*/O.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},e),c||(c=/*#__PURE__*/O.createElement("path",{d:"M533.6 32.5C598.5 85.3 640 165.8 640 256s-41.5 170.8-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8c54.2-44 88.7-111 88.7-186.2s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5c21.5 17.6 35.4 44.4 35.4 74.5s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64v384c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64v-64c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"}))),skipForward:e=>/*#__PURE__*/O.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),o||(o=/*#__PURE__*/O.createElement("path",{d:"M463.5 224h8.5c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2S461.9 48.1 455 55l-41.6 41.6c-87.6-86.5-228.7-86.2-315.8 1-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2S334.3 224 344 224h119.5z"}))),skipBackward:e=>/*#__PURE__*/O.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),s||(s=/*#__PURE__*/O.createElement("path",{d:"M48.5 224H40c-13.3 0-24-10.7-24-24V72c0-9.7 5.8-18.5 14.8-22.2S50.1 48.1 57 55l41.6 41.6c87.6-86.5 228.7-86.2 315.8 1 87.5 87.5 87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3c-62.2-62.2-162.7-62.5-225.3-1L185 183c6.9 6.9 8.9 17.2 5.2 26.2S177.7 224 168 224H48.5z"}))),airplay:e=>/*#__PURE__*/O.createElement("svg",Y({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},e),m||(m=/*#__PURE__*/O.createElement("path",{d:"M15.818 37H32.18L24 28.789 15.818 37zm20.454-26H11.729A2.74 2.74 0 0 0 9 13.736v16.422a2.74 2.74 0 0 0 2.727 2.736h5.456v-2.736h-5.456V13.736h24.546v16.422h-5.454v2.736h5.454A2.74 2.74 0 0 0 39 30.159V13.736A2.74 2.74 0 0 0 36.273 11z"}))),fastForward:e=>/*#__PURE__*/O.createElement("svg",j({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),a||(a=/*#__PURE__*/O.createElement("path",{d:"M18.4 445c11.2 5.3 24.5 3.6 34.1-4.4L224 297.7V416c0 12.4 7.2 23.7 18.4 29s24.5 3.6 34.1-4.4L448 297.7V416c0 17.7 14.3 32 32 32s32-14.3 32-32V96c0-17.7-14.3-32-32-32s-32 14.3-32 32v118.3L276.5 71.4c-9.5-7.9-22.8-9.7-34.1-4.4S224 83.6 224 96v118.3L52.5 71.4C43 63.5 29.7 61.7 18.4 67S0 83.6 0 96v320c0 12.4 7.2 23.7 18.4 29z"}))),fastBackward:e=>/*#__PURE__*/O.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),i||(i=/*#__PURE__*/O.createElement("path",{d:"M493.6 445c-11.2 5.3-24.5 3.6-34.1-4.4L288 297.7V416c0 12.4-7.2 23.7-18.4 29s-24.5 3.6-34.1-4.4L64 297.7V416c0 17.7-14.3 32-32 32S0 433.7 0 416V96c0-17.7 14.3-32 32-32s32 14.3 32 32v118.3L235.5 71.4c9.5-7.9 22.8-9.7 34.1-4.4S288 83.6 288 96v118.3L459.5 71.4c9.5-7.9 22.8-9.7 34.1-4.4S512 83.6 512 96v320c0 12.4-7.2 23.7-18.4 29z"}))),clipboard:e=>/*#__PURE__*/O.createElement("svg",q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},e),p||(p=/*#__PURE__*/O.createElement("path",{d:"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128v320c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64h-37.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm-80 128h160c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"}))),gear:e=>/*#__PURE__*/O.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),r||(r=/*#__PURE__*/O.createElement("path",{d:"M495.9 166.6c3.2 8.7.5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4l-55.6 17.8c-8.8 2.8-18.6.3-24.5-6.8-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4c-1.1-8.4-1.7-16.9-1.7-25.5s.6-17.1 1.7-25.4l-43.3-39.4c-6.9-6.2-9.6-15.9-6.4-24.6 4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2 5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8 8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"}))),eye:e=>/*#__PURE__*/O.createElement("svg",er({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),I||(I=/*#__PURE__*/O.createElement("path",{d:"M8 3.17A9.195 9.195 0 0 0 .068 7.75v.5a9.16 9.16 0 0 0 15.865 0v-.5A9.196 9.196 0 0 0 8 3.17zm0 8.66A8.198 8.198 0 0 1 1.083 8a8.162 8.162 0 0 1 13.835 0A8.198 8.198 0 0 1 8 11.83z"})),M||(M=/*#__PURE__*/O.createElement("path",{d:"M8 4.5a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zm0 6a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"})),R||(R=/*#__PURE__*/O.createElement("path",{d:"M8.85 7.853a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5z"}))),captionsEnabled:e=>/*#__PURE__*/O.createElement("svg",et({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T||(T=/*#__PURE__*/O.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5Zm16.937 6.326h-1.598a1.384 1.384 0 0 0-.131-.444 1.08 1.08 0 0 0-.65-.553 1.481 1.481 0 0 0-.488-.077c-.318 0-.591.078-.821.233-.228.156-.404.38-.528.675-.121.294-.182.65-.182 1.067 0 .435.062.8.185 1.093.126.292.302.513.528.662.228.147.497.22.808.22.175 0 .334-.022.477-.067.145-.044.271-.11.38-.195.11-.087.201-.192.272-.316.072-.126.122-.268.15-.425l1.598.01c-.028.29-.112.575-.253.856-.138.281-.329.538-.572.77-.243.23-.539.414-.888.55a3.252 3.252 0 0 1-1.196.204c-.592 0-1.122-.13-1.591-.39a2.808 2.808 0 0 1-1.106-1.144c-.27-.5-.406-1.11-.406-1.828 0-.72.137-1.33.412-1.831a2.82 2.82 0 0 1 1.116-1.141c.469-.26.994-.39 1.575-.39.397 0 .763.055 1.1.166.337.109.633.269.888.48.256.208.464.465.624.77.16.305.258.653.297 1.045Zm-9.098 0h1.598a2.82 2.82 0 0 0-.297-1.045 2.452 2.452 0 0 0-.624-.77 2.667 2.667 0 0 0-.888-.48 3.498 3.498 0 0 0-1.1-.166c-.581 0-1.106.13-1.575.39-.469.26-.84.64-1.116 1.141-.274.5-.412 1.111-.412 1.831 0 .718.135 1.328.406 1.828.27.501.64.883 1.106 1.145.469.26 1 .39 1.591.39.45 0 .848-.069 1.196-.205.35-.136.645-.32.888-.55.243-.232.434-.489.572-.77.14-.281.225-.567.253-.856l-1.598-.01c-.028.158-.078.3-.15.425-.07.123-.161.229-.272.316-.109.086-.236.15-.38.195a1.589 1.589 0 0 1-.477.067 1.46 1.46 0 0 1-.808-.22 1.455 1.455 0 0 1-.528-.662c-.123-.294-.185-.658-.185-1.093 0-.417.06-.773.182-1.067.124-.294.3-.519.528-.675.23-.155.503-.233.821-.233.179 0 .342.026.489.077a1.08 1.08 0 0 1 .649.553c.066.132.11.28.13.444Z",fill:"currentColor"}))),captionsDisabled:e=>/*#__PURE__*/O.createElement("svg",en({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k||(k=/*#__PURE__*/O.createElement("path",{d:"M18.437 11.326h-1.598a1.384 1.384 0 0 0-.131-.444 1.08 1.08 0 0 0-.65-.553 1.481 1.481 0 0 0-.488-.077c-.318 0-.591.078-.821.233-.228.156-.404.38-.528.675-.121.294-.182.65-.182 1.067 0 .435.062.8.185 1.093.126.292.302.513.528.662.228.147.497.22.808.22.175 0 .334-.022.477-.067.145-.044.271-.11.38-.195.11-.087.201-.192.272-.316.072-.126.122-.268.15-.425l1.598.01c-.028.29-.112.575-.253.856-.138.281-.329.538-.572.77-.243.23-.539.414-.888.55a3.252 3.252 0 0 1-1.196.204c-.592 0-1.123-.13-1.591-.39a2.808 2.808 0 0 1-1.106-1.144c-.27-.5-.406-1.11-.406-1.828 0-.72.137-1.33.412-1.831a2.82 2.82 0 0 1 1.116-1.141c.469-.26.994-.39 1.575-.39.397 0 .763.055 1.1.166.337.109.633.269.888.48.256.208.464.465.624.77.16.305.258.653.297 1.045ZM11.437 11.326H9.839a1.385 1.385 0 0 0-.131-.444 1.08 1.08 0 0 0-.65-.553 1.482 1.482 0 0 0-.488-.077c-.318 0-.591.078-.821.233-.228.156-.404.38-.528.675-.121.294-.182.65-.182 1.067 0 .435.062.8.185 1.093.126.292.302.513.528.662.228.147.497.22.808.22.175 0 .334-.022.477-.067.144-.044.271-.11.38-.195.11-.087.201-.192.272-.316.072-.126.122-.268.15-.425l1.598.01c-.028.29-.112.575-.253.856-.138.281-.329.538-.572.77-.243.23-.539.414-.888.55a3.253 3.253 0 0 1-1.196.204c-.592 0-1.122-.13-1.591-.39a2.808 2.808 0 0 1-1.106-1.144c-.27-.5-.406-1.11-.406-1.828 0-.72.138-1.33.412-1.831.275-.5.647-.881 1.116-1.141.469-.26.994-.39 1.575-.39.397 0 .763.055 1.1.166.336.109.633.269.888.48.256.208.464.465.624.77.16.305.258.653.297 1.045Z",fill:"currentColor"})),C||(C=/*#__PURE__*/O.createElement("mask",{id:"captionsDisabled_svg__a",fill:"none"},/*#__PURE__*/O.createElement("rect",{x:2,y:4,width:20,height:16,rx:1,stroke:"currentColor",strokeWidth:2}))),A||(A=/*#__PURE__*/O.createElement("rect",{x:2,y:4,width:20,height:16,rx:1,stroke:"currentColor",strokeWidth:4,mask:"url(#captionsDisabled_svg__a)"}))),share:e=>/*#__PURE__*/O.createElement("svg",V({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),f||(f=/*#__PURE__*/O.createElement("path",{d:"M307 34.8c-11.5 5.1-19 16.6-19 29.2v64H176C78.8 128 0 206.8 0 304c0 113.3 81.5 163.9 100.2 174.1 2.5 1.4 5.3 1.9 8.1 1.9 10.9 0 19.7-8.9 19.7-19.7 0-7.5-4.3-14.4-9.8-19.5-9.4-8.9-22.2-26.4-22.2-56.8 0-53 43-96 96-96h96v64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144a31.76 31.76 0 0 0-34.4-5.4z"}))),check:e=>/*#__PURE__*/O.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},e),h||(h=/*#__PURE__*/O.createElement("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7l233.4-233.3c12.5-12.5 32.8-12.5 45.3 0z"}))),circleXMark:e=>/*#__PURE__*/O.createElement("svg",K({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),g||(g=/*#__PURE__*/O.createElement("path",{d:"M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm-81-337c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"})))},el=(0,G.AH)`
  height: 100%;
`,eu=e=>{let{type:t,className:n,...r}=e,i=es[t];return /*#__PURE__*/O.createElement(i,eo({fill:"currentColor","aria-hidden":"true",className:(0,X.x)(el,n)},r))}},2913(e,t,n){"use strict";n.d(t,{MV:()=>o,Th:()=>a,bk:()=>s});var r=n(8909);let i=/*#__PURE__*/(0,r.createContext)({indications:[],setIndications:()=>{}}),a=e=>{let{children:t}=e,[n,a]=(0,r.useState)([]);return /*#__PURE__*/r.createElement(i.Provider,{value:{indications:n,setIndications:a}},t)};function o(){let{setIndications:e}=(0,r.useContext)(i);return t=>{e(e=>[t,...e])}}function s(e,t){let{indications:n}=(0,r.useContext)(i),a=(0,r.useMemo)(()=>n.find(e=>void 0===t||e.type===t),[n,t]),o=(0,r.useRef)(-1),[s,l]=(0,r.useState)(Date.now());return(0,r.useEffect)(()=>(o.current=window.setTimeout(()=>{l(Date.now())},e),()=>{window.clearTimeout(o.current)}),[n]),a&&a.timestamp>s-e?a:void 0}},5825(e,t,n){"use strict";n.d(t,{X:()=>l,p:()=>u});var r=n(8909),i=n(9501),a=n(3690),o=n(6620);let s=/*#__PURE__*/(0,r.createContext)({flavor:"dash",videoId:"",resourceUrl:"",impressionId:"",playerVersion:"",staging:!1}),l=e=>{let{children:t,src:n,flavor:l,metrics:u,staging:c,customerDomainPrefix:d}=e,f=(0,r.useMemo)(()=>(0,i.k)(n),[n]),{resourceUrl:p}=(0,a.H)(n,c,d),h=(0,r.useMemo)(()=>({impressionId:u.impressionId,playerVersion:u.playerVersion,resourceUrl:p,videoId:f,staging:c,flavor:l}),[l,u.impressionId,u.playerVersion,c,f,p]);return(0,r.useEffect)(()=>{o.A.setContext("videoId",{videoId:f})},[f]),/*#__PURE__*/r.createElement(s.Provider,{value:h},t)},u=()=>(0,r.useContext)(s)},4040(e,t,n){"use strict";n.d(t,{R:()=>u,x:()=>c});var r=n(8909),i=n(9098),a=n(7896),o=n(922),s=n(2419);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let u=e=>{let{paused:t,...n}=e;return /*#__PURE__*/r.createElement(o.T,n,/*#__PURE__*/r.createElement(a.I,{type:t?"play":"pause"}),/*#__PURE__*/r.createElement(s.s,null,t?"Play":"Pause"))},c=e=>{let{onClick:t,...n}=e,{paused:a,setPaused:o}=(0,i.yd)();return /*#__PURE__*/r.createElement(u,l({paused:a,onClick:e=>{o(!a),t&&t(e)}},n))}},6298(e,t,n){"use strict";n.d(t,{Dm:()=>u,Pl:()=>c,ai:()=>d});var r=n(8909),i=n(5055),a=n(9098),o=n(5233);let s=(0,i.AH)`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: black;
`,l=/*#__PURE__*/(0,r.createContext)({error:void 0,clearError:()=>{}}),u=e=>{let{children:t,source:n,playbackProviderRef:i}=e,[a,s]=(0,r.useState)();(0,r.useEffect)(()=>{let e=(0,o.t)(i.current),t=e=>{s(e)};return e.addEventListener("error",t),()=>{e.removeEventListener("error",t)}},[i]);let u=(0,r.useCallback)(()=>{s(void 0)},[]);return(0,r.useEffect)(()=>{u()},[n]),/*#__PURE__*/r.createElement(l.Provider,{value:{error:a,clearError:u}},t)};function c(){return(0,r.useContext)(l)}let d=e=>{let{}=e,{error:t}=c();return void 0===t?null:/*#__PURE__*/r.createElement("div",{className:s},t instanceof a.ZF&&"Video not found",t instanceof a.ec&&"You don't have permission to view this video",t instanceof a.Bk&&"An unknown error occurred",t instanceof a.TL&&"An unrecoverable error occurred")}},3263(e,t,n){"use strict";n.d(t,{FC:()=>l,nK:()=>s});var r=n(5825),i=n(8909),a=n(1651);let o=/*#__PURE__*/(0,i.createContext)({dimensions:{height:0,width:0},audio:[],tt:[],nft:null,flags:{thumbnailScrubbingEnabled:!1},publicDetails:null}),s=e=>{let{children:t,textTrackLabels:n}=e,{resourceUrl:s}=(0,r.p)(),[l,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let e=new AbortController;return u(null),fetch(`${s}/metadata/playerEnhancementInfo.json`,{signal:e.signal}).then(async e=>{if(200===e.status)u((e=>{let{tt:t,...n}=e;return{tt:t.map(e=>{let{label:t="undefined",...n}=e;return{label:t,...n}}),...n}})(await e.json()));else if(204===e.status)return void u(null)}).catch(a.M),()=>{e.abort()}},[s]),/*#__PURE__*/i.createElement(o.Provider,{value:l?{...l,textTrackLabels:n}:null},t)},l=()=>(0,i.useContext)(o)},6102(e,t,n){"use strict";n.d(t,{QB:()=>l,gz:()=>c,y8:()=>u});var r=n(8909),i=n(3263),a=n(9098),o=n(1273);let s=/*#__PURE__*/(0,r.createContext)([null,()=>{}]),l=e=>{let{children:t,defaultLanguageCode:n}=e,i=(0,r.useState)(n??null);return /*#__PURE__*/r.createElement(s.Provider,{value:i},t)},u=e=>{let{}=e,{setSelectedTextTrack:t,textTracks:n}=(0,a.yd)(),s=(0,i.FC)(),[l]=c(),u=s?.tt.find(e=>e.textLanguage===l);return(0,r.useEffect)(()=>{let e=n.find(e=>{let{label:t}=e;return t.toLowerCase()===u?.label?.toLowerCase()})??null;t(e),null!==e&&(0,o.A)({__privateUnstableMessageType:"textTrackEnabled"})},[t,n,l,u]),null};function c(){return(0,r.useContext)(s)}},2419(e,t,n){"use strict";n.d(t,{s:()=>a});var r=n(8909);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let a=e=>{let{children:t,...n}=e,[a,o]=r.useState(!1);return r.useEffect(()=>{},[]),/*#__PURE__*/r.createElement("span",i({style:a?{}:{display:"inline-block",position:"absolute",overflow:"hidden",clip:"rect(0 0 0 0)",height:1,width:1,margin:-1,padding:0,border:0}},n),t)}},2704(e,t,n){"use strict";n.d(t,{Tt:()=>m,fS:()=>v,it:()=>g});var r=n(8909),i=n(5055),a=n(9098),o=n(7896),s=n(2913),l=n(922),u=n(4032),c=n(2419),d=n(7450);let f=(0,i.AH)`
  display: flex;
  align-items: center;

  &:hover input,
  & input:focus[is-focus-visible] {
    opacity: 1;
  }
`,p=(0,i.AH)`
  padding: 0.75em;
`,h=(0,i.AH)`
  // Hide volume slider if pointer isn't capable
  // of hover, assuming the user is going to use
  // their OS volume setting.
  @media (hover: none) {
    display: none;
  }

  @media (max-width: 500px) {
    width: 4em;
  }

  @media (max-width: 450px) {
    width: 3em;
  }

  -webkit-appearance: none;
  margin: 0;
  height: 100%;
  width: 5em;
  opacity: 0;
  transition: max-width 0.25s, opacity 0.25s;
  background: transparent;

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 1em;
    width: 1em;
    margin-top: -0.25em;
    border-radius: 100%;
    background: currentColor;
    cursor: pointer;
  }

  &::-moz-range-thumb {
    -webkit-appearance: none;
    height: 1em;
    width: 1em;
    margin-top: -0.25em;
    border-radius: 100%;
    background: currentColor;
    cursor: pointer;
  }

  &::-ms-thumb {
    -webkit-appearance: none;
    height: 1em;
    width: 1em;
    border-radius: 100%;
    background: currentColor;
    cursor: pointer;
  }

  &::-webkit-slider-runnable-track {
    width: 100%;
    height: 0.5em;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 10em;
    border: 0;
    cursor: pointer;
  }

  &::-moz-range-track {
    width: 100%;
    height: 0.5em;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 10em;
    border: 0;
    cursor: pointer;
  }

  &::-ms-fill-lower {
    width: 100%;
    height: 0.5em;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 10em;
    border: 0;
    cursor: pointer;
  }

  &::-ms-fill-upper {
    width: 100%;
    height: 0.5em;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 10em;
    border: 0;
    cursor: pointer;
  }

  &::-ms-tooltip {
    display: none;
  }

  &::-ms-track {
    color: transparent;
  }

  &::-ms-ticks-before {
    color: transparent;
  }

  &::-ms-ticks-after {
    color: transparent;
  }
`,g=e=>{let{volume:t,muted:n,className:i}=e;return 0===t||n?/*#__PURE__*/r.createElement(o.I,{className:i,type:"volumeMuted"}):t<.33?/*#__PURE__*/r.createElement(o.I,{className:i,type:"volumeLow"}):t<.66?/*#__PURE__*/r.createElement(o.I,{className:i,type:"volumeMed"}):/*#__PURE__*/r.createElement(o.I,{className:i,type:"volumeHigh"})},m=e=>{let{muted:t,setMuted:n,setVolume:i,volume:a,buttonClassName:o,sliderClassName:s}=e;return /*#__PURE__*/r.createElement("div",{className:f},/*#__PURE__*/r.createElement(l.T,{className:(0,d.x)(p,o),onClick:()=>n(!t)},/*#__PURE__*/r.createElement(g,{volume:a,muted:t}),/*#__PURE__*/r.createElement(c.s,null,t?"Currently muted. Click to unmute.":`Currently unmuted. Volume set to ${Math.round(100*a)} percent. Click to mute.`)),/*#__PURE__*/r.createElement("input",{className:(0,d.x)(h,s),name:"volume","aria-label":"volume",type:"range",min:"0",max:"1",step:".01",value:t?0:a,onKeyDown:u.HR,onChange:e=>{let t=Number(e.target.value);t>a&&n(!1),i(t)}}))},v=e=>{let{controlsRef:t}=e,{muted:n,setMuted:i,setVolume:o,volume:l}=(0,a.yd)(),c=(0,s.MV)();return(0,u.fy)({keyName:"ArrowUp"},e=>{let t=Math.min(1,l+.1);o(t),i(!1),c({type:"volumeUp",timestamp:Date.now(),volume:t})},{target:t}),(0,u.fy)({keyName:"ArrowDown"},e=>{let t=Math.max(0,l-.1);o(t),c(t>0?{type:"volumeDown",timestamp:Date.now(),volume:t}:{type:"muted",timestamp:Date.now()})},{target:t}),/*#__PURE__*/r.createElement(m,{muted:n,volume:l,setMuted:i,setVolume:o})}},7450(e,t,n){"use strict";n.d(t,{x:()=>i});var r=n(5233);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(r.R).reduce((e,t)=>"string"==typeof t?[...e,t]:[...e,...Object.entries(t).reduce((e,t)=>{let[n,r]=t;return r?[...e,n]:e},[])],[]).join(" ")}},2016(e,t,n){"use strict";n.d(t,{RP:()=>a,ZC:()=>o});var r=n(8909),i=n(6237);function a(e,t){let{delay:n=1e3,...a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[o,s]=function(e){let[t,n]=(0,r.useState)(-1),[i,a]=(0,r.useState)(Date.now()),o=(0,r.useRef)(-1);return(0,r.useEffect)(()=>(o.current=window.setTimeout(()=>a(Date.now()),e),()=>clearTimeout(o.current)),[e,t]),[t+e>i,(0,r.useCallback)(()=>{n(Date.now())},[])]}(n);(0,i.ML)(e,()=>{s(),o&&t()},a)}function o(e){let t=(0,r.useRef)(e);return(0,r.useEffect)(()=>{t.current=e}),t.current}},5148(e,t,n){"use strict";n.d(t,{Fo:()=>o,JD:()=>i,dg:()=>a,qy:()=>s});var r=n(5055);let i=(0,r.AH)`
  position: relative;
  margin: 0;
  padding: 1.5rem;

  display: flex;
  gap: 1rem;
  align-items: center;

  // trim down padding on smaller viewports
  @media (max-width: 500px) {
    padding: 1rem;
  }

  :before {
    content: ' ';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 8rem;
    /* 
    generated gradients using this tool which translates a 
    cubic-bezier curve to gradients for a much smoother gradient
    https://larsenwork.com/easing-gradients/#editor

    #future-maybe {
      background-image: linear-gradient(
        to bottom,
        hsla(330, 0%, 0%, 0),
        cubic-bezier(0.42, 0, 0.52, 1),
        hsla(210, 0%, 0%, 0.6)
      );
    };

    */
    background-image: linear-gradient(
      to top,
      hsla(0, 0%, 0%, 0) 0%,
      hsla(0, 0%, 0%, 0.008) 8%,
      hsla(0, 0%, 0%, 0.029) 15.3%,
      hsla(0, 0%, 0%, 0.062) 21.9%,
      hsla(0, 0%, 0%, 0.105) 28.1%,
      hsla(0, 0%, 0%, 0.156) 33.9%,
      hsla(0, 0%, 0%, 0.211) 39.5%,
      hsla(0, 0%, 0%, 0.27) 45%,
      hsla(0, 0%, 0%, 0.33) 50.5%,
      hsla(0, 0%, 0%, 0.389) 56.2%,
      hsla(0, 0%, 0%, 0.444) 62.1%,
      hsla(0, 0%, 0%, 0.495) 68.4%,
      hsla(0, 0%, 0%, 0.538) 75.2%,
      hsla(0, 0%, 0%, 0.571) 82.7%,
      hsla(0, 0%, 0%, 0.592) 90.9%,
      hsla(0, 0%, 0%, 0.6) 100%
    );
    z-index: -1;
    pointer-events: none;
  }
`,a=(0,r.AH)`
  padding-left: 1em;
  padding-right: 1em;
  padding-bottom: 0.5em;

  // since the bottom bar can fill with controls we need
  // as much space as possible on smaller
  @media (max-width: 500px) {
    padding: 0;
  }
`,o=(0,r.AH)`
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  color: white;

  :before {
    content: ' ';
    position: absolute;
    pointer-events: none;
    bottom: 0;
    width: 100%;
    height: 12em;
    /* 
    generated gradients using this tool which translates a 
    cubic-bezier curve to gradients for a much smoother gradient
    https://larsenwork.com/easing-gradients/#editor

    #future-maybe {
      background-image: linear-gradient(
        to bottom,
        hsla(330, 0%, 0%, 0),
        cubic-bezier(0.42, 0, 0.52, 1),
        hsla(210, 0%, 0%, 0.6)
      );
    };

    */
    background-image: linear-gradient(
      to bottom,
      hsla(0, 0%, 0%, 0) 0%,
      hsla(0, 0%, 0%, 0.008) 8%,
      hsla(0, 0%, 0%, 0.029) 15.3%,
      hsla(0, 0%, 0%, 0.062) 21.9%,
      hsla(0, 0%, 0%, 0.105) 28.1%,
      hsla(0, 0%, 0%, 0.156) 33.9%,
      hsla(0, 0%, 0%, 0.211) 39.5%,
      hsla(0, 0%, 0%, 0.27) 45%,
      hsla(0, 0%, 0%, 0.33) 50.5%,
      hsla(0, 0%, 0%, 0.389) 56.2%,
      hsla(0, 0%, 0%, 0.444) 62.1%,
      hsla(0, 0%, 0%, 0.495) 68.4%,
      hsla(0, 0%, 0%, 0.538) 75.2%,
      hsla(0, 0%, 0%, 0.571) 82.7%,
      hsla(0, 0%, 0%, 0.592) 90.9%,
      hsla(0, 0%, 0%, 0.6) 100%
    );
    z-index: -1;
    pointer-events: none;
  }
`,s=(0,r.AH)`
  display: flex;
  align-items: center;
  gap: var(--gap);
`},3690(e,t,n){"use strict";n.d(t,{H:()=>a});var r=n(8909),i=n(4728);function a(e,t,n){return(0,r.useMemo)(()=>(0,i.u)(e,t,n),[e,t,n])}},4032(e,t,n){"use strict";n.d(t,{HR:()=>a,fG:()=>i,fy:()=>o});var r=n(6237);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n=>{!t.some(e=>e(n))&&e.some(e=>{let{keyName:t,altKey:r=!1,ctrlKey:i=!1,metaKey:a=!1,shiftKey:o=!1}=e;return t.toLowerCase()===n.key.toLowerCase()&&o===n.shiftKey&&r===n.altKey&&i===n.ctrlKey&&a===n.metaKey})&&n.preventDefault()}};function a(e){e.nativeEvent.escapeKeyboardShortcut=!0}function o(e,t){let{passive:n=!0,...i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{passive:!0};(0,r.xV)(e,e=>{requestAnimationFrame(()=>{e.escapeKeyboardShortcut||t(e)})},{...i,passive:n})}},5233(e,t,n){"use strict";function r(e){return null!=e}function i(e){if(r(e))return e;throw Error(`value was ${e}`)}n.d(t,{R:()=>r,t:()=>i})},4728(e,t,n){"use strict";n.d(t,{u:()=>i});let r=/(frh[0-9a-fA-F]{29})/;function i(e,t,n){let i=n?n+".":"";return"string"==typeof e&&r.test(e)?t?{resourceUrl:`https://${i}staging.feddelivery.net/${e}`,beaconUrl:`https://${i}staging.feddelivery.net/beacon/media-staging`}:{resourceUrl:`https://feddelivery.net/${e}`,beaconUrl:"https://stats.feddelivery.net/beacon/media"}:t?{resourceUrl:`https://${i}staging.cloudflarestream.com/${e}`,beaconUrl:`https://${i}staging.cloudflarestream.com/beacon/media-staging`}:window.location.hostname.endsWith("bytehighway.net")?{resourceUrl:`https://bytehighway.net/${e}`,beaconUrl:"https://stats.bytehighway.net/beacon/media"}:window.location.hostname.includes(".fr.")?{resourceUrl:`https://fr.videodelivery.net/${e}`,beaconUrl:"https://stats.fr.videodelivery.net/beacon/media"}:{resourceUrl:`https://${i}cloudflarestream.com/${e}`,beaconUrl:`https://${i}cloudflarestream.com/beacon/media`}}},6909(e,t,n){"use strict";n.d(t,{K2:()=>i,aP:()=>r});let r="external",i="45bd3d0"},9501(e,t,n){"use strict";function r(e){try{var t,n;if(!e)throw Error("Falsey input");let r=e.split(".");if(3!=r.length)throw Error("Malformed token");return JSON.parse((t=r[1],atob((n=t,function(e){let t=e.length%4;if(!t)return e;let n=4-t,r=e;for(;n--;)r+="=";return r}(n.replace(/\-/g,"+").replace(/_/g,"/")))))).sub}catch{return e}}n.d(t,{k:()=>r})},9152(e,t,n){"use strict";n.d(t,{MJ:()=>i,eW:()=>r,f0:()=>a});let r=["abort","canplay","canplaythrough","durationchange","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],i=["adstart","adend","adtimeout"],a=e=>`stream-${e}`},9098(e,t,n){"use strict";n.d(t,{tA:()=>m,TL:()=>y,ec:()=>g,L9:()=>d,f4:()=>b,yd:()=>s,ZF:()=>h,vb:()=>f,Bk:()=>v});var r=n(8909);function i(e){if(null!=e)return e;throw Error(`value was ${e}`)}function a(){}let o=/*#__PURE__*/(0,r.createContext)({waiting:!1,autoPlay:!1,paused:!0,playbackStarted:!1,playbackFailed:!1,canPlay:!1,muted:!1,fullscreenEnabled:!0,fullscreenActive:!1,duration:0,currentTime:0,liveEdge:null,volume:1,playbackRate:1,selectedBitrate:"auto",selectedTextTrack:null,selectedAudioTrack:null,isLive:!1,textTracks:[],audioTracks:[],bitrateOptions:[],bufferedTimeRanges:[],setAutoPlay:a,setMuted:a,setPaused:a,setVolume:a,setPlaybackRate:a,seek:a,setSelectedBitrate:a,toggleFullscreen:a,enterFullscreen:a,exitFullscreen:a,setSelectedTextTrack:a,setSelectedAudioTrack:a,src:"",videoRef:{current:null},fullscreenContainerRef:{current:null}});function s(){return(0,r.useContext)(o)}var l=n(62);function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,i=void 0!==t,[o,s]=(0,r.useState)(void 0===t?e:t);return[void 0===t?o:t,(0,r.useCallback)(e=>{i||s(e),n(e)},[i,n])]}function c(e,t,n){(0,r.useEffect)(()=>{let{current:r}=e;r&&(null==n?r.removeAttribute(t):r.setAttribute(t,n.toString()))},[e,t,n])}let d=e=>{let{children:t,src:n,autoPlay:s,onAutoPlayChange:d,playbackRate:f,onPlaybackRateChange:p,muted:h,onMutedChange:g,volume:m,onVolumeChange:v,playbackProvider:y,waitingTimeout:b,onError:w,videoRef:_,fullscreenContainerRef:S,playbackProviderRef:x,resets:E=0}=e,T=r.useRef(null),k=_??T,C=r.useRef(null),A=S??C;c(k,"autoplay",!!s||void 0),c(k,"muted",h);let I=function(e,t,n,o,s){let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:a,u=(0,r.useRef)(null),c=s??u;return(0,r.useEffect)(()=>{t.current&&(c.current=new e(t.current))},[t,e,o]),(0,r.useEffect)(()=>{let e=i(c.current);return e.addEventListener("error",l),()=>{e.removeEventListener("error",l)}},[l]),(0,r.useEffect)(()=>{i(c.current).setSource(n)},[n]),(0,r.useEffect)(()=>{let e=i(c.current);return()=>{e.destroy()}},[]),c}(y,k,n,E,x,w),M=function(e,t,n,a,o,s){let[l,c]=u(a,o,s);return(0,r.useEffect)(()=>{i(t.current).setAutoplay(l)},[e,l,t,n]),{autoPlay:l,setAutoPlay:c}}(n,I,k,!1,s,d),R=function(e,t,n,a,o){let[s,l]=u(n,void 0,void 0),[c,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),m=(0,r.useCallback)(t=>{let n=i(e.current);t?(n.pause(),l(!0)):n.play().then(()=>{l(!1),p(!0)}).catch(()=>{l(!0),g(!0)})},[e,l]);return(0,r.useEffect)(()=>{let e=i(t.current),n=()=>{p(!1),g(!1),d(!1),l(!e.autoplay)},r=()=>{e.loop||l(!0)},a=()=>{l(!1)},o=()=>{l(!0)},s=()=>{d(!0),e.autoplay&&m(!1)},u=()=>{f||e.paused||p(!0)};return e.addEventListener("loadstart",n),e.addEventListener("timeupdate",u),e.addEventListener("canplay",s,{once:!0}),e.addEventListener("ended",r),e.addEventListener("play",a),e.addEventListener("pause",o),()=>{e.removeEventListener("loadstart",n),e.removeEventListener("timeupdate",u),e.removeEventListener("canplay",s),e.removeEventListener("ended",r),e.removeEventListener("play",a),e.removeEventListener("pause",o)}},[t,n,m,l,f]),{paused:s,setPaused:m,playbackStarted:f,playbackFailed:h,canPlay:c}}(I,k,!M.autoPlay),[P,D]=function(e,t){let[n,a]=(0,r.useState)(0),[o,s]=(0,r.useState)(0),[l,u]=(0,r.useState)(0);return(0,r.useEffect)(()=>{if(0===l)return;let t=i(e.current);a(o),t.seek(o)},[e,o,l,a]),(0,r.useEffect)(()=>{let e=i(t.current),n=()=>{a(e.currentTime)};return e.addEventListener("timeupdate",n),()=>e.removeEventListener("timeupdate",n)},[t]),[n,e=>{s(e),u(Date.now())}]}(I,k),O=I.current?.getDuration()??NaN,N=function(e,t,n,a,o){let[s,l]=u(n,a,o);return(0,r.useEffect)(()=>{i(e.current).setMute(s)},[e,t,s]),{muted:s,setMuted:l}}(I,k,!1,h,g),L=function(e,t,n,a){let[o,s]=u(1,n,a);return(0,r.useEffect)(()=>{i(e.current).setVolume(o)},[e,o]),{volume:o,setVolume:s}}(I,0,m,v),j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,[n,a]=(0,r.useState)(!1),o=function(e,t){let[n,i]=(0,r.useState)(e),a=(0,r.useRef)(null);return(0,r.useEffect)(()=>(a.current=window.setTimeout(()=>{i(e)},t),()=>{a.current&&window.clearTimeout(a.current)}),[e,t]),n}(n,t),s=(0,r.useCallback)(()=>{n||a(!0)},[n]),l=(0,r.useCallback)(()=>{n&&a(!1)},[n]);return(0,r.useEffect)(()=>{let t=i(e.current);if(e.current)return t.addEventListener("waiting",s),t.addEventListener("playing",l),t.addEventListener("canplay",l),t.addEventListener("timeupdate",l),()=>{t.removeEventListener("waiting",s),t.removeEventListener("playing",l),t.removeEventListener("canplay",l),t.removeEventListener("timeupdate",l)}},[e,s,l]),!1!==n&&o}(k,b),U=function(e,t){let[n,a]=(0,r.useState)([]),[o,s]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let n=i(t.current),r=()=>{s(null)},o=()=>{a(i(e.current).getTextTracks())};return n.addEventListener("loadstart",r),n.addEventListener("loadedmetadata",o),n.textTracks.addEventListener("addtrack",o),()=>{n.removeEventListener("loadstart",r),n.removeEventListener("loadedmetadata",o),n.textTracks.removeEventListener("addtrack",o)}},[t,e]),(0,r.useEffect)(()=>{i(e.current).setTextTrack(o)},[e,o]),{selectedTextTrack:o,setSelectedTextTrack:s,textTracks:n}}(I,k),F=function(e,t){let[n,a]=(0,r.useState)([]),[o,s]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let n=i(t.current),r=()=>{s(null)},o=()=>{let t=i(e.current);a(t.getAudioTracks()),s(t.getActiveAudioTrack())};return n.addEventListener("loadstart",r),n.addEventListener("loadedmetadata",o),n.audioTracks?.addEventListener("addtrack",o),n.audioTracks?.addEventListener("removetrack",o),()=>{n.removeEventListener("loadstart",r),n.removeEventListener("loadedmetadata",o),n.audioTracks?.removeEventListener("addtrack",o),n.audioTracks?.removeEventListener("removetrack",o)}},[t,e]),(0,r.useEffect)(()=>{i(e.current).setAudioTrack(o)},[e,o]),{selectedAudioTrack:o,setSelectedAudioTrack:s,audioTracks:n}}(I,k),B=function(e,t){let[n,a]=(0,r.useState)([]),[o,s]=(0,r.useState)("auto");return(0,r.useEffect)(()=>{let n=i(t.current),r=i(e.current),o=()=>{a(r.getBitrateOptions())};return n.addEventListener("loadedmetadata",o),()=>n.removeEventListener("loadedmetadata",o)},[t,e]),(0,r.useEffect)(()=>{let t=i(e.current);"auto"===o?t.setBitrateAuto():t.setBitrateOption(o)},[e,o]),{selectedBitrate:o,setSelectedBitrate:s,bitrateOptions:n}}(I,k),z=function(e,t){let[n,a]=(0,r.useState)([]);return(0,r.useEffect)(()=>{let n=i(t.current),r=()=>{a(i(e.current).getBufferedTimeRanges())};return n.addEventListener("progress",r),()=>n.removeEventListener("progress",r)},[e,t]),n}(I,k),$=function(e,t){let[n,a]=(0,r.useState)(!!l.A.fullscreenElement),[o,s]=(0,r.useState)(!1);(0,r.useEffect)(()=>{s(!l.A.fullscreenEnabled&&null!==t.current&&"webkitEnterFullscreen"in t.current);let e=()=>{a(!!l.A.fullscreenElement)};return l.A.addEventListener("fullscreenchange",e),()=>{l.A.removeEventListener("fullscreenchange",e)}},[]);let u=()=>{let n=i(e.current),r=i(t.current);l.A.fullscreenEnabled?l.A.requestFullscreen(n):o&&r.webkitEnterFullscreen()};return{fullscreenEnabled:l.A.fullscreenEnabled||o,fullscreenActive:n,toggleFullscreen:()=>{n?l.A.exitFullscreen():u()},enterFullscreen:u,exitFullscreen:()=>{l.A.exitFullscreen()}}}(A,k),H=function(e,t,n,a){let[o,s]=u(1,n,a);return(0,r.useEffect)(()=>{i(e.current).setPlaybackRate(o)},[e,o]),{playbackRate:o,setPlaybackRate:s}}(I,0,f,p),V={seek:D,currentTime:P,duration:O,waiting:j,videoRef:k,bufferedTimeRanges:z,fullscreenContainerRef:A,isLive:!!I.current&&I.current.isLive(),liveEdge:I.current?.getLiveEdge()??null,src:n,...N,...B,...U,...F,...H,...L,...M,...R,...$};return /*#__PURE__*/r.createElement(o.Provider,{value:V},"function"==typeof t?t(V):t)};class f{constructor(e){this.video=e}destroy(){this.video.innerHTML=""}getDuration(){return this.video.duration}play(){return this.video.play()}pause(){this.video.pause()}seek(e){this.video.currentTime=e}getLiveEdge(){return null}setMute(e){this.video.muted=e}setSource(e){let t=document.createElement("source");t.src=e,e.endsWith(".m3u8")&&(t.type="application/x-mpegURL"),e.endsWith(".mpd")&&(t.type="application/dash+xml"),this.video.appendChild(t),this.video.load()}setVolume(e){this.video.volume=e}setPlaybackRate(e){this.video.playbackRate=e}setAutoplay(e){this.video.autoplay=e}getTextTracks(){return Array.from(this.video.textTracks).filter(e=>{let{language:t}=e;return!!t})}setTextTrack(e){let t=Array.from(this.video.textTracks);if(t.forEach(e=>{e.mode="disabled"}),null===e)return;let n=t.find(t=>t.language===e.language);n&&(n.mode="showing")}getAudioTracks(){return[]}getActiveAudioTrack(){return null}setAudioTrack(e){console.error(`${this.constructor.name} has not implemented setAudioTrack`)}getBufferedTimeRanges(){let{buffered:e}=this.video;return Array.from(Array(e.length).keys()).map(t=>({start:e.start(t),end:e.end(t)}))}setBitrateOption(e){}setBitrateAuto(){}getBitrateOptions(){return[]}_handlers={};addEventListener(e,t){let n=this._handlers[e]??[];n.push(t),this._handlers[e]=n}removeEventListener(e,t){let n=this._handlers[e]??[];this._handlers[e]=n.filter(e=>e!==t)}dispatchEvent(e,t){(this._handlers[e]??[]).forEach(e=>e(t))}}class p extends Error{id=crypto.randomUUID();constructor(e){const t=new.target.prototype;super(e),Object.setPrototypeOf(this,t)}}class h extends p{}class g extends p{}class m extends p{}class v extends p{}class y extends p{}class b extends f{constructor(e){super(e),this.video=e,e.addEventListener("error",()=>{this.dispatchEvent("error",new v)}),document.addEventListener("visibilitychange",this.visibilityChangeHandler)}visibilityChangeHandler=()=>{"visible"===document.visibilityState&&(this.video.currentTime=this.video.currentTime+.01)};destroy(){super.destroy(),document.removeEventListener("visibilitychange",this.visibilityChangeHandler)}setSource(e){let t=document.createElement("source");t.src=e,e.endsWith(".m3u8")&&(t.type="application/x-mpegURL"),e.endsWith(".mpd")&&(t.type="application/dash+xml"),t.addEventListener("error",()=>{this.dispatchEvent("error",new v)}),this.video.innerHTML="",this.video.appendChild(t),this.video.load()}isLive(){return this.video.duration===1/0}setAudioTrack(e){let t=this.getAudioTracks(),n=this.video.audioTracks?.[t.findIndex(t=>t.language===e?.language)];n&&(n.enabled=!0)}getAudioTracks(){let e=this.video.audioTracks;return e?Array.from(e):[]}getActiveAudioTrack(){let{audioTracks:e}=this.video;return e?this.getAudioTracks().find((t,n)=>e[n].enabled)??null:null}}},1273(e,t,n){"use strict";function r(e){window.parent&&window.parent!==window&&window.parent.postMessage(e,"*")}n.d(t,{A:()=>r})},6620(e,t,n){"use strict";let r,i,a,o,s,l,u,c,d,f,p,h,g,m,v,y,b,w,_,S,x,E,T,k,C,A,I,M,R;n.d(t,{V:()=>ha,A:()=>ho});var /* @__PURE__ */P,/* @__PURE__ */D,/* @__PURE__ */O,/* @__PURE__ */N,/* @__PURE__ */L,/* @__PURE__ */j,U,/* @__PURE__ */F,/* @__PURE__ */B,z,$,H,V={};n.r(V),n.d(V,{debug:()=>s9,error:()=>lt,fatal:()=>ln,fmt:()=>s5,info:()=>s7,trace:()=>s8,warn:()=>le});var q={};n.r(q),n.d(q,{count:()=>lo,distribution:()=>ll,gauge:()=>ls});var W={};n.r(W),n.d(W,{BrowserClient:()=>rN,OpenFeatureIntegrationHook:()=>p3,SDK_VERSION:()=>G,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>ts,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>tl,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>ta,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>ti,Scope:()=>eY,WINDOW:()=>rR,addBreadcrumb:()=>rJ,addEventProcessor:()=>nx,addIntegration:()=>nR,breadcrumbsIntegration:()=>ii,browserApiErrorsIntegration:()=>io,browserProfilingIntegration:()=>pQ,browserSessionIntegration:()=>ic,browserTracingIntegration:()=>pw,buildLaunchDarklyFlagUsedHandler:()=>p1,captureConsoleIntegration:()=>oE,captureEvent:()=>nd,captureException:()=>nu,captureFeedback:()=>i6,captureMessage:()=>nc,captureSession:()=>nC,chromeStackLineParser:()=>iP,close:()=>nw,consoleLoggingIntegration:()=>oC,contextLinesIntegration:()=>lL,continueTrace:()=>oF,createConsolaReporter:()=>oY,createTransport:()=>iY,createUserFeedbackEnvelope:()=>lE,dedupeIntegration:()=>nB,defaultRequestInstrumentationOptions:()=>pr,defaultStackLineParsers:()=>i$,defaultStackParser:()=>iH,diagnoseSdkConnectivity:()=>p7,endSession:()=>nT,eventFiltersIntegration:()=>nO,eventFromException:()=>rC,eventFromMessage:()=>rA,exceptionFromError:()=>rS,extraErrorDataIntegration:()=>oZ,featureFlagsIntegration:()=>o4,feedbackAsyncIntegration:()=>oS,feedbackIntegration:()=>ox,feedbackSyncIntegration:()=>ox,flush:()=>nb,forceLoad:()=>i4,functionToStringIntegration:()=>nF,geckoStackLineParser:()=>iN,getActiveSpan:()=>tQ,getClient:()=>e9,getCurrentScope:()=>e3,getDefaultIntegrations:()=>i2,getFeedback:()=>ad,getGlobalScope:()=>e5,getIsolationScope:()=>e4,getReplay:()=>fE,getRootSpan:()=>tJ,getSpanDescendants:()=>tY,getSpanStatusFromHttpCode:()=>tA,getTraceData:()=>o5,globalHandlersIntegration:()=>iy,graphqlClientIntegration:()=>lV,growthbookIntegration:()=>p8,httpClientIntegration:()=>lM,httpContextIntegration:()=>ix,inboundFiltersIntegration:()=>nN,init:()=>i3,instrumentAnthropicAiClient:()=>sP,instrumentGoogleGenAIClient:()=>sF,instrumentOpenAiClient:()=>sG,instrumentOutgoingRequests:()=>pi,instrumentSupabaseClient:()=>s2,isEnabled:()=>nS,isInitialized:()=>n_,lastEventId:()=>ny,launchDarklyIntegration:()=>p0,lazyLoadIntegration:()=>o_,linkedErrorsIntegration:()=>ik,logger:()=>V,makeBrowserOfflineTransport:()=>pM,makeFetchTransport:()=>i1,makeMultiplexedTransport:()=>li,metrics:()=>q,moduleMetadataIntegration:()=>lp,onLoad:()=>i5,openFeatureIntegration:()=>p2,opera10StackLineParser:()=>iF,opera11StackLineParser:()=>iz,parameterize:()=>s4,registerSpanErrorInstrumentation:()=>lg,registerWebWorker:()=>hn,replayCanvasIntegration:()=>fQ,replayIntegration:()=>f_,reportPageLoaded:()=>pT,reportingObserverIntegration:()=>lC,rewriteFramesIntegration:()=>lb,sendFeedback:()=>an,setActiveSpanInBrowser:()=>pk,setContext:()=>nf,setCurrentClient:()=>nV,setExtra:()=>nh,setExtras:()=>np,setHttpStatus:()=>tI,setMeasurement:()=>oM,setTag:()=>nm,setTags:()=>ng,setUser:()=>nv,showReportDialog:()=>lT,spanToBaggageHeader:()=>t5,spanToJSON:()=>tV,spanToTraceHeader:()=>tB,spotlightBrowserIntegration:()=>pZ,startBrowserTracingNavigationSpan:()=>pS,startBrowserTracingPageLoadSpan:()=>p_,startInactiveSpan:()=>oU,startNewTrace:()=>o$,startSession:()=>nE,startSpan:()=>oL,startSpanManual:()=>oj,statsigIntegration:()=>p9,supabaseIntegration:()=>s3,suppressTracing:()=>oz,thirdPartyErrorFilterIntegration:()=>lw,unleashIntegration:()=>p4,updateSpanName:()=>t0,webWorkerIntegration:()=>he,winjsStackLineParser:()=>ij,withActiveSpan:()=>oB,withIsolationScope:()=>e8,withScope:()=>e6,zodErrorsIntegration:()=>lx});var K=n(6909);let G="10.25.0",X=globalThis;function Y(){return J(X),X}function J(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||G,t[G]=t[G]||{}}function Q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X,r=n.__SENTRY__=n.__SENTRY__||{},i=r[G]=r[G]||{};return i[e]||(i[e]=t())}let Z="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;n(9404),n(9982),n(7399),n(6970),n(1048),n(2236),n(1650),n(6884),n(8710),n(3617),n(3019),n(8657),n(3380);let ee=Object.prototype.toString;function et(e){switch(ee.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ed(e,Error)}}function en(e,t){return ee.call(e)===`[object ${t}]`}function er(e){return en(e,"ErrorEvent")}function ei(e){return en(e,"DOMError")}function ea(e){return en(e,"String")}function eo(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function es(e){return null===e||eo(e)||"object"!=typeof e&&"function"!=typeof e}function el(e){return en(e,"Object")}function eu(e){return"undefined"!=typeof Event&&ed(e,Event)}function ec(e){return!!(e?.then&&"function"==typeof e.then)}function ed(e,t){try{return e instanceof t}catch{return!1}}function ef(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}function ep(e){return"undefined"!=typeof Request&&ed(e,Request)}function eh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"<unknown>";try{let n,r=e,i=[],a=0,o=0,s=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&a++<5&&(n=function(e,t){let n=[];if(!e?.tagName)return"";if(X.HTMLElement&&e instanceof HTMLElement&&e.dataset){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}n.push(e.tagName.toLowerCase());let r=t?.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(r?.length)r.forEach(e=>{n.push(`[${e[0]}="${e[1]}"]`)});else{e.id&&n.push(`#${e.id}`);let t=e.className;if(t&&ea(t))for(let e of t.split(/\s+/))n.push(`.${e}`)}for(let t of["aria-label","type","name","title","alt"]){let r=e.getAttribute(t);r&&n.push(`[${t}="${r}"]`)}return n.join("")}(r,s),"html"!==n&&(!(a>1)||!(o+3*i.length+n.length>=l)));)i.push(n),o+=n.length,r=r.parentNode;return i.reverse().join(" > ")}catch{return"<unknown>"}}function eg(){try{return X.document.location.href}catch{return""}}function em(e){if(!X.HTMLElement)return null;let t=e;for(let e=0;e<5&&t;e++){if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}let ev=["debug","info","warn","error","log","assert","trace"],ey={};function eb(e){if(!("console"in X))return e();let t=X.console,n={},r=Object.keys(ey);r.forEach(e=>{let r=ey[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}function ew(){return eS().enabled}function e_(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Z&&ew()&&eb(()=>{X.console[e](`Sentry Logger [${e}]:`,...n)})}function eS(){return Z?Q("loggerSettings",()=>({enabled:!1})):{enabled:!1}}let ex={enable:function(){eS().enabled=!0},disable:function(){eS().enabled=!1},isEnabled:ew,log:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];e_("log",...t)},warn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];e_("warn",...t)},error:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];e_("error",...t)}};function eE(e,t,n){if(!(t in e))return;let r=e[t];if("function"!=typeof r)return;let i=n(r);"function"==typeof i&&ek(i,r);try{e[t]=i}catch{Z&&ex.log(`Failed to replace method "${t}" in object`,e)}}function eT(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Z&&ex.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function ek(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,eT(e,"__sentry_original__",t)}catch{}}function eC(e){return e.__sentry_original__}function eA(e){if(et(e))return{message:e.message,name:e.name,stack:e.stack,...eM(e)};if(!eu(e))return e;{let t={type:e.type,target:eI(e.target),currentTarget:eI(e.currentTarget),...eM(e)};return"undefined"!=typeof CustomEvent&&ed(e,CustomEvent)&&(t.detail=e.detail),t}}function eI(e){try{return"undefined"!=typeof Element&&ed(e,Element)?eh(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function eM(e){if("object"!=typeof e||null===e)return{};{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}function eR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function eP(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let i=Math.max(t-60,0);i<5&&(i=0);let a=Math.min(i+140,r);return a>r-5&&(a=r),a===r&&(i=Math.max(a-140,0)),n=n.slice(i,a),i>0&&(n=`'{snip} ${n}`),a<r&&(n+=" {snip}"),n}function eD(e,t){if(!Array.isArray(e))return"";let n=[];for(let t=0;t<e.length;t++){let r=e[t];try{ef(r)?n.push("[VueViewModel]"):n.push(String(r))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function eO(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!ea(e)&&(en(t,"RegExp")?t.test(e):!!ea(t)&&(n?e===t:e.includes(t)))}function eN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.some(t=>eO(e,t,n))}function eL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X.crypto||X.msCrypto;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return r||(r="10000000100040008000100000000000"),r.replace(/[018]/g,e=>(e^(15&16*Math.random())>>e/4).toString(16))}function ej(e){return e.exception?.values?.[0]}function eU(e){let{message:t,event_id:n}=e;if(t)return t;let r=ej(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function eF(e,t,n){let r=e.exception=e.exception||{},i=r.values=r.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type=n||"Error")}function eB(e,t){let n=ej(e);if(!n)return;let r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){let e={...r?.data,...t.data};n.mechanism.data=e}}function ez(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{eT(e,"__sentry_captured__",!0)}catch{}return!1}function e$(){return Date.now()/1e3}function eH(){return(i??(i=function(){let{performance:e}=X;if(!e?.now||!e.timeOrigin)return e$;let t=e.timeOrigin;return()=>(t+e.now())/1e3}()))()}function eV(){return a||(a=function(){let{performance:e}=X;if(!e?.now)return[void 0,"none"];let t=e.now(),n=Date.now(),r=e.timeOrigin?Math.abs(e.timeOrigin+t-n):36e5,i=e.timing?.navigationStart,a="number"==typeof i?Math.abs(i+t-n):36e5;if(r<36e5||a<36e5)if(r<=a)return[e.timeOrigin,"timeOrigin"];else return[i,"navigationStart"];return[n,"dateNow"]}()),a[0]}function eq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||eH(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:eL()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function eW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!t||"object"!=typeof t||n<=0)return t;if(e&&0===Object.keys(t).length)return e;let r={...e};for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=eW(r[e],t[e],n-1));return r}function eK(){return eL().substring(16)}let eG="_sentrySpan";function eX(e,t){t?eT(e,eG,t):delete e[eG]}class eY{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:eL(),sampleRand:Math.random()}}clone(){let e=new eY;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,eX(e,this[eG]),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&eq(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t="function"==typeof e?e(this):e,{tags:n,extra:r,user:i,contexts:a,level:o,fingerprint:s=[],propagationContext:l}=(t instanceof eY?t.getScopeData():el(t)?e:void 0)||{};return this._tags={...this._tags,...n},this._extra={...this._extra,...r},this._contexts={...this._contexts,...a},i&&Object.keys(i).length&&(this._user=i),o&&(this._level=o),s.length&&(this._fingerprint=s),l&&(this._propagationContext=l),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,eX(this,void 0),this._attachments=[],this.setPropagationContext({traceId:eL(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){let n="number"==typeof t?t:100;if(n<=0)return this;let r={timestamp:e$(),...e,message:e.message?eR(e.message,2048):e.message};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:this[eG]}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=eW(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){let n=t?.event_id||eL();if(!this._client)return Z&&ex.warn("No client configured on scope - will not capture exception!"),n;let r=Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){let r=n?.event_id||eL();if(!this._client)return Z&&ex.warn("No client configured on scope - will not capture message!"),r;let i=Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){let n=t?.event_id||eL();return this._client?this._client.captureEvent(e,{...t,event_id:n},this):Z&&ex.warn("No client configured on scope - will not capture event!"),n}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}class eJ{constructor(e,t){let n,r;n=e||new eY,r=t||new eY,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){let t,n=this._pushScope();try{t=e(n)}catch(e){throw this._popScope(),e}return ec(t)?t.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),t)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function eQ(){let e=J(Y());return e.stack=e.stack||new eJ(Q("defaultCurrentScope",()=>new eY),Q("defaultIsolationScope",()=>new eY))}function eZ(e){return eQ().withScope(e)}function e0(e,t){let n=eQ();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function e1(e){return eQ().withScope(()=>e(eQ().getIsolationScope()))}function e2(e){let t=J(e);return t.acs?t.acs:{withIsolationScope:e1,withScope:eZ,withSetScope:e0,withSetIsolationScope:(e,t)=>e1(t),getCurrentScope:()=>eQ().getScope(),getIsolationScope:()=>eQ().getIsolationScope()}}function e3(){return e2(Y()).getCurrentScope()}function e4(){return e2(Y()).getIsolationScope()}function e5(){return Q("globalScope",()=>new eY)}function e6(){let e=e2(Y());for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(2===n.length){let[t,r]=n;return t?e.withSetScope(t,r):e.withScope(r)}return e.withScope(n[0])}function e8(){let e=e2(Y());for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(2===n.length){let[t,r]=n;return t?e.withSetIsolationScope(t,r):e.withIsolationScope(r)}return e.withIsolationScope(n[0])}function e9(){return e3().getClient()}function e7(e){let{traceId:t,parentSpanId:n,propagationSpanId:r}=e.getPropagationContext(),i={trace_id:t,span_id:r||eK()};return n&&(i.parent_span_id=n),i}let te="production";function tt(e){return new tr(t=>{t(e)})}function tn(e){return new tr((t,n)=>{n(e)})}class tr{constructor(e){this._state=0,this._handlers=[],this._runExecutor(e)}then(e,t){return new tr((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new tr((t,n)=>{let r,i;return this.then(t=>{i=!1,r=t,e&&e()},t=>{i=!0,r=t,e&&e()}).then(()=>{i?n(r):t(r)})})}_executeHandlers(){if(0===this._state)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(1===this._state&&e[1](this._value),2===this._state&&e[2](this._value),e[0]=!0)})}_runExecutor(e){let t=(e,t)=>{if(0===this._state){if(ec(t))return void t.then(n,r);this._state=e,this._value=t,this._executeHandlers()}},n=e=>{t(1,e)},r=e=>{t(2,e)};try{e(n,r)}catch(e){r(e)}}}let ti="sentry.source",ta="sentry.sample_rate",to="sentry.previous_trace_sample_rate",ts="sentry.op",tl="sentry.origin",tu="sentry.idle_span_finish_reason",tc="sentry.measurement_unit",td="sentry.measurement_value",tf="sentry.custom_span_name",tp="sentry.profile_id",th="sentry.exclusive_time",tg="sentry-",tm=/^sentry-/;function tv(e){let t=function(e){if(e&&(ea(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce((e,t)=>(Object.entries(tb(t)).forEach(t=>{let[n,r]=t;e[n]=r}),e),{}):tb(e)}(e);if(!t)return;let n=Object.entries(t).reduce((e,t)=>{let[n,r]=t;return n.match(tm)&&(e[n.slice(tg.length)]=r),e},{});return Object.keys(n).length>0?n:void 0}function ty(e){if(e){var t=Object.entries(e).reduce((e,t)=>{let[n,r]=t;return r&&(e[`${tg}${n}`]=r),e},{});return 0!==Object.keys(t).length?Object.entries(t).reduce((e,t,n)=>{let[r,i]=t,a=`${encodeURIComponent(r)}=${encodeURIComponent(i)}`,o=0===n?a:`${e},${a}`;return o.length>8192?(Z&&ex.warn(`Not adding key: ${r} with val: ${i} to baggage header due to exceeding baggage size limits.`),e):o},""):void 0}}function tb(e){return e.split(",").map(e=>{let t=e.indexOf("=");return -1===t?[]:[e.slice(0,t),e.slice(t+1)].map(e=>{try{return decodeURIComponent(e.trim())}catch{return}})}).reduce((e,t)=>{let[n,r]=t;return n&&r&&(e[n]=r),e},{})}let tw=/^o(\d+)\./,t_=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function tS(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{host:n,path:r,pass:i,port:a,projectId:o,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&i?`:${i}`:""}@${n}${a?`:${a}`:""}/${r?`${r}/`:r}${o}`}function tx(e){let t=t_.exec(e);if(!t)return void eb(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});let[n,r,i="",a="",o="",s=""]=t.slice(1),l="",u=s,c=u.split("/");if(c.length>1&&(l=c.slice(0,-1).join("/"),u=c.pop()),u){let e=u.match(/^\d+/);e&&(u=e[0])}return tE({host:a,pass:i,path:l,projectId:u,port:o,protocol:n,publicKey:r})}function tE(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function tT(e){let t,n=e.getOptions(),{host:r}=e.getDsn()||{};if(n.orgId)t=String(n.orgId);else{let e;r&&(e=r.match(tw),t=e?.[1])}return t}function tk(e){let t="string"==typeof e?tx(e):tE(e);if(t&&function(e){if(!Z)return!0;let{port:t,projectId:n,protocol:r}=e;return!["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(ex.error(`Invalid Sentry Dsn: ${t} missing`),!0))&&(n.match(/^\d+$/)?"http"!==r&&"https"!==r?(ex.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):!(t&&isNaN(parseInt(t,10)))||(ex.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(ex.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1))}(t))return t}function tC(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let t=e||e9()?.getOptions();return!!t&&(null!=t.tracesSampleRate||!!t.tracesSampler)}function tA(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"}}return{code:2,message:"internal_error"}}function tI(e,t){e.setAttribute("http.response.status_code",t);let n=tA(t);"unknown_error"!==n.message&&e.setStatus(n)}n(8198),n(7918),n(8900),n(708),n(2657),n(1452),n(6546),n(1749),n(6754),n(6299),n(3643),n(3053),n(1029),n(9155),n(3070),n(3696);let tM="_sentryScope",tR="_sentryIsolationScope";function tP(e){return{scope:e[tM],isolationScope:function(e){if(e){if("object"==typeof e&&"deref"in e&&"function"==typeof e.deref)try{return e.deref()}catch{return}return e}}(e[tR])}}function tD(e){if("boolean"==typeof e)return Number(e);let t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t))&&!(t<0)&&!(t>1))return t}let tO=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function tN(e,t){let n=function(e){let t;if(!e)return;let n=e.match(tO);if(n)return"1"===n[3]?t=!0:"0"===n[3]&&(t=!1),{traceId:n[1],parentSampled:t,parentSpanId:n[2]}}(e),r=tv(t);if(!n?.traceId)return{traceId:eL(),sampleRand:Math.random()};let i=function(e,t){let n=tD(t?.sample_rand);if(void 0!==n)return n;let r=tD(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}(n,r);r&&(r.sample_rand=i.toString());let{traceId:a,parentSpanId:o,parentSampled:s}=n;return{traceId:a,parentSpanId:o,sampled:s,dsc:r||{},sampleRand:i}}function tL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eL(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eK(),n=arguments.length>2?arguments[2]:void 0,r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function tj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eL(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eK(),n=arguments.length>2?arguments[2]:void 0;return`00-${e}-${t}-${n?"01":"00"}`}let tU=!1;function tF(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:tV(e).parent_span_id,a=tP(e).scope;return{parent_span_id:i,span_id:r?a?.getPropagationContext().propagationSpanId||eK():t,trace_id:n}}function tB(e){let{traceId:t,spanId:n}=e.spanContext();return tL(t,n,tq(e))}function tz(e){return e&&e.length>0?e.map(e=>{let{context:{spanId:t,traceId:n,traceFlags:r,...i},attributes:a}=e;return{span_id:t,trace_id:n,sampled:1===r,attributes:a,...i}}):void 0}function t$(e){return"number"==typeof e?tH(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?tH(e.getTime()):eH()}function tH(e){return e>0x2540be3ff?e/1e3:e}function tV(e){var t;if("function"==typeof e.getSpanJSON)return e.getSpanJSON();let{spanId:n,traceId:r}=e.spanContext();if((t=e).attributes&&t.startTime&&t.name&&t.endTime&&t.status){let{attributes:t,startTime:i,name:a,endTime:o,status:s,links:l}=e;return{span_id:n,trace_id:r,data:t,description:a,parent_span_id:"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0,start_timestamp:t$(i),timestamp:t$(o)||void 0,status:tW(s),op:t[ts],origin:t[tl],links:tz(l)}}return{span_id:n,trace_id:r,start_timestamp:0,data:{}}}function tq(e){let{traceFlags:t}=e.spanContext();return 1===t}function tW(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"internal_error"}let tK="_sentryChildSpans",tG="_sentryRootSpan";function tX(e,t){let n=e[tG]||e;eT(t,tG,n),e[tK]?e[tK].add(t):eT(e,tK,new Set([t]))}function tY(e){let t=new Set;return!function e(n){if(!t.has(n)&&tq(n))for(let r of(t.add(n),n[tK]?Array.from(n[tK]):[]))e(r)}(e),Array.from(t)}function tJ(e){return e[tG]||e}function tQ(){let e=e2(Y());return e.getActiveSpan?e.getActiveSpan():e3()[eG]}function tZ(){tU||(eb(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),tU=!0)}function t0(e,t){e.updateName(t),e.setAttributes({[ti]:"custom",[tf]:t})}let t1="_frozenDsc";function t2(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i={environment:n.environment||te,release:n.release,public_key:r,trace_id:e,org_id:tT(t)};return t.emit("createDsc",i),i}function t3(e,t){let n=t.getPropagationContext();return n.dsc||t2(n.traceId,e)}function t4(e){let t=e9();if(!t)return{};let n=tJ(e),r=tV(n),i=r.data,a=n.spanContext().traceState,o=a?.get("sentry.sample_rate")??i[ta]??i[to];function s(e){return("number"==typeof o||"string"==typeof o)&&(e.sample_rate=`${o}`),e}let l=n[t1];if(l)return s(l);let u=a?.get("sentry.dsc"),c=u&&tv(u);if(c)return s(c);let d=t2(e.spanContext().traceId,t),f=i[ti],p=r.description;return"url"!==f&&p&&(d.transaction=p),tC()&&(d.sampled=String(tq(n)),d.sample_rand=a?.get("sentry.sample_rand")??tP(n).scope?.getPropagationContext().sampleRand.toString()),s(d),t.emit("createDsc",d,n),d}function t5(e){return ty(t4(e))}function t6(e,t){let{extra:n,tags:r,user:i,contexts:a,level:o,sdkProcessingMetadata:s,breadcrumbs:l,fingerprint:u,eventProcessors:c,attachments:d,propagationContext:f,transactionName:p,span:h}=t;t8(e,"extra",n),t8(e,"tags",r),t8(e,"user",i),t8(e,"contexts",a),e.sdkProcessingMetadata=eW(e.sdkProcessingMetadata,s,2),o&&(e.level=o),p&&(e.transactionName=p),h&&(e.span=h),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),c.length&&(e.eventProcessors=[...e.eventProcessors,...c]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...f}}function t8(e,t,n){e[t]=eW(e[t],n,1)}function t9(e){let t=X._sentryDebugIds,n=X._debugIds;if(!t&&!n)return{};let r=t?Object.keys(t):[],i=n?Object.keys(n):[];if(u&&r.length===s&&i.length===l)return u;s=r.length,l=i.length,u={},o||(o={});let a=(t,n)=>{for(let r of t){let t=n[r],i=o?.[r];if(i&&u&&t)u[i[0]]=t,o&&(o[r]=[i[0],t]);else if(t){let n=e(r);for(let e=n.length-1;e>=0;e--){let i=n[e],a=i?.filename;if(a&&u&&o){u[a]=t,o[r]=[a,t];break}}}}};return t&&a(r,t),n&&a(i,n),u}n(6139),n(2569);let t7=/\(error: (.*)\)/,ne=/captureMessage|captureException/;function nt(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=t.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[],a=e.split("\n");for(let e=t;e<a.length;e++){let t=a[e];t.length>1024&&(t=t.slice(0,1024));let o=t7.test(t)?t.replace(t7,"$1"):t;if(!o.match(/\S*Error: /)){for(let e of r){let t=e(o);if(t){i.push(t);break}}if(i.length>=50+n)break}}var o=i.slice(n);if(!o.length)return[];let s=Array.from(o);return/sentryWrapped/.test(nn(s).function||"")&&s.pop(),s.reverse(),ne.test(nn(s).function||"")&&(s.pop(),ne.test(nn(s).function||"")&&s.pop()),s.slice(0,50).map(e=>({...e,filename:e.filename||nn(s).filename,function:e.function||"?"}))}}function nn(e){return e[e.length-1]||{}}let nr="<anonymous>";function ni(e){try{if(!e||"function"!=typeof e)return nr;return e.name||nr}catch{return nr}}function na(e){let t=e.exception;if(t){let e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch{}}}function no(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Infinity;try{return function e(t,r){let i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Infinity,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Infinity,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(i=new WeakSet,[function(e){return!!i.has(e)||(i.add(e),!1)},function(e){i.delete(e)}]),[l,u]=s;if(null==r||["boolean","string"].includes(typeof r)||"number"==typeof r&&Number.isFinite(r))return r;let c=function(e,t){try{var r;let i;if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==n.g&&t===n.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(ef(t))return"[VueViewModel]";if(el(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t)return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${ni(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;let a=(r=t,i=Object.getPrototypeOf(r),i?.constructor?i.constructor.name:"null prototype");if(/^HTML(\w*)Element$/.test(a))return`[HTMLElement: ${a}]`;return`[object ${a}]`}catch(e){return`**non-serializable** (${e})`}}(t,r);if(!c.startsWith("[object "))return c;if(r.__sentry_skip_normalization__)return r;let d="number"==typeof r.__sentry_override_normalization_depth__?r.__sentry_override_normalization_depth__:a;if(0===d)return c.replace("object ","");if(l(r))return"[Circular ~]";if(r&&"function"==typeof r.toJSON)try{let t=r.toJSON();return e("",t,d-1,o,s)}catch{}let f=Array.isArray(r)?[]:{},p=0,h=eA(r);for(let t in h){if(!Object.prototype.hasOwnProperty.call(h,t))continue;if(p>=o){f[t]="[MaxProperties ~]";break}let n=h[t];f[t]=e(t,n,d-1,o,s),p++}return u(r),f}("",e,t,r)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function ns(e,t,n,r,i,a){var o,s,l;let u,{normalizeDepth:c=3,normalizeMaxBreadth:d=1e3}=e,f={...t,event_id:t.event_id||n.event_id||eL(),timestamp:t.timestamp||e$()},p=n.integrations||e.integrations.map(e=>e.name);(function(e,t){let{environment:n,release:r,dist:i,maxValueLength:a}=t;e.environment=e.environment||n||te,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i);let o=e.request;o?.url&&(o.url=a?eR(o.url,a):o.url)})(f,e),o=f,(s=p).length>0&&(o.sdk=o.sdk||{},o.sdk.integrations=[...o.sdk.integrations||[],...s]),i&&i.emit("applyFrameMetadata",t),void 0===t.type&&(l=f,u=t9(e.stackParser),l.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.filename&&(e.debug_id=u[e.filename])})}));let h=function(e,t){if(!t)return e;let n=e?e.clone():new eY;return n.update(t),n}(r,n.captureContext);n.mechanism&&eB(f,n.mechanism);let g=i?i.getEventProcessors():[],m=e5().getScopeData();a&&t6(m,a.getScopeData()),h&&t6(m,h.getScopeData());let v=[...n.attachments||[],...m.attachments];return v.length&&(n.attachments=v),!function(e,t){var n,r,i,a,o,s,l,u;let c,d,{fingerprint:f,span:p,breadcrumbs:h,sdkProcessingMetadata:g}=t;(function(e,t){let{extra:n,tags:r,user:i,contexts:a,level:o,transactionName:s}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(a).length&&(e.contexts={...a,...e.contexts}),o&&(e.level=o),s&&"transaction"!==e.type&&(e.transaction=s)})(e,t),p&&((n=e).contexts={trace:tF(r=p),...n.contexts},n.sdkProcessingMetadata={dynamicSamplingContext:t4(r),...n.sdkProcessingMetadata},(c=tV(tJ(r)).description)&&!n.transaction&&"transaction"===n.type&&(n.transaction=c)),i=e,a=f,i.fingerprint=i.fingerprint?Array.isArray(i.fingerprint)?i.fingerprint:[i.fingerprint]:[],a&&(i.fingerprint=i.fingerprint.concat(a)),i.fingerprint.length||delete i.fingerprint,o=e,s=h,d=[...o.breadcrumbs||[],...s],o.breadcrumbs=d.length?d:void 0,l=e,u=g,l.sdkProcessingMetadata={...l.sdkProcessingMetadata,...u}}(f,m),(function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;try{let i=function e(t,n,r,i){let a=r[i];if(!t||!a)return t;let o=a({...t},n);return(Z&&null===o&&ex.log(`Event processor "${a.id||"?"}" dropped event`),ec(o))?o.then(t=>e(t,n,r,i+1)):e(o,n,r,i+1)}(t,n,e,r);return ec(i)?i:tt(i)}catch(e){return tn(e)}})([...g,...m.eventProcessors],f,n).then(e=>(e&&function(e){let t={};if(e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})}),0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(e=>{let[t,r]=e;n.push({type:"sourcemap",code_file:t,debug_id:r})})}(e),"number"==typeof c&&c>0)?function(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:no(e.data,t,n)}}))},...e.user&&{user:no(e.user,t,n)},...e.contexts&&{contexts:no(e.contexts,t,n)},...e.extra&&{extra:no(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=no(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(e=>({...e,...e.data&&{data:no(e.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=no(e.contexts.flags,3,n)),r}(e,c,d):e)}let nl=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function nu(e,t){return e3().captureException(e,function(e){if(e){var t;return(t=e)instanceof eY||"function"==typeof t||Object.keys(e).some(e=>nl.includes(e))?{captureContext:e}:e}}(t))}function nc(e,t){let n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return e3().captureMessage(e,n,r)}function nd(e,t){return e3().captureEvent(e,t)}function nf(e,t){e4().setContext(e,t)}function np(e){e4().setExtras(e)}function nh(e,t){e4().setExtra(e,t)}function ng(e){e4().setTags(e)}function nm(e,t){e4().setTag(e,t)}function nv(e){e4().setUser(e)}function ny(){return e4().lastEventId()}async function nb(e){let t=e9();return t?t.flush(e):(Z&&ex.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function nw(e){let t=e9();return t?t.close(e):(Z&&ex.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function n_(){return!!e9()}function nS(){let e=e9();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function nx(e){e4().addEventProcessor(e)}function nE(e){var t;let n,r,i=e4(),a=e3(),{userAgent:o}=X.navigator||{},s=(t={user:a.getUser()||i.getUser(),...o&&{userAgent:o},...e},n=eH(),r={sid:eL(),init:!0,timestamp:n,started:n,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>{var e;return e=r,{sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}},t&&eq(r,t),r),l=i.getSession();return l?.status==="ok"&&eq(l,{status:"exited"}),nT(),i.setSession(s),s}function nT(){let e,t=e4(),n=e3().getSession()||t.getSession();n&&(e={},"ok"===n.status&&(e={status:"exited"}),eq(n,e)),nk(),t.setSession()}function nk(){let e=e4(),t=e9(),n=e.getSession();n&&t&&t.captureSession(n)}function nC(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?nT():nk()}let nA=[];function nI(e,t){for(let n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function nM(e,t,n){if(n[t.name]){Z&&ex.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,-1===nA.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),nA.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){let n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if("function"==typeof t.processEvent){let n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}Z&&ex.log(`Integration installed: ${t.name}`)}function nR(e){let t=e9();if(!t){Z&&ex.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function nP(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}let nD=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],nO=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"EventFilters",setup(n){e=nL(t,n.getOptions())},processEvent:(n,r,i)=>(e||(e=nL(t,i.getOptions())),!function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(!t?.length)return!1;let n=e.transaction;return!!n&&eN(n,t)}(e,t.ignoreTransactions))return Z&&ex.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${eU(e)}`),!0}else{var n,r,i;if(n=e,r=t.ignoreErrors,r?.length&&nP(n).some(e=>eN(e,r)))return Z&&ex.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${eU(e)}`),!0;if(i=e,i.exception?.values?.length&&!i.message&&!i.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))return Z&&ex.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${eU(e)}`),!0;if(function(e,t){if(!t?.length)return!1;let n=nj(e);return!!n&&eN(n,t)}(e,t.denyUrls))return Z&&ex.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${eU(e)}.
Url: ${nj(e)}`),!0;if(!function(e,t){if(!t?.length)return!0;let n=nj(e);return!n||eN(n,t)}(e,t.allowUrls))return Z&&ex.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${eU(e)}.
Url: ${nj(e)}`),!0}return!1}(n,e)?n:null)}},nN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...nO(e),name:"InboundFilters"}};function nL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:nD],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function nj(e){try{let t=[...e.exception?.values??[]].reverse().find(e=>e.mechanism?.parent_id===void 0&&e.stacktrace?.frames?.length),n=t?.stacktrace?.frames;return n?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch{return Z&&ex.error(`Cannot extract url for event ${eU(e)}`),null}}n(3051);let nU=new WeakMap,nF=()=>({name:"FunctionToString",setupOnce(){c=Function.prototype.toString;try{Function.prototype.toString=function(){let e=eC(this),t=nU.has(e9())&&void 0!==e?e:this;for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return c.apply(t,r)}}catch{}},setup(e){nU.set(e,!0)}}),nB=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{var n,r,i,a,o,s;let l,u,c,d;if(n=t,(r=e)&&(i=n,a=r,l=i.message,u=a.message,(l||u)&&(!l||u)&&(l||!u)&&l===u&&n$(i,a)&&nz(i,a)&&1||(o=n,s=r,c=nH(s),d=nH(o),c&&d&&c.type===d.type&&c.value===d.value&&n$(o,s)&&nz(o,s))))return Z&&ex.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function nz(e,t){let n=na(e),r=na(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let e=0;e<r.length;e++){let t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function n$(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function nH(e){return e.exception?.values?.[0]}function nV(e){e3().setClient(e)}function nq(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function nW(e,t,n){let r;return t||`${nq(e)}${e.projectId}/envelope/?${r={sentry_version:"7"},e.publicKey&&(r.sentry_key=e.publicKey),n&&(r.sentry_client=`${n.name}/${n.version}`),new URLSearchParams(r).toString()}`}function nK(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[e,t]}function nG(e,t){for(let n of e[1]){let e=n[0].type;if(t(n,e))return!0}return!1}function nX(e,t){return nG(e,(e,n)=>t.includes(n))}function nY(e){let t=J(X);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function nJ(e){let[t,n]=e,r=JSON.stringify(t);function i(e){"string"==typeof r?r="string"==typeof e?r+e:[nY(r),e]:r.push("string"==typeof e?nY(e):e)}for(let e of n){let[t,n]=e;if(i(`
${JSON.stringify(t)}
`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch{e=JSON.stringify(no(n))}i(e)}}return"string"==typeof r?r:function(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;for(let r of e)t.set(r,n),n+=r.length;return t}(r)}let nQ={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function nZ(e){if(!e?.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function n0(e,t,n,r){let i=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:tS(r)},...i&&{trace:i}}}function n1(e){ex.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function n2(e,t){if(!t?.length||!e.description)return!1;for(let r of t){var n;if("string"==typeof(n=r)||n instanceof RegExp){if(eO(e.description,r))return Z&&n1(e),!0;continue}if(!r.name&&!r.op)continue;let t=!r.name||eO(e.description,r.name),i=!r.op||e.op&&eO(e.op,r.op);if(t&&i)return Z&&n1(e),!0}return!1}function n3(e,t){return t?e6(t,()=>{let n=tQ(),r=n?tF(n):e7(t);return[n?t4(n):t3(e,t),r]}):[void 0,void 0]}let n4={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function n5(e,t,n){let r=!(arguments.length>3)||void 0===arguments[3]||arguments[3];n&&(!e[t]||r)&&(e[t]=n)}function n6(e,t){var n;let r=n7(),i=(n=e,n7().get(n));void 0===i?r.set(e,[t]):(r.set(e,[...i,t]),i.length>=100&&n9(e,i))}function n8(e){var t;let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e3(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n6,a=r?.getClient()??e9();if(!a){Z&&ex.warn("No client available to capture log.");return}let{release:o,environment:s,enableLogs:l=!1,beforeSendLog:u}=a.getOptions();if(!l){Z&&ex.warn("logging option not enabled, log will not be captured.");return}let[,c]=n3(a,r),d={...e.attributes},{user:{id:f,email:p,username:h}}=(t=r,t6(n=e5().getScopeData(),e4().getScopeData()),t6(n,t.getScopeData()),n);n5(d,"user.id",f,!1),n5(d,"user.email",p,!1),n5(d,"user.name",h,!1),n5(d,"sentry.release",o),n5(d,"sentry.environment",s);let{name:g,version:m}=a.getSdkMetadata()?.sdk??{};n5(d,"sentry.sdk.name",g),n5(d,"sentry.sdk.version",m);let v=a.getIntegrationByName("Replay"),y=v?.getReplayId(!0);n5(d,"sentry.replay_id",y),y&&v?.getRecordingMode()==="buffer"&&n5(d,"sentry._internal.replay_is_buffering",!0);let b=e.message;if(eo(b)){let{__sentry_template_string__:e,__sentry_template_values__:t=[]}=b;t?.length&&(d["sentry.message.template"]=e),t.forEach((e,t)=>{d[`sentry.message.parameter.${t}`]=e})}let w=r[eG];n5(d,"sentry.trace.parent_span_id",w?.spanContext().spanId);let _={...e,attributes:d};a.emit("beforeCaptureLog",_);let S=u?eb(()=>u(_)):_;if(!S){a.recordDroppedEvent("before_send","log_item",1),Z&&ex.warn("beforeSendLog returned null, log will not be captured.");return}let{level:x,message:E,attributes:T={},severityNumber:k}=S;i(a,{timestamp:eH(),level:x,body:E,trace_id:c?.trace_id,severity_number:k??n4[x],attributes:Object.keys(T).reduce((e,t)=>(e[t]=function(e){switch(typeof e){case"number":if(Number.isInteger(e))return{value:e,type:"integer"};return{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}(T[t]),e),{})}),a.emit("afterCaptureLog",S)}function n9(e,t){var n,r,i,a;let o,s=t??(a=e,n7().get(a))??[];if(0===s.length)return;let l=e.getOptions(),u=(n=l._metadata,r=l.tunnel,i=e.getDsn(),o={},n?.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&i&&(o.dsn=tS(i)),nK(o,[[{type:"log",item_count:s.length,content_type:"application/vnd.sentry.items.log+json"},{items:s}]]));n7().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(u)}function n7(){return Q("clientToLogBufferMap",()=>new WeakMap)}function re(e,t,n){let r=!(arguments.length>3)||void 0===arguments[3]||arguments[3];!n||!r&&t in e||(e[t]=n)}function rt(e,t){var n;let r=rr(),i=(n=e,rr().get(n));void 0===i?r.set(e,[t]):(r.set(e,[...i,t]),i.length>=1e3&&rn(e,i))}function rn(e,t){var n,r,i,a;let o,s=t??(a=e,rr().get(a))??[];if(0===s.length)return;let l=e.getOptions(),u=(n=l._metadata,r=l.tunnel,i=e.getDsn(),o={},n?.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&i&&(o.dsn=tS(i)),nK(o,[[{type:"trace_metric",item_count:s.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:s}]]));rr().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(u)}function rr(){return Q("clientToMetricBufferMap",()=>new WeakMap)}let ri="Not capturing exception because it's already been captured.",ra="Discarded session because of missing or non-string release",ro=Symbol.for("SentryInternalError"),rs=Symbol.for("SentryDoNotSendEventError");function rl(e){return{message:e,[ro]:!0}}function ru(e){return{message:e,[rs]:!0}}function rc(e){return!!e&&"object"==typeof e&&ro in e}function rd(e){return!!e&&"object"==typeof e&&rs in e}function rf(e,t,n,r,i){let a,o=0;e.on(n,()=>{o=0,clearTimeout(a)}),e.on(t,t=>{(o+=r(t))>=8e5?i(e):(clearTimeout(a),a=setTimeout(()=>{i(e)},5e3))}),e.on("flush",()=>{i(e)})}class rp{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=tk(e.dsn):Z&&ex.warn("No DSN provided, client will not send events."),this._dsn){const t=nW(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}this._options.enableLogs&&rf(this,"afterCaptureLog","flushLogs",rv,n9),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&rf(this,"afterCaptureMetric","flushMetrics",rm,rn)}captureException(e,t,n){let r=eL();if(ez(e))return Z&&ex.log(ri),r;let i={event_id:r,...t};return this._process(this.eventFromException(e,i).then(e=>this._captureEvent(e,i,n))),i.event_id}captureMessage(e,t,n,r){let i={event_id:eL(),...n},a=eo(e)?e:String(e),o=es(e)?this.eventFromMessage(a,t,i):this.eventFromException(e,i);return this._process(o.then(e=>this._captureEvent(e,i,r))),i.event_id}captureEvent(e,t,n){let r=eL();if(t?.originalException&&ez(t.originalException))return Z&&ex.log(ri),r;let i={event_id:r,...t},a=e.sdkProcessingMetadata||{},o=a.capturedSpanScope,s=a.capturedSpanIsolationScope;return this._process(this._captureEvent(e,i,o||n,s)),i.event_id}captureSession(e){this.sendSession(e),eq(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){let t=this._transport;if(!t)return!0;this.emit("flush");let n=await this._isClientDoneProcessing(e),r=await t.flush(e);return n&&r}async close(e){let t=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),t}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(e=>{let{name:t}=e;return t.startsWith("Spotlight")}))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];nM(this,e,this._integrations),t||nI(this,[e])}sendEvent(e){var t,n,r;let i,a,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",e,s);let l=(t=this._dsn,n=this._options._metadata,r=this._options.tunnel,i=nZ(n),a=e.type&&"replay_event"!==e.type?e.type:"event",!function(e,t){if(!t)return;let n=e.sdk||{};e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0}}(e,n?.sdk),o=n0(e,i,r,t),delete e.sdkProcessingMetadata,nK(o,[[{type:a},e]]));for(let e of s.attachments||[])l=function(e,t){let[n,r]=e;return[n,[...r,t]]}(l,function(e){let t="string"==typeof e.data?nY(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}(e));this.sendEnvelope(l).then(t=>this.emit("afterSendEvent",e,t))}sendSession(e){var t,n,r;let i,{release:a,environment:o=te}=this._options;if("aggregates"in e){let t=e.attrs||{};if(!t.release&&!a){Z&&ex.warn(ra);return}t.release=t.release||a,t.environment=t.environment||o,e.attrs=t}else{if(!e.release&&!a){Z&&ex.warn(ra);return}e.release=e.release||a,e.environment=e.environment||o}this.emit("beforeSendSession",e);let s=(t=this._dsn,n=this._options._metadata,r=this._options.tunnel,i=nZ(n),nK({sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:tS(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]]));this.sendEnvelope(s)}recordDroppedEvent(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this._options.sendClientReports){let r=`${e}:${t}`;Z&&ex.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){let n=this._hooks[e]=this._hooks[e]||new Set,r=function(){return t(...arguments)};return n.add(r),()=>{n.delete(r)}}emit(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=this._hooks[e];i&&i.forEach(e=>e(...n))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(e){return Z&&ex.error("Error while sending envelope:",e),{}}return Z&&ex.error("Transport disabled"),{}}_setupIntegrations(){var e;let t,{integrations:n}=this._options;this._integrations=(e=this,t={},n.forEach(n=>{n&&nM(e,n,t)}),t),nI(this,n)}_updateSessionFromEvent(e,t){let n="fatal"===t.level,r=!1,i=t.exception?.values;if(i){for(let e of(r=!0,n=!1,i))if(e.mechanism?.handled===!1){n=!0;break}}let a="ok"===e.status;(a&&0===e.errors||a&&n)&&(eq(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}async _isClientDoneProcessing(e){let t=0;for(;!e||t<e;){if(await new Promise(e=>setTimeout(e,1)),!this._numProcessing)return!0;t++}return!1}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r){let i=this.getOptions(),a=Object.keys(this._integrations);return!t.integrations&&a?.length&&(t.integrations=a),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),ns(i,e,t,n,this,r).then(e=>(null===e||(this.emit("postprocessEvent",e,t),e.contexts={trace:e7(n),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:t3(this,n),...e.sdkProcessingMetadata}),e))}_captureEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e3(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e4();return Z&&rh(e)&&ex.log(`Captured error event \`${nP(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then(e=>e.event_id,e=>{Z&&(rd(e)?ex.log(e.message):rc(e)?ex.warn(e.message):ex.warn(e))})}_processEvent(e,t,n,r){let i=this.getOptions(),{sampleRate:a}=i,o=rg(e),s=rh(e),l=e.type||"error",u=`before send for type \`${l}\``,c=void 0===a?void 0:tD(a);if(s&&"number"==typeof c&&Math.random()>c)return this.recordDroppedEvent("sample_rate","error"),tn(ru(`Discarding event because it's not included in the random sample (sampling rate = ${a})`));let d="replay_event"===l?"replay":l;return this._prepareEvent(e,t,n,r).then(e=>{if(null===e)throw this.recordDroppedEvent("event_processor",d),ru("An event processor returned `null`, will not send event.");return t.data&&!0===t.data.__sentry__?e:function(e,t){let n=`${t} must return \`null\` or a valid event.`;if(ec(e))return e.then(e=>{if(!el(e)&&null!==e)throw rl(n);return e},e=>{throw rl(`${t} rejected with ${e}`)});if(!el(e)&&null!==e)throw rl(n);return e}(function(e,t,n,r){let{beforeSend:i,beforeSendTransaction:a,beforeSendSpan:o,ignoreSpans:s}=t,l=n;if(rh(l)&&i)return i(l,r);if(rg(l)){if(o||s){let t=function(e){let{trace_id:t,parent_span_id:n,span_id:r,status:i,origin:a,data:o,op:s}=e.contexts?.trace??{};return{data:o??{},description:e.transaction,op:s,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:a,profile_id:o?.[tp],exclusive_time:o?.[th],measurements:e.measurements,is_segment:!0}}(l);if(s?.length&&n2(t,s))return null;if(o){let e=o(t);if(e)l=eW(n,{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[tp]:e.profile_id},...e.exclusive_time&&{[th]:e.exclusive_time}}}},measurements:e.measurements});else tZ()}if(l.spans){let t=[],n=l.spans;for(let e of n){if(s?.length&&n2(e,s)){!function(e,t){let n=t.parent_span_id,r=t.span_id;if(n)for(let t of e)t.parent_span_id===r&&(t.parent_span_id=n)}(n,e);continue}if(o){let n=o(e);n?t.push(n):(tZ(),t.push(e))}else t.push(e)}let r=l.spans.length-t.length;r&&e.recordDroppedEvent("before_send","span",r),l.spans=t}}if(a){if(l.spans){let e=l.spans.length;l.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return a(l,r)}}return l}(this,i,e,t),u)}).then(i=>{if(null===i){if(this.recordDroppedEvent("before_send",d),o){let t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw ru(`${u} returned \`null\`, will not send event.`)}let a=n.getSession()||r.getSession();if(s&&a&&this._updateSessionFromEvent(a,i),o){let e=(i.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(i.spans?i.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}let l=i.transaction_info;return o&&l&&i.transaction!==e.transaction&&(i.transaction_info={...l,source:"custom"}),this.sendEvent(i,t),i}).then(null,e=>{if(rd(e)||rc(e))throw e;throw this.captureException(e,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:e}),rl(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(e=>{let[t,n]=e,[r,i]=t.split(":");return{reason:r,category:i,quantity:n}})}_flushOutcomes(){var e;Z&&ex.log("Flushing outcomes...");let t=this._clearOutcomes();if(0===t.length){Z&&ex.log("No outcomes to send");return}if(!this._dsn){Z&&ex.log("No dsn provided, will not send outcomes");return}Z&&ex.log("Sending outcomes:",t);let n=nK((e=this._options.tunnel&&tS(this._dsn))?{dsn:e}:{},[[{type:"client_report"},{timestamp:e$(),discarded_events:t}]]);this.sendEnvelope(n)}}function rh(e){return void 0===e.type}function rg(e){return"transaction"===e.type}function rm(e){let t=0;return e.name&&(t+=2*e.name.length),(t+=8)+ry(e.attributes)}function rv(e){let t=0;return e.message&&(t+=2*e.message.length),t+ry(e.attributes)}function ry(e){if(!e)return 0;let t=0;return Object.values(e).forEach(e=>{Array.isArray(e)?t+=e.length*rb(e[0]):es(e)?t+=rb(e):t+=100}),t}function rb(e){return"string"==typeof e?2*e.length:"number"==typeof e?8:4*("boolean"==typeof e)}var rw=n(1955);function r_(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")}function rS(e,t){var n,r;let i,a,o=rE(e,t),s={type:(n=t,!(i=n?.name)&&rk(n)?n.message&&Array.isArray(n.message)&&2==n.message.length?n.message[0]:"WebAssembly.Exception":i),value:(r=t,a=r?.message,rk(r)?Array.isArray(r.message)&&2==r.message.length?r.message[1]:"wasm exception":a?a.error&&"string"==typeof a.error.message?a.error.message:a:"No error message")};return o.length&&(s.stacktrace={frames:o}),void 0===s.type&&""===s.value&&(s.value="Unrecoverable error caught"),s}function rx(e,t){return{exception:{values:[rS(e,t)]}}}function rE(e,t){var n,r;let i=t.stacktrace||t.stack||"",a=(n=t)&&rT.test(n.message)?1:0,o="number"==typeof(r=t).framesToPop?r.framesToPop:0;try{return e(i,a,o)}catch{}return[]}let rT=/Minified React error #\d+;/i;function rk(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function rC(e,t,n,r){let i=rI(e,t,n?.syntheticException||void 0,r);return eB(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),tt(i)}function rA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=rM(e,t,r?.syntheticException||void 0,i);return a.level=n,r?.event_id&&(a.event_id=r.event_id),tt(a)}function rI(e,t,n,r,i){let a;if(er(t)&&t.error)return rx(e,t.error);if(ei(t)||en(t,"DOMException")){if("stack"in t)a=rx(e,t);else{let i=t.name||(ei(t)?"DOMError":"DOMException"),o=t.message?`${i}: ${t.message}`:i;eF(a=rM(e,o,n,r),o)}return"code"in t&&(a.tags={...a.tags,"DOMException.code":`${t.code}`}),a}return et(t)?rx(e,t):(el(t)||eu(t)?eB(a=function(e,t,n,r){let i=e9(),a=i?.getOptions().normalizeDepth,o=function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}(t),s={__serialized__:function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400,i=no(t,n);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>r?e(t,n-1,r):i}(t,a)};if(o)return{exception:{values:[rS(e,o)]},extra:s};let l={exception:{values:[{type:eu(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:function(e,t){let n,{isUnhandledRejection:r}=t,i=((n=Object.keys(eA(e))).sort(),n[0]?n.join(", "):"[object has no keys]"),a=r?"promise rejection":"exception";if(er(e))return`Event \`ErrorEvent\` captured as ${a} with message \`${e.message}\``;if(eu(e)){let t=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}(e);return`Event \`${t}\` (type=${e.type}) captured as ${a}`}return`Object captured as ${a} with keys: ${i}`}(t,{isUnhandledRejection:r})}]},extra:s};if(n){let t=rE(e,n);t.length&&(l.exception.values[0].stacktrace={frames:t})}return l}(e,t,n,i),{synthetic:!0}):(eF(a=rM(e,t,n,r),`${t}`,void 0),eB(a,{synthetic:!0})),a)}function rM(e,t,n,r){let i={};if(r&&n){let r=rE(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]}),eB(i,{synthetic:!0})}if(eo(t)){let{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}let rR=X,rP=0;function rD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof e)return e;try{let t=e.__sentry_wrapped__;if(t)if("function"==typeof t)return t;else return e;if(eC(e))return e}catch{return e}let n=function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];try{let n=r.map(e=>rD(e,t));return e.apply(this,n)}catch(e){throw rP++,setTimeout(()=>{rP--}),e6(n=>{n.addEventProcessor(e=>(t.mechanism&&(eF(e,void 0,void 0),eB(e,t.mechanism)),e.extra={...e.extra,arguments:r},e)),nu(e)}),e}};try{for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch{}ek(n,e),eT(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}function rO(){let e=eg(),{referrer:t}=rR.document||{},{userAgent:n}=rR.navigator||{};return{url:e,headers:{...t&&{Referer:t},...n&&{"User-Agent":n}}}}class rN extends rp{constructor(e){const t={release:"45bd3d0",sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e};!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[t],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"npm",i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${r}:@sentry/${e}`,version:G})),version:G}),e._metadata=i}(t,"browser",["browser"],rR.SENTRY_SDK_SOURCE||(0,rw.e)()),t._metadata?.sdk&&(t._metadata.sdk.settings={infer_ip:t.sendDefaultPii?"auto":"never",...t._metadata.sdk.settings}),super(t);const{sendDefaultPii:n,sendClientReports:r,enableLogs:i,_experiments:a,enableMetrics:o}=this._options,s=o??a?.enableMetrics??!0;rR.document&&(r||i||s)&&rR.document.addEventListener("visibilitychange",()=>{"hidden"===rR.document.visibilityState&&(r&&this._flushOutcomes(),i&&n9(this),s&&rn(this))}),n&&this.on("beforeSendSession",r_)}eventFromException(e,t){return rC(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return rA(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}}let rL={},rj={};function rU(e,t){rL[e]=rL[e]||[],rL[e].push(t)}function rF(e,t){if(!rj[e]){rj[e]=!0;try{t()}catch(t){Z&&ex.error(`Error while instrumenting ${e}`,t)}}}function rB(e,t){let n=e&&rL[e];if(n)for(let r of n)try{r(t)}catch(t){Z&&ex.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ni(r)}
Error:`,t)}}function rz(e){let t="console";rU(t,e),rF(t,r$)}function r$(){"console"in X&&ev.forEach(function(e){e in X.console&&eE(X.console,e,function(t){return ey[e]=t,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];rB("console",{args:n,level:e});let i=ey[e];i?.apply(X.console,n)}})})}function rH(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function rV(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in X))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(rH(X.fetch))return!0;let e=!1,t=X.document;if(t&&"function"==typeof t.createElement)try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=rH(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){Z&&ex.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function rq(e,t){let n="fetch";rU(n,e),rF(n,()=>rW(void 0,t))}function rW(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(!t||rV())&&eE(X,"fetch",function(t){return function(){let n=Error();for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];let{method:o,url:s}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,n]=e;return{url:rY(t),method:rX(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:rY(t),method:rX(t,"method")?String(t.method).toUpperCase():"GET"}}(i),l={args:i,fetchData:{method:o,url:s},startTimestamp:1e3*eH(),virtualError:n,headers:function(e){let[t,n]=e;try{if("object"==typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if(ep(t))return new Headers(t.headers)}catch{}}(i)};return e||rB("fetch",{...l}),t.apply(X,i).then(async t=>(e?e(t):rB("fetch",{...l,endTimestamp:1e3*eH(),response:t}),t),e=>{if(rB("fetch",{...l,endTimestamp:1e3*eH(),error:e}),et(e)&&void 0===e.stack&&(e.stack=n.stack,eT(e,"framesToPop",1)),e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{let t=new URL(l.fetchData.url);e.message=`${e.message} (${t.host})`}catch{}throw e})}})}async function rK(e,t){if(e?.body){let n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},9e4),a=!0;for(;a;){let e;try{e=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:i}=await r.read();clearTimeout(e),i&&(t(),a=!1)}catch{a=!1}finally{clearTimeout(e)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function rG(e){let t;try{t=e.clone()}catch{return}rK(t,()=>{rB("fetch-body-resolved",{endTimestamp:1e3*eH(),response:e})})}function rX(e,t){return!!e&&"object"==typeof e&&!!e[t]}function rY(e){return"string"==typeof e?e:e?rX(e,"url")?e.url:e.toString?e.toString():"":""}function rJ(e,t){let n=e9(),r=e4();if(!n)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:a=100}=n.getOptions();if(a<=0)return;let o={timestamp:e$(),...e},s=i?eb(()=>i(o,t)):o;null!==s&&(n.emit&&n.emit("beforeAddBreadcrumb",s,t),r.addBreadcrumb(s,a))}function rQ(e){return"warn"===e?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}function rZ(e){if(void 0!==e)return e>=400&&e<500?"warning":e>=500?"error":void 0}function r0(e){return"isRelative"in e}function r1(e,t){let n=e.indexOf("://")<=0&&0!==e.indexOf("//"),r=t??(n?"thismessage:/":void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;let t=new URL(e,r);if(n)return{isRelative:n,pathname:t.pathname,search:t.search,hash:t.hash};return t}catch{}}function r2(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function r3(e){return e.split(/[?#]/,1)[0]}function r4(e){rU("dom",e),rF("dom",r5)}function r5(){if(!X.document)return;let e=rB.bind(null,"dom"),t=r6(e,!0);X.document.addEventListener("click",t,!1),X.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{let n=X[t]?.prototype;n?.hasOwnProperty?.("addEventListener")&&(eE(n,"addEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{let r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=r[n]=r[n]||{refCount:0};if(!a.handler){let r=r6(e);a.handler=r,t.call(this,n,r,i)}a.refCount++}catch{}return t.call(this,n,r,i)}}),eE(n,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{let n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch{}return e.call(this,t,n,r)}}))})}function r6(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{var r;if(!n||n._sentryCaptured)return;let i=function(e){try{return e.target}catch{return null}}(n);if(r=n.type,"keypress"===r&&(!i?.tagName||"INPUT"!==i.tagName&&"TEXTAREA"!==i.tagName&&!i.isContentEditable&&1))return;eT(n,"_sentryCaptured",!0),i&&!i._sentryId&&eT(i,"_sentryId",eL());let a="keypress"===n.type?"input":n.type;!function(e){if(e.type!==f)return!1;try{if(!e.target||e.target._sentryId!==p)return!1}catch{}return!0}(n)&&(e({event:n,name:a,global:t}),f=n.type,p=i?i._sentryId:void 0),clearTimeout(d),d=X.setTimeout(()=>{p=void 0,f=void 0},1e3)}}let r8="__sentry_xhr_v3__";function r9(e){rU("xhr",e),rF("xhr",r7)}function r7(){if(!X.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){let r=Error(),i=1e3*eH(),a=ea(n[0])?n[0].toUpperCase():void 0,o=function(e){if(ea(e))return e;try{return e.toString()}catch{}}(n[1]);if(!a||!o)return e.apply(t,n);t[r8]={method:a,url:o,request_headers:{}},"POST"===a&&o.match(/sentry_key/)&&(t.__sentry_own_request__=!0);let s=()=>{let e=t[r8];if(e&&4===t.readyState){try{e.status_code=t.status}catch{}rB("xhr",{endTimestamp:1e3*eH(),startTimestamp:i,xhr:t,virtualError:r})}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(s(),e.apply(t,n))}):t.addEventListener("readystatechange",s),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){let[r,i]=n,a=t[r8];return a&&ea(r)&&ea(i)&&(a.request_headers[r.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){let r=t[r8];return r&&(void 0!==n[0]&&(r.body=n[0]),rB("xhr",{startTimestamp:1e3*eH(),xhr:t})),e.apply(t,n)}})}function ie(e){let t="history";rU(t,e),rF(t,it)}function it(){function e(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=n.length>2?n[2]:void 0;if(i){let t=h,r=function(e){try{return new URL(e,X.location.origin).toString()}catch{return e}}(String(i));if(h=r,t===r)return e.apply(this,n);rB("history",{from:t,to:r})}return e.apply(this,n)}}X.addEventListener("popstate",()=>{let e=X.location.href,t=h;h=e,t===e||rB("history",{from:t,to:e})}),"history"in X&&X.history&&(eE(X.history,"pushState",e),eE(X.history,"replaceState",e))}let ir="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ii=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){var n,r,i,a,o,s,l;t.console&&rz((n=e,function(e){if(e9()!==n)return;let t={category:"console",data:{arguments:e.args,logger:"console"},level:rQ(e.level),message:eD(e.args," ")};if("assert"===e.level)if(!1!==e.args[0])return;else t.message=`Assertion failed: ${eD(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1);rJ(t,{input:e.args,level:e.level})})),t.dom&&r4((r=e,i=t.dom,function(e){let t,n;if(e9()!==r)return;let a="object"==typeof i?i.serializeAttribute:void 0,o="object"==typeof i&&"number"==typeof i.maxStringLength?i.maxStringLength:void 0;o&&o>1024&&(ir&&ex.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=1024),"string"==typeof a&&(a=[a]);try{var s;let r=e.event,i=(s=r)&&s.target?r.target:r;t=eh(i,{keyAttrs:a,maxStringLength:o}),n=em(i)}catch{t="<unknown>"}if(0===t.length)return;let l={category:`ui.${e.name}`,message:t};n&&(l.data={"ui.component_name":n}),rJ(l,{event:e.event,name:e.name,global:e.global})})),t.xhr&&r9((a=e,function(e){if(e9()!==a)return;let{startTimestamp:t,endTimestamp:n}=e,r=e.xhr[r8];if(!t||!n||!r)return;let{method:i,url:o,status_code:s,body:l}=r,u={xhr:e.xhr,input:l,startTimestamp:t,endTimestamp:n},c={category:"xhr",data:{method:i,url:o,status_code:s},type:"http",level:rZ(s)};a.emit("beforeOutgoingRequestBreadcrumb",c,u),rJ(c,u)})),t.fetch&&rq((o=e,function(e){if(e9()!==o)return;let{startTimestamp:t,endTimestamp:n}=e;if(n&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.fetchData.method,e.fetchData.url,e.error){let r=e.fetchData,i={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n},a={category:"fetch",data:r,level:"error",type:"http"};o.emit("beforeOutgoingRequestBreadcrumb",a,i),rJ(a,i)}else{let r=e.response,i={...e.fetchData,status_code:r?.status};e.fetchData.request_body_size,e.fetchData.response_body_size,r?.status;let a={input:e.args,response:r,startTimestamp:t,endTimestamp:n},s={category:"fetch",data:i,type:"http",level:rZ(i.status_code)};o.emit("beforeOutgoingRequestBreadcrumb",s,a),rJ(s,a)}})),t.history&&ie((s=e,function(e){if(e9()!==s)return;let t=e.from,n=e.to,r=r2(rR.location.href),i=t?r2(t):void 0,a=r2(n);i?.path||(i=r),r.protocol===a.protocol&&r.host===a.host&&(n=a.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),rJ({category:"navigation",data:{from:t,to:n}})})),t.sentry&&e.on("beforeSendEvent",(l=e,function(e){e9()===l&&rJ({category:`sentry.${"transaction"===e.type?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:eU(e)},{event:e})}))}}},ia=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],io=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&eE(rR,"setTimeout",is),t.setInterval&&eE(rR,"setInterval",is),t.requestAnimationFrame&&eE(rR,"requestAnimationFrame",il),t.XMLHttpRequest&&"XMLHttpRequest"in rR&&eE(XMLHttpRequest.prototype,"send",iu);let e=t.eventTarget;e&&(Array.isArray(e)?e:ia).forEach(e=>{var n,r;let i;return n=e,r=t,i=rR[n]?.prototype,void(i?.hasOwnProperty?.("addEventListener")&&(eE(i,"addEventListener",function(e){return function(t,i,a){var o,s,l,u;try{o=i,"function"==typeof o.handleEvent&&(i.handleEvent=rD(i.handleEvent,{mechanism:{data:{handler:ni(i),target:n},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return r.unregisterOriginalCallbacks&&(s=this,l=t,u=i,s&&"object"==typeof s&&"removeEventListener"in s&&"function"==typeof s.removeEventListener&&s.removeEventListener(l,u)),e.apply(this,[t,rD(i,{mechanism:{data:{handler:ni(i),target:n},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),a])}}),eE(i,"removeEventListener",function(e){return function(t,n,r){try{let i=n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch{}return e.call(this,t,n,r)}})))})}}};function is(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=n[0];return n[0]=rD(i,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${ni(e)}`}}),e.apply(this,n)}}function il(e){return function(t){return e.apply(this,[rD(t,{mechanism:{data:{handler:ni(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function iu(e){return function(){let t=this;["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in t&&"function"==typeof t[e]&&eE(t,e,function(t){let n={mechanism:{data:{handler:ni(t)},handled:!1,type:`auto.browser.browserapierrors.xhr.${e}`}},r=eC(t);return r&&(n.mechanism.data.handler=ni(r)),rD(t,n)})});for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(this,r)}}let ic=()=>({name:"BrowserSession",setupOnce(){if(void 0===rR.document){ir&&ex.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}nE({ignoreDuration:!0}),nC(),ie(e=>{let{from:t,to:n}=e;void 0!==t&&t!==n&&(nE({ignoreDuration:!0}),nC())})}}),id=null;function ip(e){let t="error";rU(t,e),rF(t,ih)}function ih(){id=X.onerror,X.onerror=function(e,t,n,r,i){return rB("error",{column:r,error:i,line:n,msg:e,url:t}),!!id&&id.apply(this,arguments)},X.onerror.__SENTRY_INSTRUMENTED__=!0}let ig=null;function im(e){let t="unhandledrejection";rU(t,e),rF(t,iv)}function iv(){ig=X.onunhandledrejection,X.onunhandledrejection=function(e){return rB("unhandledrejection",e),!ig||ig.apply(this,arguments)},X.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}let iy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){var n,r;t.onerror&&(n=e,ip(e=>{var t,r,i,a;let o,s,l,u,c,d,{stackParser:f,attachStacktrace:p}=iS();if(e9()!==n||rP>0)return;let{msg:h,url:g,line:m,column:v,error:y}=e,b=(t=rI(f,y||h,void 0,p,!1),r=g,i=m,a=v,c=(u=(l=(s=(o=t.exception=t.exception||{}).values=o.values||[])[0]=s[0]||{}).stacktrace=l.stacktrace||{}).frames=u.frames||[],d=function(e){if(ea(e)&&0!==e.length){if(e.startsWith("data:")){let t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e}}(r)??eg(),0===c.length&&c.push({colno:a,filename:d,function:"?",in_app:!0,lineno:i}),t);b.level="error",nd(b,{originalException:y,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})}),i_("onerror")),t.onunhandledrejection&&(r=e,im(e=>{let{stackParser:t,attachStacktrace:n}=iS();if(e9()!==r||rP>0)return;let i=ib(e),a=es(i)?iw(i):rI(t,i,void 0,n,!0);a.level="error",nd(a,{originalException:i,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})}),i_("onunhandledrejection"))}}};function ib(e){if(es(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function iw(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function i_(e){ir&&ex.log(`Global Handler attached: ${e}`)}function iS(){let e=e9();return e?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}let ix=()=>({name:"HttpContext",preprocessEvent(e){if(!rR.navigator&&!rR.location&&!rR.document)return;let t=rO(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}});function iE(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function iT(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}let ik=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,i){!function(e,t,n,r,i,a){if(!i.exception?.values||!a||!ed(a.originalException,Error))return;let o=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;o&&(i.exception.values=function e(t,n,r,i,a,o,s,l){if(o.length>=r+1)return o;let u=[...o];if(ed(i[a],Error)){iE(s,l);let o=t(n,i[a]),c=u.length;iT(o,a,c,l),u=e(t,n,r,i[a],a,[o,...u],o,c)}return Array.isArray(i.errors)&&i.errors.forEach((i,o)=>{if(ed(i,Error)){iE(s,l);let c=t(n,i),d=u.length;iT(c,`errors[${o}]`,d,l),u=e(t,n,r,i,a,[c,...u],c,d)}}),u}(e,t,r,a.originalException,n,i.exception.values,o,0))}(rS,i.getOptions().stackParser,n,t,e,r)}}};function iC(e,t,n,r){let i={filename:e,function:"<anonymous>"===t?"?":t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}let iA=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,iI=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,iM=/\((\S*)(?::(\d+))(?::(\d+))\)/,iR=/at (.+?) ?\(data:(.+?),/,iP=[30,e=>{let t=e.match(iR);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};let n=iA.exec(e);if(n){let[,e,t,r]=n;return iC(e,"?",+t,+r)}let r=iI.exec(e);if(r){if(r[2]&&0===r[2].indexOf("eval")){let e=iM.exec(r[2]);e&&(r[2]=e[1],r[3]=e[2],r[4]=e[3])}let[e,t]=iV(r[1]||"?",r[2]);return iC(t,e,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],iD=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,iO=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,iN=[50,e=>{let t=iD.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let e=iO.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||"?";return[n,e]=iV(n,e),iC(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],iL=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ij=[40,e=>{let t=iL.exec(e);return t?iC(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}],iU=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,iF=[10,e=>{let t=iU.exec(e);return t?iC(t[2],t[3]||"?",+t[1]):void 0}],iB=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,iz=[20,e=>{let t=iB.exec(e);return t?iC(t[5],t[3]||t[4]||"?",+t[1],+t[2]):void 0}],i$=[iP,iN],iH=nt(...i$),iV=(e,t)=>{let n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:"?",n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},iq=Symbol.for("SentryBufferFullError");function iW(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=new Set;return{get $(){return Array.from(t)},add:function(n){if(!(t.size<e))return tn(iq);let r=n();return t.add(r),r.then(()=>{t.delete(r)},()=>{t.delete(r)}),r},drain:function(e){if(!t.size)return tt(!0);let n=Promise.allSettled(Array.from(t)).then(()=>!0);return e?Promise.race([n,new Promise(t=>setTimeout(()=>t(!1),e))]):n}}}function iK(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function iG(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return(e[t]||e.all||0)>n}function iX(e,t){let{statusCode:n,headers:r}=t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),a={...e},o=r?.["x-sentry-rate-limits"],s=r?.["retry-after"];if(o)for(let e of o.trim().split(",")){let[t,n,,,r]=e.split(":",5),o=parseInt(t,10),s=(isNaN(o)?60:o)*1e3;if(n)for(let e of n.split(";"))"metric_bucket"===e?(!r||r.split(";").includes("custom"))&&(a[e]=i+s):a[e]=i+s;else a.all=i+s}else s?a.all=i+iK(s,i):429===n&&(a.all=i+6e4);return a}function iY(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iW(e.bufferSize||64),r={};return{send:function(i){let a=[];if(nG(i,(t,n)=>{let i=nQ[n];iG(r,i)?e.recordDroppedEvent("ratelimit_backoff",i):a.push(t)}),0===a.length)return Promise.resolve({});let o=nK(i[0],a),s=t=>{nG(o,(n,r)=>{e.recordDroppedEvent(t,nQ[r])})};return n.add(()=>t({body:nJ(o)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&Z&&ex.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=iX(r,e),e),e=>{throw s("network_error"),Z&&ex.error("Encountered error running transport request:",e),e})).then(e=>e,e=>{if(e===iq)return Z&&ex.error("Skipped sending event because buffer is full."),s("queue_overflow"),Promise.resolve({});throw e})},flush:e=>n.drain(e)}}let iJ="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,iQ={};function iZ(e){let t=iQ[e];if(t)return t;let n=X[e];if(rH(n))return iQ[e]=n.bind(X);let r=X.document;if(r&&"function"==typeof r.createElement)try{let t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);let i=t.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(t)}catch(t){iJ&&ex.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?iQ[e]=n.bind(X):n}function i0(){return iZ("setTimeout")(...arguments)}function i1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iZ("fetch"),n=0,r=0;async function i(i){let a=i.body.length;n+=a,r++;let o={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{let n=await t(e.url,o);return{statusCode:n.status,headers:{"x-sentry-rate-limits":n.headers.get("X-Sentry-Rate-Limits"),"retry-after":n.headers.get("Retry-After")}}}catch(e){throw iQ.fetch=void 0,e}finally{n-=a,r--}}return iY(e,i,iW(e.bufferSize||40))}function i2(e){return[nN(),nF(),io(),ii(),iy(),ik(),nB(),ix(),ic()]}function i3(){var e;let t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!n.skipBrowserExtensionCheck&&!!function(){if(void 0===rR.window||rR.nw)return!1;let e=rR.chrome||rR.browser;if(!e?.runtime?.id)return!1;let t=eg();return!(rR===rR.top&&["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"].some(e=>t.startsWith(`${e}://`)))}()&&(ir&&eb(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0),i=null==n.defaultIntegrations?i2():n.defaultIntegrations,a={...n,enabled:!r&&n.enabled,stackParser:Array.isArray(e=n.stackParser||iH)?nt(...e):e,integrations:function(e){let t,n,r=e.defaultIntegrations||[],i=e.integrations;if(r.forEach(e=>{e.isDefaultInstance=!0}),Array.isArray(i))t=[...r,...i];else if("function"==typeof i){let e=i(r);t=Array.isArray(e)?e:[e]}else t=r;return n={},t.forEach(e=>{let{name:t}=e,r=n[t];r&&!r.isDefaultInstance&&e.isDefaultInstance||(n[t]=e)}),Object.values(n)}({integrations:n.integrations,defaultIntegrations:i}),transport:n.transport||i1};return!0===a.debug&&(Z?ex.enable():eb(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),e3().update(a.initialScope),nV(t=new rN(a)),t.init(),t}function i4(){}function i5(e){e()}function i6(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e3(),{message:r,name:i,email:a,url:o,source:s,associatedEventId:l,tags:u}=e,c={contexts:{feedback:{contact_email:a,name:i,message:r,url:o,source:s,associated_event_id:l}},type:"feedback",level:"info",tags:u},d=n?.getClient()||e9();return d&&d.emit("beforeSendFeedback",c,t),n.captureEvent(c,t)}var i8=n(5846);function i9(){let e;return"undefined"!=typeof window&&(!(0,i8.w)()||(e=X.process,e?.type==="renderer"))}let i7=X.document,ae=X.navigator,at="Report a Bug",an=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeReplay:!0};if(!e.message)throw Error("Unable to submit feedback with empty message");let n=e9();if(!n)throw Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&e3().setTags(e.tags);let r=i6({source:"api",url:eg(),...e},t);return new Promise((e,t)=>{let i=setTimeout(()=>t("Unable to determine if Feedback was correctly sent."),3e4),a=n.on("afterSendEvent",(n,o)=>{if(n.event_id===r)return(clearTimeout(i),a(),o?.statusCode&&o.statusCode>=200&&o.statusCode<300)?e(r):o?.statusCode===403?t("Unable to send feedback. This could be because this domain is not in your list of allowed domains."):t("Unable to send feedback. This could be because of network issues, or because you are using an ad-blocker.")})})},ar="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function ai(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:(n,r)=>{t.onSubmitSuccess?.(n,r),e.onSubmitSuccess?.(n,r)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function aa(e,t){return Object.entries(t).forEach(t=>{let[n,r]=t;e.setAttributeNS(null,n,r)}),e}let ao="rgba(88, 74, 192, 1)",as={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:ao,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},al={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:ao,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function au(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}let ac=e=>{let{lazyLoadIntegration:t,getModalIntegration:n,getScreenshotIntegration:r}=e;return function(){let{id:e="sentry-feedback",autoInject:i=!0,showBranding:a=!0,isEmailRequired:o=!1,isNameRequired:s=!1,showEmail:l=!0,showName:u=!0,enableScreenshot:c=!0,useSentryUser:d={email:"email",name:"username"},tags:f,styleNonce:p,scriptNonce:h,colorScheme:g="system",themeLight:m={},themeDark:v={},addScreenshotButtonLabel:y="Add a screenshot",cancelButtonLabel:b="Cancel",confirmButtonLabel:w="Confirm",emailLabel:_="Email",emailPlaceholder:S="your.email@example.org",formTitle:x="Report a Bug",isRequiredLabel:E="(required)",messageLabel:T="Description",messagePlaceholder:k="What's the bug? What did you expect?",nameLabel:C="Name",namePlaceholder:A="Your Name",removeScreenshotButtonLabel:I="Remove screenshot",submitButtonLabel:M="Send Bug Report",successMessageText:R="Thank you for your report!",triggerLabel:P=at,triggerAriaLabel:D="",highlightToolText:O="Highlight",hideToolText:N="Hide",removeHighlightText:L="Remove",onFormOpen:j,onFormClose:U,onSubmitSuccess:F,onSubmitError:B,onFormSubmitted:z}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},$={id:e,autoInject:i,showBranding:a,isEmailRequired:o,isNameRequired:s,showEmail:l,showName:u,enableScreenshot:c,useSentryUser:d,tags:f,styleNonce:p,scriptNonce:h,colorScheme:g,themeDark:v,themeLight:m,triggerLabel:P,triggerAriaLabel:D,cancelButtonLabel:b,submitButtonLabel:M,confirmButtonLabel:w,formTitle:x,emailLabel:_,emailPlaceholder:S,messageLabel:T,messagePlaceholder:k,nameLabel:C,namePlaceholder:A,successMessageText:R,isRequiredLabel:E,addScreenshotButtonLabel:y,removeScreenshotButtonLabel:I,highlightToolText:O,hideToolText:N,removeHighlightText:L,onFormClose:U,onFormOpen:j,onSubmitError:B,onSubmitSuccess:F,onFormSubmitted:z},H=null,V=[],q=e=>{if(!H){let t=i7.createElement("div");t.id=String(e.id),i7.body.appendChild(t),(H=t.attachShadow({mode:"open"})).appendChild(function(e){let{colorScheme:t,themeDark:n,themeLight:r,styleNonce:i}=e,a=i7.createElement("style");return a.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${"system"!==t?"color-scheme: only light;":""}

  ${au("dark"===t?{...al,...n}:{...as,...r})}
}

${"system"===t?`
@media (prefers-color-scheme: dark) {
  :host {
    ${au({...al,...n})}
  }
}`:""}
}
`,i&&a.setAttribute("nonce",i),a}(e))}return H},W=async e=>{let i,a,o=e.enableScreenshot&&!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ae.userAgent)||/Macintosh/i.test(ae.userAgent)&&ae.maxTouchPoints&&ae.maxTouchPoints>1)&&!!isSecureContext;try{i=(n?n():await t("feedbackModalIntegration",h))(),nR(i)}catch{throw ar&&ex.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),Error("[Feedback] Missing feedback modal integration!")}try{let e=o?r?r():await t("feedbackScreenshotIntegration",h):void 0;e&&(a=e(),nR(a))}catch{ar&&ex.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}let s=i.createDialog({options:{...e,onFormClose:()=>{s?.close(),e.onFormClose?.()},onFormSubmitted:()=>{s?.close(),e.onFormSubmitted?.()}},screenshotIntegration:a,sendFeedback:an,shadow:q(e)});return s},K=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ai($,t),r="string"==typeof e?i7.querySelector(e):"function"==typeof e.addEventListener?e:null;if(!r)throw ar&&ex.error("[Feedback] Unable to attach to target element"),Error("Unable to attach to target element");let i=null,a=async()=>{i||(i=await W({...n,onFormSubmitted:()=>{i?.removeFromDom(),n.onFormSubmitted?.()}})),i.appendToDom(),i.open()};r.addEventListener("click",a);let o=()=>{V=V.filter(e=>e!==o),i?.removeFromDom(),i=null,r.removeEventListener("click",a)};return V.push(o),o},G=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ai($,e),n=q(t),r=function(e){let t,n,r,i,a,o,s,l,{triggerLabel:u,triggerAriaLabel:c,shadow:d,styleNonce:f}=e,p=i7.createElement("button");if(p.type="button",p.className="widget__actor",p.ariaHidden="false",p.ariaLabel=c||u||at,p.appendChild((n=aa((t=e=>X.document.createElementNS("http://www.w3.org/2000/svg",e))("svg"),{width:"20",height:"20",viewBox:"0 0 20 20",fill:"var(--actor-color, var(--foreground))"}),r=aa(t("g"),{clipPath:"url(#clip0_57_80)"}),i=aa(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"}),n.appendChild(r).appendChild(i),a=t("defs"),o=aa(t("clipPath"),{id:"clip0_57_80"}),s=aa(t("rect"),{width:"20",height:"20",fill:"white"}),o.appendChild(s),a.appendChild(o),n.appendChild(a).appendChild(o).appendChild(s),n)),u){let e=i7.createElement("span");e.appendChild(i7.createTextNode(u)),p.appendChild(e)}let h=((l=i7.createElement("style")).textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,f&&l.setAttribute("nonce",f),l);return{el:p,appendToDom(){d.appendChild(h),d.appendChild(p)},removeFromDom(){p.remove(),h.remove()},show(){p.ariaHidden="false"},hide(){p.ariaHidden="true"}}}({triggerLabel:t.triggerLabel,triggerAriaLabel:t.triggerAriaLabel,shadow:n,styleNonce:p});return K(r.el,{...t,onFormOpen(){r.hide()},onFormClose(){r.show()},onFormSubmitted(){r.show()}}),r};return{name:"Feedback",setupOnce(){i9()&&$.autoInject&&("loading"===i7.readyState?i7.addEventListener("DOMContentLoaded",()=>G().appendToDom()):G().appendToDom())},attachTo:K,createWidget(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=G(ai($,e));return t.appendToDom(),t},async createForm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return W(ai($,e))},remove(){H&&(H.parentElement?.remove(),H=null),V.forEach(e=>e()),V=[]}}}};function ad(){let e=e9();return e?.getIntegrationByName("Feedback")}var af,ap,ah,ag,am,av,ay,ab={},aw=[],a_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,aS=Array.isArray;function ax(e,t){for(var n in t)e[n]=t[n];return e}function aE(e){var t=e.parentNode;t&&t.removeChild(e)}function aT(e,t,n){var r,i,a,o={};for(a in t)"key"==a?r=t[a]:"ref"==a?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?af.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===o[a]&&(o[a]=e.defaultProps[a]);return ak(e,o,r,i,null)}function ak(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++ah:i,__i:-1,__u:0};return null==i&&null!=ap.vnode&&ap.vnode(a),a}function aC(e){return e.children}function aA(e,t){this.props=e,this.context=t}function aI(e,t){if(null==t)return e.__?aI(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?aI(e):null}function aM(e){(!e.__d&&(e.__d=!0)&&ag.push(e)&&!aR.__r++||am!==ap.debounceRendering)&&((am=ap.debounceRendering)||av)(aR)}function aR(){var e,t,n,r=[],i=[];for(ag.sort(ay);e=ag.shift();)e.__d&&(n=ag.length,t=function(e,t,n){var r,i=e.__v,a=i.__e,o=e.__P;if(o)return(r=ax({},i)).__v=i.__v+1,ap.vnode&&ap.vnode(r),aj(o,r,i,e.__n,void 0!==o.ownerSVGElement,32&i.__u?[a]:null,t,null==a?aI(i):a,!!(32&i.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=a&&function e(t){var n,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(r=t.__k[n])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return e(t)}}(r),r}(e,r,i)||t,0===n||ag.length>n?(aU(r,t,i),i.length=r.length=0,t=void 0,ag.sort(ay)):t&&ap.__c&&ap.__c(t,aw));t&&aU(r,t,i),aR.__r=0}function aP(e,t,n,r,i,a,o,s,l,u,c){var d,f,p,h,g,m=r&&r.__k||aw,v=t.length;for(n.__d=l,function(e,t,n){var r,i,a,o,s,l=t.length,u=n.length,c=u,d=0;for(e.__k=[],r=0;r<l;r++)null!=(i=e.__k[r]=null==(i=t[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?ak(null,i,null,null,i):aS(i)?ak(aC,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?ak(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,s=function(e,t,n,r){var i=e.key,a=e.type,o=n-1,s=n+1,l=t[n];if(null===l||l&&i==l.key&&a===l.type)return n;if(r>+(null!=l&&0==(131072&l.__u)))for(;o>=0||s<t.length;){if(o>=0){if((l=t[o])&&0==(131072&l.__u)&&i==l.key&&a===l.type)return o;o--}if(s<t.length){if((l=t[s])&&0==(131072&l.__u)&&i==l.key&&a===l.type)return s;s++}}return -1}(i,n,o=r+d,c),i.__i=s,a=null,-1!==s&&(c--,(a=n[s])&&(a.__u|=131072)),null==a||null===a.__v?(-1==s&&d--,"function"!=typeof i.type&&(i.__u|=65536)):s!==o&&(s===o+1?d++:s>o?c>l-o?d+=s-o:d--:d=s<o&&s==o-1?s-o:0,s!==r+d&&(i.__u|=65536))):(a=n[r])&&null==a.key&&a.__e&&(a.__e==e.__d&&(e.__d=aI(a)),aB(a,a,!1),n[r]=null,c--);if(c)for(r=0;r<u;r++)null!=(a=n[r])&&0==(131072&a.__u)&&(a.__e==e.__d&&(e.__d=aI(a)),aB(a,a))}(n,t,m),l=n.__d,d=0;d<v;d++)null!=(p=n.__k[d])&&"boolean"!=typeof p&&"function"!=typeof p&&(f=-1===p.__i?ab:m[p.__i]||ab,p.__i=d,aj(e,p,f,i,a,o,s,l,u,c),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&aF(f.ref,null,p),c.push(p.ref,p.__c||h,p)),null==g&&null!=h&&(g=h),65536&p.__u||f.__k===p.__k?l=function e(t,n,r){var i,a;if("function"==typeof t.type){for(i=t.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=t,n=e(i[a],n,r));return n}t.__e!=n&&(r.insertBefore(t.__e,n||null),n=t.__e);do n=n&&n.nextSibling;while(null!=n&&8===n.nodeType);return n}(p,l,e):"function"==typeof p.type&&void 0!==p.__d?l=p.__d:h&&(l=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=l,n.__e=g}function aD(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||a_.test(t)?n:n+"px"}function aO(e,t,n,r,i){var a;n:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||aD(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||aD(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,a?aL:aN,a)):e.removeEventListener(t,a?aL:aN,a);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break n}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function aN(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ap.event?ap.event(e):e)}}function aL(e){if(this.l)return this.l[e.type+!0](ap.event?ap.event(e):e)}function aj(e,t,n,r,i,a,o,s,l,u){var c,d,f,p,h,g,m,v,y,b,w,_,S,x,E,T=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(l=!!(32&n.__u),a=[s=t.__e=n.__e]),(c=ap.__b)&&c(t);n:if("function"==typeof T)try{if(v=t.props,y=(c=T.contextType)&&r[c.__c],b=c?y?y.props.value:c.__:r,n.__c?m=(d=t.__c=n.__c).__=d.__E:("prototype"in T&&T.prototype.render?t.__c=d=new T(v,b):(t.__c=d=new aA(v,b),d.constructor=T,d.render=az),y&&y.sub(d),d.props=v,d.state||(d.state={}),d.context=b,d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=T.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=ax({},d.__s)),ax(d.__s,T.getDerivedStateFromProps(v,d.__s))),p=d.props,h=d.state,d.__v=t,f)null==T.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==T.getDerivedStateFromProps&&v!==p&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(v,b),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(v,d.__s,b)||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=v,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),w=0;w<d._sb.length;w++)d.__h.push(d._sb[w]);d._sb=[],d.__h.length&&o.push(d);break n}null!=d.componentWillUpdate&&d.componentWillUpdate(v,d.__s,b),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(p,h,g)})}if(d.context=b,d.props=v,d.__P=e,d.__e=!1,_=ap.__r,S=0,"prototype"in T&&T.prototype.render){for(d.state=d.__s,d.__d=!1,_&&_(t),c=d.render(d.props,d.state,d.context),x=0;x<d._sb.length;x++)d.__h.push(d._sb[x]);d._sb=[]}else do d.__d=!1,_&&_(t),c=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++S<25);d.state=d.__s,null!=d.getChildContext&&(r=ax(ax({},r),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(g=d.getSnapshotBeforeUpdate(p,h)),aP(e,aS(E=null!=c&&c.type===aC&&null==c.key?c.props.children:c)?E:[E],t,n,r,i,a,o,s,l,u),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),m&&(d.__E=d.__=null)}catch(e){t.__v=null,l||null!=a?(t.__e=s,t.__u|=l?160:32,a[a.indexOf(s)]=null):(t.__e=n.__e,t.__k=n.__k),ap.__e(e,t,n)}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,i,a,o,s,l){var u,c,d,f,p,h,g,m=n.props,v=t.props,y=t.type;if("svg"===y&&(i=!0),null!=a){for(u=0;u<a.length;u++)if((p=a[u])&&"setAttribute"in p==!!y&&(y?p.localName===y:3===p.nodeType)){e=p,a[u]=null;break}}if(null==e){if(null===y)return document.createTextNode(v);e=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,v.is&&v),a=null,s=!1}if(null===y)m===v||s&&e.data===v||(e.data=v);else{if(a=a&&af.call(e.childNodes),m=n.props||ab,!s&&null!=a)for(m={},u=0;u<e.attributes.length;u++)m[(p=e.attributes[u]).name]=p.value;for(u in m)p=m[u],"children"==u||("dangerouslySetInnerHTML"==u?d=p:"key"===u||u in v||aO(e,u,null,p,i));for(u in v)p=v[u],"children"==u?f=p:"dangerouslySetInnerHTML"==u?c=p:"value"==u?h=p:"checked"==u?g=p:"key"===u||s&&"function"!=typeof p||m[u]===p||aO(e,u,p,m[u],i);if(c)s||d&&(c.__html===d.__html||c.__html===e.innerHTML)||(e.innerHTML=c.__html),t.__k=[];else if(d&&(e.innerHTML=""),aP(e,aS(f)?f:[f],t,n,r,i&&"foreignObject"!==y,a,o,a?a[0]:n.__k&&aI(n,0),s,l),null!=a)for(u=a.length;u--;)null!=a[u]&&aE(a[u]);s||(u="value",void 0===h||h===e[u]&&("progress"!==y||h)&&("option"!==y||h===m[u])||aO(e,u,h,m[u],!1),u="checked",void 0!==g&&g!==e[u]&&aO(e,u,g,m[u],!1))}return e}(n.__e,t,n,r,i,a,o,l,u);(c=ap.diffed)&&c(t)}function aU(e,t,n){for(var r=0;r<n.length;r++)aF(n[r],n[++r],n[++r]);ap.__c&&ap.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){ap.__e(e,t.__v)}})}function aF(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){ap.__e(e,n)}}function aB(e,t,n){var r,i;if(ap.unmount&&ap.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||aF(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){ap.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&aB(r[i],t,n||"function"!=typeof e.type);n||null==e.__e||aE(e.__e),e.__=e.__e=e.__d=void 0}function az(e,t,n){return this.constructor(e,n)}af=aw.slice,ap={__e:function(e,t,n,r){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},ah=0,aA.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ax({},this.state),"function"==typeof e&&(e=e(ax({},n),this.props)),e&&ax(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),aM(this))},aA.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),aM(this))},aA.prototype.render=aC,ag=[],av="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ay=function(e,t){return e.__v.__b-t.__v.__b},aR.__r=0;var a$,aH,aV,aq,aW=0,aK=[],aG=[],aX=ap,aY=aX.__b,aJ=aX.__r,aQ=aX.diffed,aZ=aX.__c,a0=aX.unmount,a1=aX.__;function a2(e,t){aX.__h&&aX.__h(aH,e,aW||t),aW=0;var n=aH.__H||(aH.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:aG}),n.__[e]}function a3(e){return aW=1,a4(or,e)}function a4(e,t,n){var r=a2(a$++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):or(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=aH,!aH.u)){var i=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter(function(e){return!!e.__c});if(i.every(function(e){return!e.__N}))return!a||a.call(this,e,t,n);var o=!1;return i.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}}),!(!o&&r.__c.props===e)&&(!a||a.call(this,e,t,n))};aH.u=!0;var a=aH.shouldComponentUpdate,o=aH.componentWillUpdate;aH.componentWillUpdate=function(e,t,n){if(this.__e){var r=a;a=void 0,i(e,t,n),a=r}o&&o.call(this,e,t,n)},aH.shouldComponentUpdate=i}return r.__N||r.__}function a5(e,t){var n=a2(a$++,4);!aX.__s&&on(n.__H,t)&&(n.__=e,n.i=t,aH.__h.push(n))}function a6(e,t){var n=a2(a$++,7);return on(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function a8(e,t){return aW=8,a6(function(){return e},t)}function a9(){for(var e;e=aK.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(oe),e.__H.__h.forEach(ot),e.__H.__h=[]}catch(t){e.__H.__h=[],aX.__e(t,e.__v)}}aX.__b=function(e){aH=null,aY&&aY(e)},aX.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),a1&&a1(e,t)},aX.__r=function(e){aJ&&aJ(e),a$=0;var t=(aH=e.__c).__H;t&&(aV===aH?(t.__h=[],aH.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=aG,e.__N=e.i=void 0})):(t.__h.forEach(oe),t.__h.forEach(ot),t.__h=[],a$=0)),aV=aH},aX.diffed=function(e){aQ&&aQ(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==aK.push(t)&&aq===aX.requestAnimationFrame||((aq=aX.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),a7&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);a7&&(t=requestAnimationFrame(n))})(a9)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==aG&&(e.__=e.__V),e.i=void 0,e.__V=aG})),aV=aH=null},aX.__c=function(e,t){t.some(function(e){try{e.__h.forEach(oe),e.__h=e.__h.filter(function(e){return!e.__||ot(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],aX.__e(n,e.__v)}}),aZ&&aZ(e,t)},aX.unmount=function(e){a0&&a0(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{oe(e)}catch(e){t=e}}),n.__H=void 0,t&&aX.__e(t,n.__v))};var a7="function"==typeof requestAnimationFrame;function oe(e){var t=aH,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),aH=t}function ot(e){var t=aH;e.__c=e.__(),aH=t}function on(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function or(e,t){return"function"==typeof t?t(e):t}let oi=/*#__PURE__*/Object.defineProperty({__proto__:null,useCallback:a8,useContext:function(e){var t=aH.context[e.__c],n=a2(a$++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(aH)),t.props.value):e.__},useDebugValue:function(e,t){aX.useDebugValue&&aX.useDebugValue(t?t(e):e)},useEffect:function(e,t){var n=a2(a$++,3);!aX.__s&&on(n.__H,t)&&(n.__=e,n.i=t,aH.__H.__h.push(n))},useErrorBoundary:function(e){var t=a2(a$++,10),n=a3();return t.__=e,aH.componentDidCatch||(aH.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]},useId:function(){var e=a2(a$++,11);if(!e.__){for(var t=aH.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__},useImperativeHandle:function(e,t,n){aW=6,a5(function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},null==n?n:n.concat(e))},useLayoutEffect:a5,useMemo:a6,useReducer:a4,useRef:function(e){return aW=5,a6(function(){return{current:e}},[])},useState:a3},Symbol.toStringTag,{value:"Module"});function oa(e){let{options:t}=e,n=a6(()=>{let e,t;return{__html:(e=aa(i7.createElementNS("http://www.w3.org/2000/svg","svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),t=aa(i7.createElementNS("http://www.w3.org/2000/svg","path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"}),e.appendChild(t),e).outerHTML}},[]);return aT("h2",{class:"dialog__header"},aT("span",{class:"dialog__title"},t.formTitle),t.showBranding?aT("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:n}):null)}function oo(e,t){let n=e.get(t);return"string"==typeof n?n.trim():""}function os(e){let{options:t,defaultEmail:n,defaultName:r,onFormClose:i,onSubmit:a,onSubmitSuccess:o,onSubmitError:s,showEmail:l,showName:u,screenshotInput:c}=e,{tags:d,addScreenshotButtonLabel:f,removeScreenshotButtonLabel:p,cancelButtonLabel:h,emailLabel:g,emailPlaceholder:m,isEmailRequired:v,isNameRequired:y,messageLabel:b,messagePlaceholder:w,nameLabel:_,namePlaceholder:S,submitButtonLabel:x,isRequiredLabel:E}=t,[T,k]=a3(!1),[C,A]=a3(null),[I,M]=a3(!1),R=c?.input,[P,D]=a3(null),O=a8(e=>{D(e),M(!1)},[]),N=a8(e=>{var t;let n,r=(n=[],(t={emailLabel:g,isEmailRequired:v,isNameRequired:y,messageLabel:b,nameLabel:_}).isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n);return r.length>0?A(`Please enter in the following required fields: ${r.join(", ")}`):A(null),0===r.length},[g,v,y,b,_]);return aT("form",{class:"form",onSubmit:a8(async e=>{k(!0);try{if(e.preventDefault(),!(e.target instanceof HTMLFormElement))return;let t=new FormData(e.target),n=await (c&&I?c.value():void 0),r={name:oo(t,"name"),email:oo(t,"email"),message:oo(t,"message"),attachments:n?[n]:void 0};if(!N(r))return;try{let e=await a({name:r.name,email:r.email,message:r.message,source:"widget",tags:d},{attachments:r.attachments});o(r,e)}catch(e){ar&&ex.error(e),A(e),s(e)}}finally{k(!1)}},[c&&I,o,s])},R&&I?aT(R,{onError:O}):null,aT("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:T},aT("div",{class:"form__top"},C?aT("div",{class:"form__error-container"},C):null,u?aT("label",{for:"name",class:"form__label"},aT(ol,{label:_,isRequiredLabel:E,isRequired:y}),aT("input",{class:"form__input",defaultValue:r,id:"name",name:"name",placeholder:S,required:y,type:"text"})):aT("input",{"aria-hidden":!0,value:r,name:"name",type:"hidden"}),l?aT("label",{for:"email",class:"form__label"},aT(ol,{label:g,isRequiredLabel:E,isRequired:v}),aT("input",{class:"form__input",defaultValue:n,id:"email",name:"email",placeholder:m,required:v,type:"email"})):aT("input",{"aria-hidden":!0,value:n,name:"email",type:"hidden"}),aT("label",{for:"message",class:"form__label"},aT(ol,{label:b,isRequiredLabel:E,isRequired:!0}),aT("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:w,required:!0,rows:5})),R?aT("label",{for:"screenshot",class:"form__label"},aT("button",{class:"btn btn--default",disabled:T,type:"button",onClick:()=>{D(null),M(e=>!e)}},I?p:f),P?aT("div",{class:"form__error-container"},P.message):null):null),aT("div",{class:"btn-group"},aT("button",{class:"btn btn--primary",disabled:T,type:"submit"},x),aT("button",{class:"btn btn--default",disabled:T,type:"button",onClick:i},h))))}function ol(e){let{label:t,isRequired:n,isRequiredLabel:r}=e;return aT("span",{class:"form__label__text"},t,n&&aT("span",{class:"form__label__text--required"},r))}function ou(e){let{open:t,onFormSubmitted:n,...r}=e,i=r.options,a=a6(()=>{let e,t,n,r,i,a,o,s;return{__html:(t=aa((e=e=>X.document.createElementNS("http://www.w3.org/2000/svg",e))("svg"),{width:"16",height:"17",viewBox:"0 0 16 17",fill:"inherit"}),n=aa(e("g"),{clipPath:"url(#clip0_57_156)"}),r=aa(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),i=aa(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"}),t.appendChild(n).append(i,r),a=e("defs"),o=aa(e("clipPath"),{id:"clip0_57_156"}),s=aa(e("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"}),o.appendChild(s),a.appendChild(o),t.appendChild(a).appendChild(o).appendChild(s),t).outerHTML}},[]),[o,s]=a3(null),l=a8(()=>{o&&(clearTimeout(o),s(null)),n()},[o]),u=a8((e,t)=>{r.onSubmitSuccess(e,t),s(setTimeout(()=>{n(),s(null)},5e3))},[n]);return aT(aC,null,o?aT("div",{class:"success__position",onClick:l},aT("div",{class:"success__content"},i.successMessageText,aT("span",{class:"success__icon",dangerouslySetInnerHTML:a}))):aT("dialog",{class:"dialog",onClick:i.onFormClose,open:t},aT("div",{class:"dialog__position"},aT("div",{class:"dialog__content",onClick:e=>{e.stopPropagation()}},aT(oa,{options:i}),aT(os,{...r,onSubmitSuccess:u})))))}let oc=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,od=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,of=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,op=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,oh=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`,og=()=>({name:"FeedbackModal",setupOnce(){},createDialog:e=>{var t;let n,r,i,a,{options:o,screenshotIntegration:s,sendFeedback:l,shadow:u}=e,c=o.useSentryUser,d=(n=e3().getUser(),r=e4().getUser(),i=e5().getUser(),n&&Object.keys(n).length?n:r&&Object.keys(r).length?r:i),f=i7.createElement("div"),p=(t=o.styleNonce,(a=i7.createElement("style")).textContent=`
:host {
  --dialog-inset: var(--inset);
}

${oc}
${od}
${of}
${op}
${oh}
`,t&&a.setAttribute("nonce",t),a),h="",g={get el(){return f},appendToDom(){u.contains(p)||u.contains(f)||(u.appendChild(p),u.appendChild(f))},removeFromDom(){f.remove(),p.remove(),i7.body.style.overflow=h},open(){v(!0),o.onFormOpen?.(),e9()?.emit("openFeedbackWidget"),h=i7.body.style.overflow,i7.body.style.overflow="hidden"},close(){v(!1),i7.body.style.overflow=h}},m=s?.createInput({h:aT,hooks:oi,dialog:g,options:o}),v=e=>{var t,n,r,i;t=aT(ou,{options:o,screenshotInput:m,showName:o.showName||o.isNameRequired,showEmail:o.showEmail||o.isEmailRequired,defaultName:c&&d?.[c.name]||"",defaultEmail:c&&d?.[c.email]||"",onFormClose:()=>{v(!1),o.onFormClose?.()},onSubmit:l,onSubmitSuccess:(e,t)=>{v(!1),o.onSubmitSuccess?.(e,t)},onSubmitError:e=>{o.onSubmitError?.(e)},onFormSubmitted:()=>{o.onFormSubmitted?.()},open:e}),ap.__&&ap.__(t,f),n=f.__k,r=[],i=[],aj(f,t=f.__k=aT(aC,null,[t]),n||ab,ab,void 0!==f.ownerSVGElement,n?null:f.firstChild?af.call(f.childNodes):null,r,n?n.__e:f.firstChild,!1,i),t.__d=void 0,aU(r,t,i)};return g}});function om(e,t,n){if(!e)return;let r=e.getContext("2d",t);r&&n(e,r)}function ov(e,t){om(e,{alpha:!0},(e,n)=>{n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height)})}function oy(e,t,n){om(e,{alpha:!0},(e,r)=>{n.length&&(r.fillStyle="rgba(0, 0, 0, 0.25)",r.fillRect(0,0,e.width,e.height)),n.forEach(e=>{switch(e.type){case"highlight":r.shadowColor="rgba(0, 0, 0, 0.7)",r.shadowBlur=50,r.fillStyle=t,r.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),r.clearRect(e.x,e.y,e.w,e.h);break;case"hide":r.fillStyle="rgb(0, 0, 0)",r.fillRect(e.x,e.y,e.w,e.h)}})})}let ob=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:e=>{let{h:t,hooks:n,dialog:r,options:i}=e,a=i7.createElement("canvas");return{input:function(e){var t;let n,r,i,{h:a,hooks:o,outputBuffer:s,dialog:l,options:u}=e,c=function(e){let{hooks:t}=e;return function(e){let{onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:i,onError:a}=e,o=function(){let[e,n]=t.useState(X.devicePixelRatio??1);return t.useEffect(()=>{let e=()=>{n(X.devicePixelRatio)},t=matchMedia(`(resolution: ${X.devicePixelRatio}dppx)`);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}},[]),e}();t.useEffect(()=>{(async()=>{n();let e=await ae.mediaDevices.getDisplayMedia({video:{width:X.innerWidth*o,height:X.innerHeight*o},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),t=i7.createElement("video");await new Promise((n,i)=>{t.srcObject=e,t.onloadedmetadata=()=>{r(t,o),e.getTracks().forEach(e=>e.stop()),n()},t.play().catch(i)}),i()})().catch(a)},[])}}({hooks:o}),d=function(e){let{h:t}=e;return function(e){let{action:n,setAction:r,options:i}=e;return t("div",{class:"editor__tool-container"},t("div",{class:"editor__tool-bar"},t("button",{type:"button",class:`editor__tool ${"highlight"===n?"editor__tool--active":""}`,onClick:()=>{r("highlight"===n?"":"highlight")}},i.highlightToolText),t("button",{type:"button",class:`editor__tool ${"hide"===n?"editor__tool--active":""}`,onClick:()=>{r("hide"===n?"":"hide")}},i.hideToolText)))}}({h:a}),f=function(e){let{h:t}=e;return function(){return t("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},t("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),t("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),t("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),t("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}({h:a}),p={__html:(t=u.styleNonce,n=i7.createElement("style"),r="#1A141F",i="#302735",n.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${r};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${r} 8px,
      ${r} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${i} 15px,
      ${i} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,t&&n.setAttribute("nonce",t),n).innerText},h=l.el.style,g=e=>{let{screenshot:t}=e,[n,r]=o.useState("highlight"),[i,l]=o.useState([]),c=o.useRef(null),h=o.useRef(null),g=o.useRef(null),m=o.useRef(null),[v,y]=o.useState(1),b=o.useMemo(()=>{let e=i7.getElementById(u.id);if(!e)return"white";let t=getComputedStyle(e);return t.getPropertyValue("--button-primary-background")||t.getPropertyValue("--accent-background")},[u.id]);o.useLayoutEffect(()=>{let e=()=>{let n=c.current;n&&(om(t.canvas,{alpha:!1},e=>{y(Math.min(n.clientWidth/e.width,n.clientHeight/e.height))}),(0===n.clientHeight||0===n.clientWidth)&&setTimeout(e,0))};return e(),X.addEventListener("resize",e),()=>{X.removeEventListener("resize",e)}},[t]);let w=o.useCallback((e,n)=>{om(e,{alpha:!0},(e,r)=>{r.scale(n,n),e.width=t.canvas.width,e.height=t.canvas.height})},[t]);o.useEffect(()=>{w(h.current,t.dpi),ov(h.current,t.canvas)},[t]),o.useEffect(()=>{w(g.current,t.dpi),om(g.current,{alpha:!0},(e,t)=>{t.clearRect(0,0,e.width,e.height)}),oy(g.current,b,i)},[i,b]),o.useEffect(()=>{w(s,t.dpi),ov(s,t.canvas),om(i7.createElement("canvas"),{alpha:!0},(e,n)=>{n.scale(t.dpi,t.dpi),e.width=t.canvas.width,e.height=t.canvas.height,oy(e,b,i),ov(s,e)})},[i,t,b]);let _=o.useCallback(e=>t=>{t.preventDefault(),t.stopPropagation(),l(t=>{let n=[...t];return n.splice(e,1),n})},[]),S={width:`${t.canvas.width*v}px`,height:`${t.canvas.height*v}px`},x=e=>{e.stopPropagation()};return a("div",{class:"editor"},a("style",{nonce:u.styleNonce,dangerouslySetInnerHTML:p}),a("div",{class:"editor__image-container"},a("div",{class:"editor__canvas-container",ref:c},a("canvas",{ref:h,id:"background",style:S}),a("canvas",{ref:g,id:"foreground",style:S}),a("div",{ref:m,onMouseDown:e=>{if(!n||!m.current)return;let t=m.current.getBoundingClientRect(),r={type:n,x:e.offsetX/v,y:e.offsetY/v},a=(e,n)=>{let r=(n.clientX-t.x)/v,i=(n.clientY-t.y)/v;return{type:e.type,x:Math.min(e.x,r),y:Math.min(e.y,i),w:Math.abs(r-e.x),h:Math.abs(i-e.y)}},o=e=>{om(g.current,{alpha:!0},(e,t)=>{t.clearRect(0,0,e.width,e.height)}),oy(g.current,b,[...i,a(r,e)])},s=e=>{let t=a(r,e);t.w*v>=1&&t.h*v>=1&&l(e=>[...e,t]),i7.removeEventListener("mousemove",o),i7.removeEventListener("mouseup",s)};i7.addEventListener("mousemove",o),i7.addEventListener("mouseup",s)},style:S},i.map((e,t)=>a("div",{key:t,class:"editor__rect",style:{top:`${e.y*v}px`,left:`${e.x*v}px`,width:`${e.w*v}px`,height:`${e.h*v}px`}},a("button",{"aria-label":u.removeHighlightText,onClick:_(t),onMouseDown:x,onMouseUp:x,type:"button"},a(f,null))))))),a(d,{options:u,action:n,setAction:r}))};return function(e){let{onError:t}=e,[n,r]=o.useState();return(c({onBeforeScreenshot:o.useCallback(()=>{h.display="none"},[]),onScreenshot:o.useCallback((e,t)=>{om(i7.createElement("canvas"),{alpha:!1},(n,i)=>{i.scale(t,t),n.width=e.videoWidth,n.height=e.videoHeight,i.drawImage(e,0,0,n.width,n.height),r({canvas:n,dpi:t})}),s.width=e.videoWidth,s.height=e.videoHeight},[]),onAfterScreenshot:o.useCallback(()=>{h.display="block"},[]),onError:o.useCallback(e=>{h.display="block",t(e)},[])}),n)?a(g,{screenshot:n}):a("div",null)}}({h:t,hooks:n,outputBuffer:a,dialog:r,options:i}),value:async()=>{let e=await new Promise(e=>{a.toBlob(e,"image/png")});if(e)return{data:new Uint8Array(await e.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}),ow={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata",instrumentAnthropicAiClient:"instrumentanthropicaiclient",instrumentOpenAiClient:"instrumentopenaiclient",instrumentGoogleGenAIClient:"instrumentgooglegenaiclient"};async function o_(e,t){var n;let r,i=ow[e],a=rR.Sentry=rR.Sentry||{};if(!i)throw Error(`Cannot lazy load integration: ${e}`);let o=a[e];if("function"==typeof o&&!("_isShim"in o))return o;let s=(n=i,r=e9(),new URL(`/${G}/${n}.min.js`,r?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com").toString()),l=rR.document.createElement("script");l.src=s,l.crossOrigin="anonymous",l.referrerPolicy="strict-origin",t&&l.setAttribute("nonce",t);let u=new Promise((e,t)=>{l.addEventListener("load",()=>e()),l.addEventListener("error",t)}),c=rR.document.currentScript,d=rR.document.body||rR.document.head||c?.parentElement;if(d)d.appendChild(l);else throw Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await u}catch{throw Error(`Error when loading integration: ${e}`)}let f=a[e];if("function"!=typeof f)throw Error(`Could not load integration: ${e}`);return f}let oS=ac({lazyLoadIntegration:o_}),ox=ac({getModalIntegration:()=>og,getScreenshotIntegration:()=>ob}),oE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.levels||ev,n=e.handled??!0;return{name:"CaptureConsole",setup(e){"console"in X&&rz(r=>{var i,a,o;let s,{args:l,level:u}=r;e9()===e&&t.includes(u)&&(i=l,a=u,o=n,s={level:rQ(a),extra:{arguments:i}},e6(e=>{if(e.addEventProcessor(e=>(e.logger="console",eB(e,{handled:o,type:"auto.core.capture_console"}),e)),"assert"===a){if(!i[0]){let t=`Assertion failed: ${eD(i.slice(1)," ")||"console.assert"}`;e.setExtra("arguments",i.slice(1)),nc(t,s)}return}let t=i.find(e=>e instanceof Error);t?nu(t,s):nc(eD(i," "),s)}))})}}};function oT(e,t,n){var r,i,a;return"util"in X&&"function"==typeof X.util.format?X.util.format(...e):(r=e,i=t,a=n,r.map(e=>es(e)?String(e):JSON.stringify(no(e,i,a))).join(" "))}let ok={[tl]:"auto.log.console"},oC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.levels||ev;return{name:"ConsoleLogs",setup(e){let{enableLogs:n,normalizeDepth:r=3,normalizeMaxBreadth:i=1e3}=e.getOptions();if(!n){Z&&ex.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled");return}rz(n=>{var a;let o,s,{args:l,level:u}=n;if(e9()!==e||!t.includes(u))return;let c=l[0],d=l.slice(1);if("assert"===u){c||n8({level:"error",message:d.length>0?`Assertion failed: ${oT(d,r,i)}`:"Assertion failed",attributes:ok});return}let f="log"===u,p=l.length>1&&"string"==typeof l[0]&&(a=l[0],!/%[sdifocO]/.test(a)),h={...ok,...p?(o={},s=Array(d.length).fill("{}").join(" "),o["sentry.message.template"]=`${c} ${s}`,d.forEach((e,t)=>{o[`sentry.message.parameter.${t}`]=e}),o):{}};n8({level:f?"info":u,message:oT(l,r,i),severityNumber:f?10:void 0,attributes:h})})}}};function oA(e,t){var n,r,i,a;let o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};try{o=e()}catch(e){throw t(e),s(),e}return n=o,r=t,i=s,a=l,ec(n)?n.then(e=>(i(),a(e),e),e=>{throw r(e),i(),e}):(i(),a(n),n)}class oI{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=e.traceId||eL(),this._spanId=e.spanId||eK()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}function oM(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:tQ(),i=r&&tJ(r);i&&(Z&&ex.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[td]:t,[tc]:n}))}function oR(e){if(!e||0===e.length)return;let t={};return e.forEach(e=>{let n=e.attributes||{},r=n[tc],i=n[td];"string"==typeof r&&"number"==typeof i&&(t[e.name]={value:i,unit:r})}),t}class oP{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=e.traceId||eL(),this._spanId=e.spanId||eK(),this._startTime=e.startTimestamp||eH(),this._links=e.links,this._attributes={},this.setAttributes({[tl]:"manual",[ts]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){let{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:+!!n}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=t$(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(ti,"custom"),this}end(e){this._endTime||(this._endTime=t$(e),function(e){if(!Z)return;let{description:t="< unknown name >",op:n="< unknown op >"}=tV(e),{spanId:r}=e.spanContext(),i=tJ(e)===e,a=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;ex.log(a)}(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[ts],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:tW(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[tl],profile_id:this._attributes[tp],exclusive_time:this._attributes[th],measurements:oR(this._events),is_segment:this._isStandaloneSpan&&tJ(this)===this||void 0,segment_id:this._isStandaloneSpan?tJ(this).spanContext().spanId:void 0,links:tz(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){Z&&ex.log("[Tracing] Adding an event to span:",e);let r=oD(t)?t:n||eH(),i=oD(t)?{}:t||{},a={name:e,time:t$(r),attributes:i};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=e9();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===tJ(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){let t=e9();if(!t)return;let n=e[1];n&&0!==n.length?t.sendEnvelope(e):t.recordDroppedEvent("before_send","span")}(function(e,t){let n=t4(e[0]),r=t?.getDsn(),i=t?.getOptions().tunnel,a={sent_at:new Date().toISOString(),...!!n.trace_id&&!!n.public_key&&{trace:n},...!!i&&r&&{dsn:tS(r)}},{beforeSendSpan:o,ignoreSpans:s}=t?.getOptions()||{},l=s?.length?e.filter(e=>!n2(tV(e),s)):e,u=e.length-l.length;u&&t?.recordDroppedEvent("before_send","span",u);let c=o?e=>{let t=tV(e),n=o(t);return n||(tZ(),t)}:tV,d=[];for(let e of l){let t=c(e);t&&d.push([{type:"span"},t])}return nK(a,d)}([this],e)):(Z&&ex.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));let t=this._convertSpanToTransaction();t&&(tP(this).scope||e3()).captureEvent(t)}_convertSpanToTransaction(){if(!oO(tV(this)))return;this._name||(Z&&ex.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:t}=tP(this),n=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(!0!==this._sampled)return;let r=tY(this).filter(e=>{var t;return e!==this&&!((t=e)instanceof oP&&t.isStandaloneSpan())}).map(e=>tV(e)).filter(oO),i=this._attributes[ti];delete this._attributes[tf],r.forEach(e=>{delete e.data[tf]});let a={contexts:{trace:function(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:a,status:o,origin:s,links:l}=tV(e);return{parent_span_id:a,span_id:t,trace_id:n,data:r,op:i,status:o,origin:s,links:l}}(this)},spans:r.length>1e3?r.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,dynamicSamplingContext:t4(this)},request:n,...i&&{transaction_info:{source:i}}},o=oR(this._events);return o&&Object.keys(o).length&&(Z&&ex.log("[Measurements] Adding measurements to transaction event",JSON.stringify(o,void 0,2)),a.measurements=o),a}}function oD(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function oO(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}let oN="__SENTRY_SUPPRESS_TRACING__";function oL(e,t){let n=oq();if(n.startSpan)return n.startSpan(e,t);let r=oV(e),{forceTransaction:i,parentSpan:a,scope:o}=e;return e6(o?.clone(),()=>oG(a)(()=>{let n=e3(),o=oK(n,a),s=e.onlyIfParent&&!o?new oI:oH({parentSpan:o,spanArguments:r,forceTransaction:i,scope:n});return eX(n,s),oA(()=>t(s),()=>{let{status:e}=tV(s);s.isRecording()&&(!e||"ok"===e)&&s.setStatus({code:2,message:"internal_error"})},()=>{s.end()})}))}function oj(e,t){let n=oq();if(n.startSpanManual)return n.startSpanManual(e,t);let r=oV(e),{forceTransaction:i,parentSpan:a,scope:o}=e;return e6(o?.clone(),()=>oG(a)(()=>{let n=e3(),o=oK(n,a),s=e.onlyIfParent&&!o?new oI:oH({parentSpan:o,spanArguments:r,forceTransaction:i,scope:n});return eX(n,s),oA(()=>t(s,()=>s.end()),()=>{let{status:e}=tV(s);s.isRecording()&&(!e||"ok"===e)&&s.setStatus({code:2,message:"internal_error"})})}))}function oU(e){let t=oq();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=oV(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?t=>e6(e.scope,t):void 0!==i?e=>oB(i,e):e=>e())(()=>{let t=e3(),a=oK(t,i);return e.onlyIfParent&&!a?new oI:oH({parentSpan:a,spanArguments:n,forceTransaction:r,scope:t})})}let oF=(e,t)=>{var n;let r,i=e2(Y());if(i.continueTrace)return i.continueTrace(e,t);let{sentryTrace:a,baggage:o}=e,s=e9(),l=tv(o);return s&&(n=l?.org_id,r=tT(s),n&&r&&n!==r?(ex.log(`Won't continue trace because org IDs don't match (incoming baggage: ${n}, SDK options: ${r})`),1):s.getOptions().strictTraceContinuation&&(n&&!r||!n&&r)&&(ex.log(`Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ${n}, Sentry client: ${r})`),1))?o$(t):e6(e=>{let n=tN(a,o);return e.setPropagationContext(n),t()})};function oB(e,t){let n=oq();return n.withActiveSpan?n.withActiveSpan(e,t):e6(n=>(eX(n,e||void 0),t(n)))}function oz(e){let t=oq();return t.suppressTracing?t.suppressTracing(e):e6(t=>{t.setSDKProcessingMetadata({[oN]:!0});let n=e();return t.setSDKProcessingMetadata({[oN]:void 0}),n})}function o$(e){return e6(t=>(t.setPropagationContext({traceId:eL(),sampleRand:Math.random()}),Z&&ex.log(`Starting a new trace with id ${t.getPropagationContext().traceId}`),oB(null,e)))}function oH(e){var t;let n,{parentSpan:r,spanArguments:i,forceTransaction:a,scope:o}=e;if(!tC()){let e=new oI;if(a||!r){let t={sampled:"false",sample_rate:"0",transaction:i.name,...t4(e)};eT(e,t1,t)}return e}let s=e4();if(r&&!a)n=function(e,t,n){let{spanId:r,traceId:i}=e.spanContext(),a=!t.getScopeData().sdkProcessingMetadata[oN]&&tq(e),o=a?new oP({...n,parentSpanId:r,traceId:i,sampled:a}):new oI({traceId:i});tX(e,o);let s=e9();return s&&(s.emit("spanStart",o),n.endTimestamp&&s.emit("spanEnd",o)),o}(r,o,i),tX(r,n);else if(r){let e=t4(r),{traceId:t,spanId:a}=r.spanContext(),s=tq(r);eT(n=oW({traceId:t,parentSpanId:a,...i},o,s),t1,e)}else{let{traceId:e,dsc:t,parentSpanId:r,sampled:a}={...s.getPropagationContext(),...o.getPropagationContext()};n=oW({traceId:e,parentSpanId:r,...i},o,a),t&&eT(n,t1,t)}return!function(e){if(!Z)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=tV(e),{spanId:i}=e.spanContext(),a=tq(e),o=tJ(e),s=o===e,l=`[Tracing] Starting ${a?"sampled":"unsampled"} ${s?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!s){let{op:e,description:t}=tV(o);u.push(`root ID: ${o.spanContext().spanId}`),e&&u.push(`root op: ${e}`),t&&u.push(`root description: ${t}`)}ex.log(`${l}
  ${u.join("\n  ")}`)}(n),(t=n)&&(eT(t,tR,function(e){try{let t=X.WeakRef;if("function"==typeof t)return new t(e)}catch{}return e}(s)),eT(t,tM,o)),n}function oV(e){let t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let n={...t};return n.startTimestamp=t$(e.startTime),delete n.startTime,n}return t}function oq(){return e2(Y())}function oW(e,t,n){let r=e9(),i=r?.getOptions()||{},{name:a=""}=e,o={spanAttributes:{...e.attributes},spanName:a,parentSampled:n};r?.emit("beforeSampling",o,{decision:!1});let s=o.parentSampled??n,l=o.spanAttributes,u=t.getPropagationContext(),[c,d,f]=t.getScopeData().sdkProcessingMetadata[oN]?[!1]:function(e,t,n){let r,i;if(!tC(e))return[!1];"function"==typeof e.tracesSampler?(r=e.tracesSampler({...t,inheritOrSampleWith:e=>"number"==typeof t.parentSampleRate?t.parentSampleRate:"boolean"==typeof t.parentSampled?Number(t.parentSampled):e}),i=!0):void 0!==t.parentSampled?r=t.parentSampled:void 0!==e.tracesSampleRate&&(r=e.tracesSampleRate,i=!0);let a=tD(r);if(void 0===a)return Z&&ex.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(r)} of type ${JSON.stringify(typeof r)}.`),[!1];if(!a)return Z&&ex.log(`[Tracing] Discarding transaction because ${"function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,a,i];let o=n<a;return!o&&Z&&ex.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),[o,a,i]}(i,{name:a,parentSampled:s,attributes:l,parentSampleRate:tD(u.dsc?.sample_rate)},u.sampleRand),p=new oP({...e,attributes:{[ti]:"custom",[ta]:void 0!==d&&f?d:void 0,...l},sampled:c});return!c&&r&&(Z&&ex.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function oK(e,t){if(t)return t;if(null===t)return;let n=e[eG];if(!n)return;let r=e9();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?tJ(n):n}function oG(e){return void 0!==e?t=>oB(e,t):e=>e()}let oX=["trace","debug","info","warn","error","fatal"];function oY(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Set(e.levels??oX),n=e.client;return{log(e){let{type:r,level:i,message:a,args:o,tag:s,date:l,...u}=e,c=n||e9();if(!c)return;let d=function(e,t){if("verbose"===e)return"debug";if("silent"===e)return"trace";if(e){let t=oJ[e];if(t)return t}if("number"==typeof t){let e=oQ[t];if(e)return e}return"info"}(r,i);if(!t.has(d))return;let{normalizeDepth:f=3,normalizeMaxBreadth:p=1e3}=c.getOptions(),h=[];a&&h.push(a),o&&o.length>0&&h.push(oT(o,f,p));let g=h.join(" ");u["sentry.origin"]="auto.log.consola",s&&(u["consola.tag"]=s),r&&(u["consola.type"]=r),null!=i&&"number"==typeof i&&(u["consola.level"]=i),n8({level:d,message:g,attributes:u})}}}let oJ={silent:"trace",fatal:"fatal",error:"error",warn:"warn",log:"info",info:"info",success:"info",fail:"error",ready:"info",start:"info",box:"info",debug:"debug",trace:"trace",verbose:"debug",critical:"fatal",notice:"info"},oQ={0:"fatal",1:"warn",2:"info",3:"info",4:"debug",5:"trace"},oZ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{depth:t=3,captureErrorCause:n=!0}=e;return{name:"ExtraErrorData",processEvent(e,r,i){let{maxValueLength:a}=i.getOptions();return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!t.originalException||!et(t.originalException))return e;let a=t.originalException.name||t.originalException.constructor.name,o=function e(t,n,r){try{let i=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],a={};for(let e of Object.keys(t)){if(-1!==i.indexOf(e))continue;let n=t[e];a[e]=et(n)||"string"==typeof n?r?eR(`${n}`,r):`${n}`:n}if(n&&void 0!==t.cause&&(et(t.cause)?a.cause={[t.cause.name||t.cause.constructor.name]:e(t.cause,!1,r)}:a.cause=t.cause),"function"==typeof t.toJSON){let e=t.toJSON();for(let t of Object.keys(e)){let n=e[t];a[t]=et(n)?n.toString():n}}return a}catch(e){Z&&ex.error("Unable to extract extra data from the Error object:",e)}return null}(t.originalException,r,i);if(o){let t={...e.contexts},r=no(o,n);return el(r)&&(eT(r,"__sentry_skip_normalization__",!0),t[a]=r),{...e,contexts:t}}return e}(e,r,t,n,a)}}},o0="flag.evaluation.";function o1(e){let t=e3().getScopeData().contexts.flags,n=t?t.values:[];return n.length&&(void 0===e.contexts&&(e.contexts={}),e.contexts.flags={values:[...n]}),e}function o2(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=e3().getScopeData().contexts;r.flags||(r.flags={values:[]}),function(e,t,n,r){if("boolean"!=typeof n)return;if(e.length>r){Z&&ex.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}let i=e.findIndex(e=>e.flag===t);-1!==i&&e.splice(i,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}(r.flags.values,e,t,n)}function o3(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;if("boolean"!=typeof t)return;let r=tQ();if(!r)return;let i=tV(r).data;`${o0}${e}`in i?r.setAttribute(`${o0}${e}`,t):Object.keys(i).filter(e=>e.startsWith(o0)).length<n&&r.setAttribute(`${o0}${e}`,t)}let o4=()=>({name:"FeatureFlags",processEvent:(e,t,n)=>o1(e),addFeatureFlag(e,t){o2(e,t),o3(e,t)}});function o5(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.client||e9();if(!nS()||!t)return{};let n=e2(Y());if(n.getTraceData)return n.getTraceData(e);let r=e.scope||e3(),i=e.span||tQ(),a=i?tB(i):function(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return tL(t,r,n)}(r),o=ty(i?t4(i):t3(t,r));if(!tO.test(a))return ex.warn("Invalid sentry-trace data. Cannot generate trace data"),{};let s={"sentry-trace":a,baggage:o};if(e.propagateTraceparent){let e=i?function(e){let{traceId:t,spanId:n}=e.spanContext();return tj(t,n,tq(e))}(i):function(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return tj(t,r,n)}(r);e&&(s.traceparent=e)}return s}let o6="gen_ai.system",o8="gen_ai.request.model",o9="gen_ai.request.stream",o7="gen_ai.request.temperature",se="gen_ai.request.max_tokens",st="gen_ai.request.frequency_penalty",sn="gen_ai.request.presence_penalty",sr="gen_ai.request.top_p",si="gen_ai.request.top_k",sa="gen_ai.response.finish_reasons",so="gen_ai.response.model",ss="gen_ai.response.id",sl="gen_ai.usage.input_tokens",su="gen_ai.usage.output_tokens",sc="gen_ai.usage.total_tokens",sd="gen_ai.operation.name",sf="gen_ai.request.messages",sp="gen_ai.response.text",sh="gen_ai.request.available_tools",sg="gen_ai.response.streaming",sm="gen_ai.response.tool_calls",sv="anthropic.response.timestamp",sy=e=>new TextEncoder().encode(e).length,sb=e=>sy(JSON.stringify(e));function sw(e,t){if(sy(e)<=t)return e;let n=0,r=e.length,i="";for(;n<=r;){let a=Math.floor((n+r)/2),o=e.slice(0,a);sy(o)<=t?(i=o,n=a+1):r=a-1}return i}function s_(e,t){return"string"==typeof e?t:{...e,text:t}}function sS(e){return e.includes("messages")?"messages":e.includes("completions")?"completions":e.includes("models")?"models":e.includes("chat")?"chat":e.split(".").pop()||"unknown"}function sx(e){return`gen_ai.${sS(e)}`}function sE(e,t){return e?`${e}.${t}`:t}function sT(e,t,n,r,i){void 0!==t&&e.setAttributes({[sl]:t}),void 0!==n&&e.setAttributes({[su]:n}),(void 0!==t||void 0!==n||void 0!==r||void 0!==i)&&e.setAttributes({[sc]:(t??0)+(n??0)+(r??0)+(i??0)})}function sk(e){return"string"==typeof e?sw(e,2e4):Array.isArray(e)?JSON.stringify(function(e,t){if(!Array.isArray(e)||0===e.length||sb(e)<=2e4)return e;let n=e.map(sb),r=0,i=e.length;for(let t=e.length-1;t>=0;t--){let e=n[t];if(e&&r+e>2e4)break;e&&(r+=e),i=t}return i===e.length?function(e,t){if(!e||"object"!=typeof e)return[];if(null!==e&&"object"==typeof e&&"content"in e&&"string"==typeof e.content){let t=2e4-sb({...e,content:""});if(t<=0)return[];let n=sw(e.content,t);return[{...e,content:n}]}return null!==e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)&&e.parts.length>0?function(e,t){let{parts:n}=e,r=n.map(e=>s_(e,"")),i=t-sb({...e,parts:r});if(i<=0)return[];let a=[];for(let e of n){let t="string"==typeof e?e:e.text,n=sy(t);if(n<=i)a.push(e),i-=n;else if(0===a.length){let n=sw(t,i);n&&a.push(s_(e,n));break}else break}return a.length>0?[{...e,parts:a}]:[]}(e,2e4):[]}(e[e.length-1],2e4):e.slice(i)}(e,0)):JSON.stringify(e)}function sC(e,t,n,r){if(e&&"object"==typeof e&&(!("type"in e)||"string"!=typeof e.type||"error"!==e.type||(r.setStatus({code:2,message:e.error?.type??"internal_error"}),nu(e.error,{mechanism:{handled:!1,type:"auto.ai.anthropic.anthropic_error"}}),0))){if("message_delta"===e.type&&e.usage&&"output_tokens"in e.usage&&"number"==typeof e.usage.output_tokens&&(t.completionTokens=e.usage.output_tokens),e.message){let n=e.message;n.id&&(t.responseId=n.id),n.model&&(t.responseModel=n.model),n.stop_reason&&t.finishReasons.push(n.stop_reason),n.usage&&("number"==typeof n.usage.input_tokens&&(t.promptTokens=n.usage.input_tokens),"number"==typeof n.usage.cache_creation_input_tokens&&(t.cacheCreationInputTokens=n.usage.cache_creation_input_tokens),"number"==typeof n.usage.cache_read_input_tokens&&(t.cacheReadInputTokens=n.usage.cache_read_input_tokens))}"content_block_start"===e.type&&"number"==typeof e.index&&e.content_block&&("tool_use"===e.content_block.type||"server_tool_use"===e.content_block.type)&&(t.activeToolBlocks[e.index]={id:e.content_block.id,name:e.content_block.name,inputJsonParts:[]});if("content_block_delta"===e.type&&e.delta){if("number"==typeof e.index&&"partial_json"in e.delta&&"string"==typeof e.delta.partial_json){let n=t.activeToolBlocks[e.index];n&&n.inputJsonParts.push(e.delta.partial_json)}n&&"string"==typeof e.delta.text&&t.responseTexts.push(e.delta.text)}!function(e,t){let n;if("content_block_stop"!==e.type||"number"!=typeof e.index)return;let r=t.activeToolBlocks[e.index];if(!r)return;let i=r.inputJsonParts.join("");try{n=i?JSON.parse(i):{}}catch{n={__unparsed:i}}t.toolCalls.push({type:"tool_use",id:r.id,name:r.name,input:n}),delete t.activeToolBlocks[e.index]}(e,t)}}async function*sA(e,t,n){let r={responseTexts:[],finishReasons:[],responseId:"",responseModel:"",promptTokens:void 0,completionTokens:void 0,cacheCreationInputTokens:void 0,cacheReadInputTokens:void 0,toolCalls:[],activeToolBlocks:{}};try{for await(let i of e)sC(i,r,n,t),yield i}finally{r.responseId&&t.setAttributes({[ss]:r.responseId}),r.responseModel&&t.setAttributes({[so]:r.responseModel}),sT(t,r.promptTokens,r.completionTokens,r.cacheCreationInputTokens,r.cacheReadInputTokens),t.setAttributes({[sg]:!0}),r.finishReasons.length>0&&t.setAttributes({[sa]:JSON.stringify(r.finishReasons)}),n&&r.responseTexts.length>0&&t.setAttributes({[sp]:r.responseTexts.join("")}),n&&r.toolCalls.length>0&&t.setAttributes({[sm]:JSON.stringify(r.toolCalls)}),t.end()}}let sI=["messages.create","messages.stream","messages.countTokens","models.get","completions.create","models.retrieve","beta.messages.create"];function sM(e,t){if("messages"in t){let n=sk(t.messages);e.setAttributes({[sf]:n})}if("input"in t){let n=sk(t.input);e.setAttributes({[sf]:n})}"prompt"in t&&e.setAttributes({"gen_ai.prompt":JSON.stringify(t.prompt)})}function sR(e,t,n){throw nu(e,{mechanism:{handled:!1,type:"auto.ai.anthropic",data:{function:n}}}),t.isRecording()&&(t.setStatus({code:2,message:"internal_error"}),t.end()),e}function sP(e,t){let n=!!e9()?.getOptions().sendDefaultPii;return function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;return new Proxy(t,{get(t,i){let a=t[i],o=sE(n,String(i));return"function"==typeof a&&sI.includes(o)?new Proxy(a,{apply(e,n,i){let s=function(e,t){let n={[o6]:"anthropic",[sd]:sS(t),[tl]:"auto.ai.anthropic"};if(e.length>0&&"object"==typeof e[0]&&null!==e[0]){let t=e[0];t.tools&&Array.isArray(t.tools)&&(n[sh]=JSON.stringify(t.tools)),n[o8]=t.model??"unknown","temperature"in t&&(n[o7]=t.temperature),"top_p"in t&&(n[sr]=t.top_p),"stream"in t&&(n[o9]=t.stream),"top_k"in t&&(n[si]=t.top_k),"frequency_penalty"in t&&(n[st]=t.frequency_penalty),"max_tokens"in t&&(n[se]=t.max_tokens)}else"models.retrieve"===t||"models.get"===t?n[o8]=e[0]:n[o8]="unknown";return n}(i,o),l=s[o8]??"unknown",u=sS(o),c="object"==typeof i[0]?i[0]:void 0,d=!!c?.stream,f="messages.stream"===o;if(d||f){let n,l;return n=s[o8]??"unknown",l={name:`${u} ${n} stream-response`,op:sx(o),attributes:s},d&&!f?oj(l,async e=>{try{r.recordInputs&&c&&sM(e,c);let n=await a.apply(t,i);return sA(n,e,r.recordOutputs??!1)}catch(t){return sR(t,e,o)}}):oj(l,n=>{try{var a,s;let o;return r.recordInputs&&c&&sM(n,c),a=e.apply(t,i),s=r.recordOutputs??!1,o={responseTexts:[],finishReasons:[],responseId:"",responseModel:"",promptTokens:void 0,completionTokens:void 0,cacheCreationInputTokens:void 0,cacheReadInputTokens:void 0,toolCalls:[],activeToolBlocks:{}},a.on("streamEvent",e=>{sC(e,o,s,n)}),a.on("message",()=>{n.isRecording()&&(o.responseId&&n.setAttributes({[ss]:o.responseId}),o.responseModel&&n.setAttributes({[so]:o.responseModel}),sT(n,o.promptTokens,o.completionTokens,o.cacheCreationInputTokens,o.cacheReadInputTokens),n.setAttributes({[sg]:!0}),o.finishReasons.length>0&&n.setAttributes({[sa]:JSON.stringify(o.finishReasons)}),s&&o.responseTexts.length>0&&n.setAttributes({[sp]:o.responseTexts.join("")}),s&&o.toolCalls.length>0&&n.setAttributes({[sm]:JSON.stringify(o.toolCalls)}),n.end())}),a.on("error",e=>{nu(e,{mechanism:{handled:!1,type:"auto.ai.anthropic.stream_error"}}),n.isRecording()&&(n.setStatus({code:2,message:"stream_error"}),n.end())}),a}catch(e){return sR(e,n,o)}})}return oL({name:`${u} ${l}`,op:sx(o),attributes:s},n=>(r.recordInputs&&c&&sM(n,c),oA(()=>e.apply(t,i),e=>{nu(e,{mechanism:{handled:!1,type:"auto.ai.anthropic",data:{function:o}}})},()=>{},e=>(function(e,t,n){if(t&&"object"==typeof t){if("type"in t&&"error"===t.type)return void(t.error&&(e.setStatus({code:2,message:t.error.type||"internal_error"}),nu(t.error,{mechanism:{handled:!1,type:"auto.ai.anthropic.anthropic_error"}})));n&&function(e,t){if("content"in t&&Array.isArray(t.content)){e.setAttributes({[sp]:t.content.map(e=>e.text).filter(e=>!!e).join("")});let n=[];for(let e of t.content)("tool_use"===e.type||"server_tool_use"===e.type)&&n.push(e);n.length>0&&e.setAttributes({[sm]:JSON.stringify(n)})}"completion"in t&&e.setAttributes({[sp]:t.completion}),"input_tokens"in t&&e.setAttributes({[sp]:JSON.stringify(t.input_tokens)})}(e,t),"id"in t&&"model"in t&&(e.setAttributes({[ss]:t.id,[so]:t.model}),"created"in t&&"number"==typeof t.created&&e.setAttributes({[sv]:new Date(1e3*t.created).toISOString()}),"created_at"in t&&"number"==typeof t.created_at&&e.setAttributes({[sv]:new Date(1e3*t.created_at).toISOString()}),"usage"in t&&t.usage&&sT(e,t.usage.input_tokens,t.usage.output_tokens,t.usage.cache_creation_input_tokens,t.usage.cache_read_input_tokens))}})(n,e,r.recordOutputs))))}}):"function"==typeof a?a.bind(t):a&&"object"==typeof a?e(a,o,r):a}})}(e,"",{recordInputs:n,recordOutputs:n,...t})}let sD=["models.generateContent","models.generateContentStream","chats.create","sendMessage","sendMessageStream"],sO="chats.create";async function*sN(e,t,n){let r={responseTexts:[],finishReasons:[],toolCalls:[]};try{for await(let i of e)!function(e,t,n,r){if(!(!e||function(e,t){let n=e?.promptFeedback;if(n?.blockReason){let e=n.blockReasonMessage??n.blockReason;return t.setStatus({code:2,message:`Content blocked: ${e}`}),nu(`Content blocked: ${e}`,{mechanism:{handled:!1,type:"auto.ai.google_genai"}}),!0}return!1}(e,r))){let r;for(let i of("string"==typeof e.responseId&&(t.responseId=e.responseId),"string"==typeof e.modelVersion&&(t.responseModel=e.modelVersion),(r=e.usageMetadata)&&("number"==typeof r.promptTokenCount&&(t.promptTokens=r.promptTokenCount),"number"==typeof r.candidatesTokenCount&&(t.completionTokens=r.candidatesTokenCount),"number"==typeof r.totalTokenCount&&(t.totalTokens=r.totalTokenCount)),Array.isArray(e.functionCalls)&&t.toolCalls.push(...e.functionCalls),e.candidates??[]))for(let e of(i?.finishReason&&!t.finishReasons.includes(i.finishReason)&&t.finishReasons.push(i.finishReason),i?.content?.parts??[]))n&&e.text&&t.responseTexts.push(e.text),e.functionCall&&t.toolCalls.push({type:"function",id:e.functionCall.id,name:e.functionCall.name,arguments:e.functionCall.args})}}(i,r,n,t),yield i}finally{let e={[sg]:!0};r.responseId&&(e[ss]=r.responseId),r.responseModel&&(e[so]=r.responseModel),void 0!==r.promptTokens&&(e[sl]=r.promptTokens),void 0!==r.completionTokens&&(e[su]=r.completionTokens),void 0!==r.totalTokens&&(e[sc]=r.totalTokens),r.finishReasons.length&&(e[sa]=JSON.stringify(r.finishReasons)),n&&r.responseTexts.length&&(e[sp]=r.responseTexts.join("")),n&&r.toolCalls.length&&(e[sm]=JSON.stringify(r.toolCalls)),t.setAttributes(e),t.end()}}function sL(e,t){if("model"in e&&"string"==typeof e.model)return e.model;if(t&&"object"==typeof t){if("model"in t&&"string"==typeof t.model)return t.model;if("modelVersion"in t&&"string"==typeof t.modelVersion)return t.modelVersion}return"unknown"}function sj(e,t){if("contents"in t){let n=sk(t.contents);e.setAttributes({[sf]:n})}if("message"in t){let n=sk(t.message);e.setAttributes({[sf]:n})}if("history"in t){let n=sk(t.history);e.setAttributes({[sf]:n})}}function sU(e,t,n,r){let i=t===sO;return new Proxy(e,{apply(e,a,o){let s=o[0],l=function(e,t,n){let r={[o6]:"google_genai",[sd]:sS(e),[tl]:"auto.ai.google_genai"};if(t){if(r[o8]=sL(t,n),"config"in t&&"object"==typeof t.config&&t.config){let e,n=t.config;if(Object.assign(r,(e={},"temperature"in n&&"number"==typeof n.temperature&&(e[o7]=n.temperature),"topP"in n&&"number"==typeof n.topP&&(e[sr]=n.topP),"topK"in n&&"number"==typeof n.topK&&(e[si]=n.topK),"maxOutputTokens"in n&&"number"==typeof n.maxOutputTokens&&(e[se]=n.maxOutputTokens),"frequencyPenalty"in n&&"number"==typeof n.frequencyPenalty&&(e[st]=n.frequencyPenalty),"presencePenalty"in n&&"number"==typeof n.presencePenalty&&(e[sn]=n.presencePenalty),e)),"tools"in n&&Array.isArray(n.tools)){let e=n.tools.map(e=>e.functionDeclarations);r[sh]=JSON.stringify(e)}}}else r[o8]=sL({},n);return r}(t,s,n),u=l[o8]??"unknown",c=sS(t);return t.includes("Stream")||t.endsWith("generateContentStream")||t.endsWith("sendMessageStream")?oj({name:`${c} ${u} stream-response`,op:sx(t),attributes:l},async i=>{try{r.recordInputs&&s&&sj(i,s);let t=await e.apply(n,o);return sN(t,i,!!r.recordOutputs)}catch(e){throw i.setStatus({code:2,message:"internal_error"}),nu(e,{mechanism:{handled:!1,type:"auto.ai.google_genai",data:{function:t}}}),i.end(),e}}):oL({name:i?`${c} ${u} create`:`${c} ${u}`,op:sx(t),attributes:l},a=>(r.recordInputs&&s&&sj(a,s),oA(()=>e.apply(n,o),e=>{nu(e,{mechanism:{handled:!1,type:"auto.ai.google_genai",data:{function:t}}})},()=>{},e=>{i||function(e,t,n){if(t&&"object"==typeof t){if(t.usageMetadata&&"object"==typeof t.usageMetadata){let n=t.usageMetadata;"number"==typeof n.promptTokenCount&&e.setAttributes({[sl]:n.promptTokenCount}),"number"==typeof n.candidatesTokenCount&&e.setAttributes({[su]:n.candidatesTokenCount}),"number"==typeof n.totalTokenCount&&e.setAttributes({[sc]:n.totalTokenCount})}if(n&&Array.isArray(t.candidates)&&t.candidates.length>0){let n=t.candidates.map(e=>e.content?.parts&&Array.isArray(e.content.parts)?e.content.parts.map(e=>"string"==typeof e.text?e.text:"").filter(e=>e.length>0).join(""):"").filter(e=>e.length>0);n.length>0&&e.setAttributes({[sp]:n.join("")})}if(n&&t.functionCalls){let n=t.functionCalls;Array.isArray(n)&&n.length>0&&e.setAttributes({[sm]:JSON.stringify(n)})}}}(a,e,r.recordOutputs)})))}})}function sF(e,t){let n=!!e9()?.getOptions().sendDefaultPii;return function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;return new Proxy(t,{get:(t,i,a)=>{let o=Reflect.get(t,i,a),s=sE(n,String(i));if("function"==typeof o&&function(e){if(sD.includes(e))return!0;let t=e.split(".").pop();return sD.includes(t)}(s)){if(s===sO){let n=sU(o,s,t,r);return function(){let t=n(...arguments);return t&&"object"==typeof t?e(t,"chat",r):t}}return sU(o,s,t,r)}return"function"==typeof o?o.bind(t):o&&"object"==typeof o?e(o,s,r):o}})}(e,"",{recordInputs:n,recordOutputs:n,...t})}let sB=["responses.create","chat.completions.create"],sz=["response.created","response.in_progress","response.failed","response.completed","response.incomplete","response.queued","response.output_text.delta","response.output_item.added","response.function_call_arguments.delta","response.function_call_arguments.done","response.output_item.done"];function s$(e){return e.includes("chat.completions")?"chat":e.includes("responses")?"responses":e.split(".").pop()||"unknown"}function sH(e){return`gen_ai.${s$(e)}`}function sV(e,t,n,r){void 0!==t&&e.setAttributes({"openai.usage.prompt_tokens":t,[sl]:t}),void 0!==n&&e.setAttributes({"openai.usage.completion_tokens":n,[su]:n}),void 0!==r&&e.setAttributes({[sc]:r})}function sq(e,t,n,r){e.setAttributes({"openai.response.id":t,[ss]:t}),e.setAttributes({"openai.response.model":n,[so]:n}),e.setAttributes({"openai.response.timestamp":new Date(1e3*r).toISOString()})}async function*sW(e,t,n){let r={eventTypes:[],responseTexts:[],finishReasons:[],responseId:"",responseModel:"",responseTimestamp:0,promptTokens:void 0,completionTokens:void 0,totalTokens:void 0,chatCompletionToolCalls:{},responsesApiToolCalls:[]};try{for await(let i of e){if(null!==i&&"object"==typeof i&&"object"in i&&"chat.completion.chunk"===i.object){for(let e of(r.responseId=i.id??r.responseId,r.responseModel=i.model??r.responseModel,r.responseTimestamp=i.created??r.responseTimestamp,i.usage&&(r.promptTokens=i.usage.prompt_tokens,r.completionTokens=i.usage.completion_tokens,r.totalTokens=i.usage.total_tokens),i.choices??[]))n&&(e.delta?.content&&r.responseTexts.push(e.delta.content),e.delta?.tool_calls&&function(e,t){for(let n of e){let e=n.index;if(void 0!==e&&n.function)if(e in t.chatCompletionToolCalls){let r=t.chatCompletionToolCalls[e];n.function.arguments&&r?.function&&(r.function.arguments+=n.function.arguments)}else t.chatCompletionToolCalls[e]={...n,function:{name:n.function.name,arguments:n.function.arguments||""}}}}(e.delta.tool_calls,r)),e.finish_reason&&r.finishReasons.push(e.finish_reason)}else null!==i&&"object"==typeof i&&"type"in i&&"string"==typeof i.type&&i.type.startsWith("response.")&&function(e,t,n,r){if(!(e&&"object"==typeof e))return t.eventTypes.push("unknown:non-object");if(e instanceof Error){r.setStatus({code:2,message:"internal_error"}),nu(e,{mechanism:{handled:!1,type:"auto.ai.openai.stream-response"}});return}if("type"in e){if(!sz.includes(e.type))return t.eventTypes.push(e.type);if(n&&("response.output_item.done"===e.type&&"item"in e&&t.responsesApiToolCalls.push(e.item),"response.output_text.delta"===e.type&&"delta"in e&&e.delta))return t.responseTexts.push(e.delta);if("response"in e){let{response:r}=e;t.responseId=r.id??t.responseId,t.responseModel=r.model??t.responseModel,t.responseTimestamp=r.created_at??t.responseTimestamp,r.usage&&(t.promptTokens=r.usage.input_tokens,t.completionTokens=r.usage.output_tokens,t.totalTokens=r.usage.total_tokens),r.status&&t.finishReasons.push(r.status),n&&r.output_text&&t.responseTexts.push(r.output_text)}}}(i,r,n,t);yield i}}finally{sq(t,r.responseId,r.responseModel,r.responseTimestamp),sV(t,r.promptTokens,r.completionTokens,r.totalTokens),t.setAttributes({[sg]:!0}),r.finishReasons.length&&t.setAttributes({[sa]:JSON.stringify(r.finishReasons)}),n&&r.responseTexts.length&&t.setAttributes({[sp]:r.responseTexts.join("")});let e=[...Object.values(r.chatCompletionToolCalls),...r.responsesApiToolCalls];e.length>0&&t.setAttributes({[sm]:JSON.stringify(e)}),t.end()}}function sK(e,t){if("messages"in t){let n=sk(t.messages);e.setAttributes({[sf]:n})}if("input"in t){let n=sk(t.input);e.setAttributes({[sf]:n})}}function sG(e,t){return function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;return new Proxy(t,{get(t,i){var a;let o=t[i],s=(a=String(i),n?`${n}.${a}`:a);return"function"==typeof o&&sB.includes(s)?async function(){let e,n,i;for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];let c=r||(e=e3().getClient(),i=!!(n=e?.getIntegrationByName("OpenAI"))&&!!e?.getOptions().sendDefaultPii,{recordInputs:n?.options?.recordInputs??i,recordOutputs:n?.options?.recordOutputs??i}),d=function(e,t){let n={[o6]:"openai",[sd]:s$(t),[tl]:"auto.ai.openai"};if(e.length>0&&"object"==typeof e[0]&&null!==e[0]){let t=e[0],r=[...Array.isArray(t.tools)?t.tools:[],...t.web_search_options&&"object"==typeof t.web_search_options?[{type:"web_search_options",...t.web_search_options}]:[]];r.length>0&&(n[sh]=JSON.stringify(r))}if(e.length>0&&"object"==typeof e[0]&&null!==e[0]){let t=e[0];n[o8]=t.model??"unknown","temperature"in t&&(n[o7]=t.temperature),"top_p"in t&&(n[sr]=t.top_p),"frequency_penalty"in t&&(n[st]=t.frequency_penalty),"presence_penalty"in t&&(n[sn]=t.presence_penalty),"stream"in t&&(n[o9]=t.stream)}else n[o8]="unknown";return n}(l,s),f=d[o8]||"unknown",p=s$(s),h=l[0];return h&&"object"==typeof h&&!0===h.stream?oj({name:`${p} ${f} stream-response`,op:sH(s),attributes:d},async e=>{try{c.recordInputs&&l[0]&&"object"==typeof l[0]&&sK(e,l[0]);let n=await o.apply(t,l);return sW(n,e,c.recordOutputs??!1)}catch(t){throw e.setStatus({code:2,message:"internal_error"}),nu(t,{mechanism:{handled:!1,type:"auto.ai.openai.stream",data:{function:s}}}),e.end(),t}}):oL({name:`${p} ${f}`,op:sH(s),attributes:d},async e=>{try{c.recordInputs&&l[0]&&"object"==typeof l[0]&&sK(e,l[0]);let n=await o.apply(t,l);return!function(e,t,n){if(t&&"object"==typeof t){if(null!==t&&"object"==typeof t&&"object"in t&&"chat.completion"===t.object){if(sq(e,t.id,t.model,t.created),t.usage&&sV(e,t.usage.prompt_tokens,t.usage.completion_tokens,t.usage.total_tokens),Array.isArray(t.choices)){let r=t.choices.map(e=>e.finish_reason).filter(e=>null!==e);if(r.length>0&&e.setAttributes({[sa]:JSON.stringify(r)}),n){let n=t.choices.map(e=>e.message?.tool_calls).filter(e=>Array.isArray(e)&&e.length>0).flat();n.length>0&&e.setAttributes({[sm]:JSON.stringify(n)})}}if(n&&t.choices?.length){let n=t.choices.map(e=>e.message?.content||"");e.setAttributes({[sp]:JSON.stringify(n)})}}else if(null!==t&&"object"==typeof t&&"object"in t&&"response"===t.object){if(sq(e,t.id,t.model,t.created_at),t.status&&e.setAttributes({[sa]:JSON.stringify([t.status])}),t.usage&&sV(e,t.usage.input_tokens,t.usage.output_tokens,t.usage.total_tokens),n&&Array.isArray(t.output)&&t.output.length>0){let n=t.output.filter(e=>"object"==typeof e&&null!==e&&"function_call"===e.type);n.length>0&&e.setAttributes({[sm]:JSON.stringify(n)})}n&&t.output_text&&e.setAttributes({[sp]:t.output_text})}}}(e,n,c.recordOutputs),n}catch(e){throw nu(e,{mechanism:{handled:!1,type:"auto.ai.openai",data:{function:s}}}),e}})}:"function"==typeof o?o.bind(t):o&&"object"==typeof o?e(o,s,r):o}})}(e,"",t)}let sX=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],sY=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],sJ={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},sQ=["select","insert","upsert","update","delete"];function sZ(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function s0(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function s1(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Proxy(e,{apply:(n,r,i)=>oL({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[tl]:"auto.db.supabase",[ts]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},e=>Reflect.apply(n,r,i).then(t=>(t&&"object"==typeof t&&"error"in t&&t.error?(e.setStatus({code:2}),nu(t.error,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}})):e.setStatus({code:1}),e.end(),t)).catch(t=>{throw e.setStatus({code:2}),e.end(),nu(t,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}}),t}).then(...i))})}let s2=e=>{var t;if(!e){Z&&ex.warn("Supabase integration was not installed because no Supabase client was provided.");return}s0((t=e.constructor===Function?e:e.constructor).prototype.from)||(t.prototype.from=new Proxy(t.prototype.from,{apply(e,t,n){let r=Reflect.apply(e,t,n);return function(e){for(let t of sQ)s0(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(e,n,r){let i=Reflect.apply(e,n,r),a=i.constructor;return Z&&ex.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),s0(a.prototype.then)||(a.prototype.then=new Proxy(a.prototype.then,{apply(e,t,n){let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"GET":return"select";case"POST":if(t.Prefer?.includes("resolution="))return"upsert";return"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}(t.method,t.headers);if(!sQ.includes(r)||!t?.url?.pathname||"string"!=typeof t.url.pathname)return Reflect.apply(e,t,n);let i=t.url.pathname.split("/"),a=i.length>0?i[i.length-1]:"",o=[];for(let[e,n]of t.url.searchParams.entries())o.push(function(e,t){let n;if(""===t||"*"===t)return"select(*)";if("select"===e)return`select(${t})`;if("or"===e||e.endsWith(".or"))return`${e}${t}`;let[r,...i]=t.split(".");return n=r?.startsWith("fts")?"textSearch":r?.startsWith("plfts")?"textSearch[plain]":r?.startsWith("phfts")?"textSearch[phrase]":r?.startsWith("wfts")?"textSearch[websearch]":r&&sJ[r]||"filter",`${n}(${e}, ${i.join(".")})`}(e,n));let s=Object.create(null);if(el(t.body))for(let[e,n]of Object.entries(t.body))s[e]=n;let l=`${"select"===r?"":`${r}${s?"(...) ":""}`}${o.join(" ")} from(${a})`,u={"db.table":a,"db.schema":t.schema,"db.url":t.url.origin,"db.sdk":t.headers["X-Client-Info"],"db.system":"postgresql","db.operation":r,[tl]:"auto.db.supabase",[ts]:"db"};return o.length&&(u["db.query"]=o),Object.keys(s).length&&(u["db.body"]=s),oL({name:l,attributes:u},i=>Reflect.apply(e,t,[]).then(e=>{if(i&&(e&&"object"==typeof e&&"status"in e&&tI(i,e.status||500),i.end()),e.error){let t=Error(e.error.message);e.error.code&&(t.code=e.error.code),e.error.details&&(t.details=e.error.details);let n={};o.length&&(n.query=o),Object.keys(s).length&&(n.body=s),nu(t,e=>(e.addEventProcessor(e=>(eB(e,{handled:!1,type:"auto.db.supabase.postgres"}),e)),e.setContext("supabase",n),e))}let t={type:"supabase",category:`db.${r}`,message:l},n={};return o.length&&(n.query=o),Object.keys(s).length&&(n.body=s),Object.keys(n).length&&(t.data=n),rJ(t),e},e=>{throw i&&(tI(i,500),i.end()),e}).then(...n))}}),sZ(a.prototype.then)),i}}),sZ(e.prototype[t]))}(r.constructor),r}}),sZ(t.prototype.from));let n=e.auth;if(!(!n||s0(e.auth))){for(let t of sX){let r=n[t];r&&"function"==typeof e.auth[t]&&(e.auth[t]=s1(r))}for(let t of sY){let r=n.admin[t];r&&"function"==typeof e.auth.admin[t]&&(e.auth.admin[t]=s1(r,!0))}sZ(e.auth)}},s3=e=>{let t;return t=e.supabaseClient,{setupOnce(){s2(t)},name:"Supabase"}};function s4(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=new String(String.raw(e,...n));return i.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),i.__sentry_template_values__=n,i}let s5=s4;function s6(e,t,n,r,i){n8({level:e,message:t,attributes:n,severityNumber:i},r)}function s8(e,t){let{scope:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s6("trace",e,t,n)}function s9(e,t){let{scope:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s6("debug",e,t,n)}function s7(e,t){let{scope:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s6("info",e,t,n)}function le(e,t){let{scope:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s6("warn",e,t,n)}function lt(e,t){let{scope:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s6("error",e,t,n)}function ln(e,t){let{scope:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s6("fatal",e,t,n)}function lr(e,t){let n;return nG(e,(e,r)=>(t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n)),n}function li(e,t){return n=>{let r=e(n),i=new Map;function a(t,r){let a=r?`${t}:${r}`:t,o=i.get(a);if(!o){let s=tx(t);if(!s)return;let l=nW(s,n.tunnel);o=r?(t=>{let n=e(t);return{...n,send:async e=>{let t=lr(e,["event","transaction","profile","replay_event"]);return t&&(t.release=r),n.send(e)}}})({...n,url:l}):e({...n,url:l}),i.set(a,o)}return[t,o]}return{send:async function(e){let n=t({envelope:e,getEvent:function(t){return lr(e,t?.length?t:["event"])}}).map(e=>"string"==typeof e?a(e,void 0):a(e.dsn,e.release)).filter(e=>!!e),i=n.length?n:[["",r]];return(await Promise.all(i.map(t=>{let[n,r]=t;return r.send(nK(n?{...e[0],dsn:n}:e[0],e[1]))})))[0]},flush:async function(e){let t=[...i.values(),r];return(await Promise.all(t.map(t=>t.flush(e)))).every(e=>e)}}}}function la(e,t,n,r){!function(e,t){let n=t?.scope??e3(),r=t?.captureSerializedMetric??rt,i=n?.getClient()??e9();if(!i){Z&&ex.warn("No client available to capture metric.");return}let{_experiments:a,enableMetrics:o,beforeSendMetric:s}=i.getOptions();if(!(o??a?.enableMetrics??!0)){Z&&ex.warn("metrics option not enabled, metric will not be captured.");return}let l=function(e,t,n){var r;let i,{release:a,environment:o}=t.getOptions(),s={...e.attributes},{user:{id:l,email:u,username:c}}=(r=n,t6(i=e5().getScopeData(),e4().getScopeData()),t6(i,r.getScopeData()),i);re(s,"user.id",l,!1),re(s,"user.email",u,!1),re(s,"user.name",c,!1),re(s,"sentry.release",a),re(s,"sentry.environment",o);let{name:d,version:f}=t.getSdkMetadata()?.sdk??{};re(s,"sentry.sdk.name",d),re(s,"sentry.sdk.version",f);let p=t.getIntegrationByName("Replay"),h=p?.getReplayId(!0);return re(s,"sentry.replay_id",h),h&&p?.getRecordingMode()==="buffer"&&re(s,"sentry._internal.replay_is_buffering",!0),{...e,attributes:s}}(e,i,n),u=s||a?.beforeSendMetric,c=u?u(l):l;if(!c){Z&&ex.log("`beforeSendMetric` returned `null`, will not send metric.");return}let d=function(e,t,n){let r={};for(let t in e.attributes)void 0!==e.attributes[t]&&(r[t]=function(e){switch(typeof e){case"number":if(Number.isInteger(e))return{value:e,type:"integer"};return{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}(e.attributes[t]));let[,i]=n3(t,n),a=n[eG],o=a?a.spanContext().traceId:i?.trace_id,s=a?a.spanContext().spanId:void 0;return{timestamp:eH(),trace_id:o??"",span_id:s,name:e.name,type:e.type,unit:e.unit,value:e.value,attributes:r}}(c,i,n);Z&&ex.log("[Metric]",d),r(i,d),i.emit("afterCaptureMetric",l)}({type:e,name:t,value:n,unit:r?.unit,attributes:r?.attributes},{scope:r?.scope})}function lo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;la("counter",e,t,n)}function ls(e,t,n){la("gauge",e,t,n)}function ll(e,t,n){la("distribution",e,t,n)}let lu=new Map,lc=new Set;function ld(e,t){t.exception?.values?.forEach(t=>{t.stacktrace?.frames?.forEach(t=>{if(!t.filename||t.module_metadata)return;let n=function(e,t){if(X._sentryModuleMetadata)for(let t of Object.keys(X._sentryModuleMetadata)){let n=X._sentryModuleMetadata[t];if(!lc.has(t)){for(let r of(lc.add(t),e(t).reverse()))if(r.filename){lu.set(r.filename,n);break}}}return lu.get(t)}(e,t.filename);n&&(t.module_metadata=n)})})}function lf(e){e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{delete e.module_metadata})})}let lp=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",e=>{nG(e,(e,t)=>{if("event"===t){let t=Array.isArray(e)?e[1]:void 0;t&&(lf(t),e[1]=t)}})}),e.on("applyFrameMetadata",t=>{t.type||ld(e.getOptions().stackParser,t)})}}),lh=!1;function lg(){lh||(e.tag="sentry_tracingErrorCallback",lh=!0,ip(e),im(e));function e(){let e=tQ(),t=e&&tJ(e);if(t){let e="internal_error";Z&&ex.log(`[Tracing] Root span: ${e} -> Global error occurred`),t.setStatus({code:2,message:e})}}}let lm=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function lv(){let e="",t=!1;for(let n=arguments.length-1;n>=-1&&!t;n--){let r=n>=0?n<0||arguments.length<=n?void 0:arguments[n]:"/";r&&(e=`${r}/${e}`,t="/"===r.charAt(0))}return e=(function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){let r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;)e.unshift("..");return e})(e.split("/").filter(e=>!!e),!t).join("/"),(t?"/":"")+e||"."}function ly(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}let lb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.root,n=e.prefix||"app:///",r="window"in X&&!!X.window,i=e.iteratee||function(e){let{isBrowser:t,root:n,prefix:r}=e;return e=>{if(!e.filename)return e;let i=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),a=/^\//.test(e.filename);if(t){if(n){let t=e.filename;0===t.indexOf(n)&&(e.filename=t.replace(n,r))}}else if(i||a){let t,a,o=i?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,s=n?function(e,t){e=lv(e).slice(1),t=lv(t).slice(1);let n=ly(e.split("/")),r=ly(t.split("/")),i=Math.min(n.length,r.length),a=i;for(let e=0;e<i;e++)if(n[e]!==r[e]){a=e;break}let o=[];for(let e=a;e<n.length;e++)o.push("..");return(o=o.concat(r.slice(a))).join("/")}(n,o):(t=o.length>1024?`<truncated>${o.slice(-1024)}`:o,(a=lm.exec(t))?a.slice(1):[])[2]||"";e.filename=`${r}${s}`}return e}}({isBrowser:r,root:t,prefix:n});return{name:"RewriteFrames",processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map(e=>{var t;return{...e,...e.stacktrace&&{stacktrace:{...t=e.stacktrace,frames:t?.frames?.map(e=>i(e))}}}})}}}catch{return e}}(t)),t}}},lw=e=>({name:"ThirdPartyErrorsFilter",setup(e){e.on("beforeEnvelope",e=>{nG(e,(e,t)=>{if("event"===t){let t=Array.isArray(e)?e[1]:void 0;t&&(lf(t),e[1]=t)}})}),e.on("applyFrameMetadata",t=>{t.type||ld(e.getOptions().stackParser,t)})},processEvent(t){let n=function(e){let t=na(e);if(t)return t.filter(e=>!!e.filename&&(e.lineno??e.colno)!=null).map(e=>e.module_metadata?Object.keys(e.module_metadata).filter(e=>e.startsWith(l_)).map(e=>e.slice(l_.length)):[])}(t);if(n&&n["drop-error-if-contains-third-party-frames"===e.behaviour||"apply-tag-if-contains-third-party-frames"===e.behaviour?"some":"every"](t=>!t.some(t=>e.filterKeys.includes(t)))){if("drop-error-if-contains-third-party-frames"===e.behaviour||"drop-error-if-exclusively-contains-third-party-frames"===e.behaviour)return null;t.tags={...t.tags,third_party_code:!0}}return t}}),l_="_sentryBundlerPluginAppKey:";function lS(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}let lx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit??10;return{name:"ZodErrors",processEvent:(n,r)=>(function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(!r.exception?.values||!i.originalException||!(et(t=i.originalException)&&"ZodError"===t.name&&Array.isArray(t.issues))||0===i.originalException.issues.length)return r;try{let t=(n?i.originalException.issues:i.originalException.issues.slice(0,e)).map(lS);return n&&(Array.isArray(i.attachments)||(i.attachments=[]),i.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:t})})),{...r,exception:{...r.exception,values:[{...r.exception.values[0],value:function(e){let t=new Set;for(let n of e.issues){let e=n.path.map(e=>"number"==typeof e?"<array>":e).join(".");e.length>0&&t.add(e)}let n=Array.from(t);if(0===n.length){let t="variable";if(e.issues.length>0){let n=e.issues[0];void 0!==n&&"expected"in n&&"string"==typeof n.expected&&(t=n.expected)}return`Failed to validate ${t}`}return`Failed to validate keys: ${eR(n.join(", "),100)}`}(i.originalException)},...r.exception.values.slice(1)]},extra:{...r.extra,"zoderror.issues":t.slice(0,e)}}}catch(e){return{...r,extra:{...r.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:"unknown"}}}}})(t,e.saveZodIssuesAsAttachment,n,r)}};function lE(e,t){let{metadata:n,tunnel:r,dsn:i}=t;return nK({event_id:e.event_id,sent_at:new Date().toISOString(),...n?.sdk&&{sdk:{name:n.sdk.name,version:n.sdk.version}},...!!r&&!!i&&{dsn:tS(i)}},[[{type:"user_report"},e]])}function lT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rR.document,n=t?.head||t?.body;if(!n){ir&&ex.error("[showReportDialog] Global document not defined");return}let r=e3(),i=e9(),a=i?.getDsn();if(!a){ir&&ex.error("[showReportDialog] DSN not configured");return}let o={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||ny()},s=rR.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=function(e,t){let n=tk(e);if(!n)return"";let r=`${nq(n)}embed/error-page/`,i=`dsn=${tS(n)}`;for(let e in t)if("dsn"!==e&&"onClose"!==e)if("user"===e){let e=t.user;if(!e)continue;e.name&&(i+=`&name=${encodeURIComponent(e.name)}`),e.email&&(i+=`&email=${encodeURIComponent(e.email)}`)}else i+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return`${r}?${i}`}(a,o);let{onLoad:l,onClose:u}=o;if(l&&(s.onload=l),u){let e=t=>{if("__sentry_reportdialog_closed__"===t.data)try{u()}finally{rR.removeEventListener("message",e)}};rR.addEventListener("message",e)}n.appendChild(s)}let lk=new WeakMap,lC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.types||["crash","deprecation","intervention"];function n(e){if(lk.has(e9()))for(let t of e)e6(e=>{e.setExtra("url",t.url);let n=`ReportingObserver [${t.type}]`,r="No details available";if(t.body){let n={};for(let e in t.body)n[e]=t.body[e];if(e.setExtra("body",n),"crash"===t.type){let e=t.body;r=[e.crashId||"",e.reason||""].join(" ").trim()||r}else r=t.body.message||r}nc(`${n}: ${r}`)})}return{name:"ReportingObserver",setupOnce(){"ReportingObserver"in X&&new X.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(e){lk.set(e,!0)}}};function lA(e,t){var n,r,i,a;let o,s=t?.getDsn(),l=t?.getOptions().tunnel;return n=e,r=s,!(!(o=r1(n))||r0(o))&&!!r&&o.host.includes(r.host)&&/(^|&|\?)sentry_key=/.test(o.search)||(i=e,!!(a=l)&&lI(i)===lI(a))}function lI(e){return"/"===e[e.length-1]?e.slice(0,-1):e}let lM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:"HttpClient",setup(e){var n,r,i,a;n=e,r=t,rV()&&rq(e=>{if(e9()!==n)return;let{response:t,args:i,error:a,virtualError:o}=e,[s,l]=i;t&&function(e,t,n,r,i){if(lD(e,n.status,n.url)){var a,o;let e,s,l,u,c=(a=t,!(o=r)&&a instanceof Request||a instanceof Request&&a.bodyUsed?a:new Request(a,o));lN()&&([e,l]=lR("Cookie",c),[s,u]=lR("Set-Cookie",n)),nd(lO({url:c.url,method:c.method,status:n.status,requestHeaders:e,responseHeaders:s,requestCookies:l,responseCookies:u,error:i,type:"fetch"}))}}(r,s,t,l,a||o)},!1),i=e,a=t,"XMLHttpRequest"in X&&r9(e=>{if(e9()!==i)return;let{error:t,virtualError:n}=e,r=e.xhr,o=r[r8];if(!o)return;let{method:s,request_headers:l}=o;try{!function(e,t,n,r,i){if(lD(e,t.status,t.responseURL)){let e,a,o;if(lN()){try{let e=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;e&&(a=lP(e))}catch{}try{let e;o=(e=t.getAllResponseHeaders())?e.split("\r\n").reduce((e,t)=>{let[n,r]=t.split(": ");return n&&r&&(e[n]=r),e},{}):{}}catch{}e=r}nd(lO({url:t.responseURL,method:n,status:t.status,requestHeaders:e,responseHeaders:o,responseCookies:a,error:i,type:"xhr"}))}}(a,r,s,l,t||n)}catch(e){ir&&ex.warn("Error while extracting response event form XHR response",e)}})}}};function lR(e,t){var n;let r,i,a=(n=t.headers,r={},n.forEach((e,t)=>{r[t]=e}),r);try{let t=a[e]||a[e.toLowerCase()]||void 0;t&&(i=lP(t))}catch{}return[a,i]}function lP(e){return e.split("; ").reduce((e,t)=>{let[n,r]=t.split("=");return n&&r&&(e[n]=r),e},{})}function lD(e,t,n){var r,i;return r=e.failedRequestStatusCodes,r.some(e=>"number"==typeof e?e===t:t>=e[0]&&t<=e[1])&&(i=e.failedRequestTargets,i.some(e=>"string"==typeof e?n.includes(e):e.test(n)))&&!lA(n,e9())}function lO(e){let t=e9(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,i=`HTTP Client Error with status code: ${e.status}`,a={message:i,exception:{values:[{type:"Error",value:i,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:function(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}(e.responseHeaders)}}};return eB(a,{type:`auto.http.client.${e.type}`,handled:!1}),a}function lN(){let e=e9();return!!e&&!!e.getOptions().sendDefaultPii}let lL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null!=e.frameContextLines?e.frameContextLines:7;return{name:"ContextLines",processEvent:e=>(function(e,t){let n=X.document,r=X.location&&r3(X.location.href);if(!n||!r)return e;let i=e.exception?.values;if(!i?.length)return e;let a=n.documentElement.innerHTML;if(!a)return e;let o=["<!DOCTYPE html>","<html>",...a.split("\n"),"</html>"];return i.forEach(e=>{let n=e.stacktrace;n?.frames&&(n.frames=n.frames.map(e=>{var n,i,a,s;return n=e,i=o,a=r,s=t,n.filename===a&&n.lineno&&i.length&&!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(void 0===t.lineno)return;let r=e.length,i=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,i-n),i).map(e=>eP(e,0)),t.context_line=eP(e[Math.min(r-1,i)],t.colno||0),t.post_context=e.slice(Math.min(i+1,r),i+1+n).map(e=>eP(e,0))}(i,n,s),n}))}),e})(e,t)}};function lj(e){return new URLSearchParams(e).toString()}function lU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ex;try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[lj(e)];if(!e)return[void 0]}catch(n){return iJ&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return iJ&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function lF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(2===e.length&&"object"==typeof e[1])return e[1].body}function lB(e){let t;try{t=e.getAllResponseHeaders()}catch(t){return iJ&&ex.error(t,"Failed to get xhr response headers",e),{}}return t?t.split("\r\n").reduce((e,t)=>{let[n,r]=t.split(": ");return r&&(e[n.toLowerCase()]=r),e},{}):{}}function lz(e){let{query:t,operationName:n}=e,{operationName:r=n,operationType:i}=function(e){let t=e.match(/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/);if(t)return{operationType:t[1],operationName:t[2]};let n=e.match(/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/);return n?{operationType:n[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}(t);return r?`${i} ${r}`:`${i}`}function l$(e){let t;if("xhr"in e){let n=e.xhr[r8];t=n&&lU(n.body)[0]}else t=lU(lF(e.input))[0];return t}function lH(e){let t;try{let n=JSON.parse(e);n.query&&(t=n)}finally{return t}}let lV=e=>({name:"GraphQLClient",setup(t){var n,r,i,a;n=t,r=e,n.on("beforeOutgoingRequestSpan",(e,t)=>{let n=tV(e).data||{};if("http.client"!==n[ts])return;let i=n["url.full"]||n["http.url"],a=n["http.request.method"]||n["http.method"];if(!ea(i)||!ea(a))return;let{endpoints:o}=r,s=eN(i,o),l=l$(t);if(s&&l){let t=lH(l);if(t){let n=lz(t);e.updateName(`${a} ${i} (${n})`),e.setAttribute("graphql.document",l)}}}),i=t,a=e,i.on("beforeOutgoingRequestBreadcrumb",(e,t)=>{let{category:n,type:r,data:i}=e;if("http"===r&&("fetch"===n||"xhr"===n)){let e=i?.url,{endpoints:n}=a,r=eN(e,n),o=l$(t);if(r&&i&&o){let e=lH(o);if(!i.graphql&&e){let t=lz(e);i["graphql.document"]=e.query,i["graphql.operation"]=t}}}})}}),lq=(e,t,n,r)=>{let i,a;return o=>{if(t.value>=0&&(o||r)&&((a=t.value-(i??0))||void 0===i)){var s;i=t.value,t.delta=a,s=t.value,t.rating=s>n[1]?"poor":s>n[0]?"needs-improvement":"good",e(t)}}},lW=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=X.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},lK=()=>{let e=lW();return e?.activationStart??0},lG=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=lW(),r="navigate";return n&&(X.document?.prerendering||lK()>0?r="prerender":X.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,navigationType:r}},lX=new WeakMap;function lY(e,t){return lX.get(e)||lX.set(e,new t),lX.get(e)}class lJ{constructor(){lJ.prototype.__init.call(this),lJ.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(e){if(e.hadRecentInput)return;let t=this._sessionEntries[0],n=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),this._onAfterProcessingUnexpectedShift?.(e)}}let lQ=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},lZ=e=>{let t=!1;return()=>{t||(e(),t=!0)}},l0=-1,l1=e=>{"hidden"===X.document.visibilityState&&l0>-1&&(l0="visibilitychange"===e.type?e.timeStamp:0,l2())},l2=()=>{removeEventListener("visibilitychange",l1,!0),removeEventListener("prerenderingchange",l1,!0)},l3=()=>{if(X.document&&l0<0){let e=lK();l0=(X.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime)??(X.document?.visibilityState!=="hidden"||X.document?.prerendering?1/0:0),addEventListener("visibilitychange",l1,!0),addEventListener("prerenderingchange",l1,!0)}return{get firstHiddenTime(){return l0}}},l4=e=>{X.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},l5=[1800,3e3],l6=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l4(()=>{let n,r=l3(),i=lG("FCP"),a=lQ("paint",e=>{for(let t of e)"first-contentful-paint"===t.name&&(a.disconnect(),t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-lK(),0),i.entries.push(t),n(!0)))});a&&(n=lq(e,i,l5,t.reportAllChanges))})},l8=[.1,.25],l9=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l6(lZ(()=>{let n,r=lG("CLS",0),i=lY(t,lJ),a=e=>{for(let t of e)i._processEntry(t);i._sessionValue>r.value&&(r.value=i._sessionValue,r.entries=i._sessionEntries,n())},o=lQ("layout-shift",a);o&&(n=lq(e,r,l8,t.reportAllChanges),X.document?.addEventListener("visibilitychange",()=>{X.document?.visibilityState==="hidden"&&(a(o.takeRecords()),n(!0))}),X?.setTimeout?.(n))}))};n(1733);let l7=0,ue=1/0,ut=0,un=e=>{e.forEach(e=>{e.interactionId&&(ue=Math.min(ue,e.interactionId),l7=(ut=Math.max(ut,e.interactionId))?(ut-ue)/7+1:0)})},ur=()=>g?l7:performance.interactionCount||0,ui=0;class ua{constructor(){ua.prototype.__init.call(this),ua.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){ui=ur(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){let e=Math.min(this._longestInteractionList.length-1,Math.floor((ur()-ui)/50));return this._longestInteractionList[e]}_processEntry(e){if(this._onBeforeProcessingEntry?.(e),!(e.interactionId||"first-input"===e.entryType))return;let t=this._longestInteractionList.at(-1),n=this._longestInteractionMap.get(e.interactionId);if(n||this._longestInteractionList.length<10||e.duration>t._latency){if(n?e.duration>n._latency?(n.entries=[e],n._latency=e.duration):e.duration===n._latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(n.id,n),this._longestInteractionList.push(n)),this._longestInteractionList.sort((e,t)=>t._latency-e._latency),this._longestInteractionList.length>10)for(let e of this._longestInteractionList.splice(10))this._longestInteractionMap.delete(e.id);this._onAfterProcessingINPCandidate?.(n)}}}let uo=e=>{let t=t=>{("pagehide"===t.type||X.document?.visibilityState==="hidden")&&e(t)};X.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},us=e=>{let t=X.requestIdleCallback||X.setTimeout;X.document?.visibilityState==="hidden"?e():(t(e=lZ(e)),uo(e))},ul=[200,500],uu=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&l4(()=>{let n;"interactionCount"in performance||g||(g=lQ("event",un,{type:"event",buffered:!0,durationThreshold:0}));let r=lG("INP"),i=lY(t,ua),a=e=>{us(()=>{for(let t of e)i._processEntry(t);let t=i._estimateP98LongestInteraction();t&&t._latency!==r.value&&(r.value=t._latency,r.entries=t.entries,n())})},o=lQ("event",a,{durationThreshold:t.durationThreshold??40});n=lq(e,r,ul,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),uo(()=>{a(o.takeRecords()),n(!0)}))})};class uc{_processEntry(e){this._onBeforeProcessingEntry?.(e)}}let ud=[2500,4e3],uf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l4(()=>{let n,r=l3(),i=lG("LCP"),a=lY(t,uc),o=e=>{for(let o of(t.reportAllChanges||(e=e.slice(-1)),e))a._processEntry(o),o.startTime<r.firstHiddenTime&&(i.value=Math.max(o.startTime-lK(),0),i.entries=[o],n())},s=lQ("largest-contentful-paint",o);if(s){n=lq(e,i,ud,t.reportAllChanges);let r=lZ(()=>{o(s.takeRecords()),s.disconnect(),n(!0)});for(let e of["keydown","click","visibilitychange"])X.document&&addEventListener(e,()=>us(r),{capture:!0,once:!0})}})},up=[800,1800],uh=e=>{X.document?.prerendering?l4(()=>uh(e)):X.document?.readyState!=="complete"?addEventListener("load",()=>uh(e),!0):setTimeout(e)},ug=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=lG("TTFB"),r=lq(e,n,up,t.reportAllChanges);uh(()=>{let e=lW();e&&(n.value=Math.max(e.responseStart-lK(),0),n.entries=[e],r(!0))})},um={},uv={};function uy(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return uC("cls",e,ux,m,t)}function ub(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return uC("lcp",e,uE,v,t)}function uw(e){return uC("inp",e,uk,b)}function u_(e,t){var n;let r;return uA(e,t),uv[e]||(r={},"event"===(n=e)&&(r.durationThreshold=0),lQ(n,e=>{uS(n,{entries:e})},r),uv[e]=!0),uI(e,t)}function uS(e,t){let n=um[e];if(n?.length)for(let r of n)try{r(t)}catch(t){iJ&&ex.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ni(r)}
Error:`,t)}}function ux(){return l9(e=>{uS("cls",{metric:e}),m=e},{reportAllChanges:!0})}function uE(){return uf(e=>{uS("lcp",{metric:e}),v=e},{reportAllChanges:!0})}function uT(){return ug(e=>{uS("ttfb",{metric:e}),y=e})}function uk(){return uu(e=>{uS("inp",{metric:e}),b=e})}function uC(e,t,n,r){let i,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return uA(e,t),uv[e]||(i=n(),uv[e]=!0),r&&t({metric:r}),uI(e,t,a?i:void 0)}function uA(e,t){um[e]=um[e]||[],um[e].push(t)}function uI(e,t,n){return()=>{n&&n();let r=um[e];if(!r)return;let i=r.indexOf(t);-1!==i&&r.splice(i,1)}}let uM="sentryReplaySession",uR="Unable to send Replay";var uP=Object.defineProperty,uD=(e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?uP(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n},uO=((P=uO||{})[P.Document=0]="Document",P[P.DocumentType=1]="DocumentType",P[P.Element=2]="Element",P[P.Text=3]="Text",P[P.CDATA=4]="CDATA",P[P.Comment=5]="Comment",P);function uN(e){let t=e?.host;return t?.shadowRoot===e}function uL(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function uj(e){try{var t;let n=e.rules||e.cssRules;return n?((t=Array.from(n,uU).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}}function uU(e){let t;if("styleSheet"in e)try{t=uj(e.styleSheet)||function(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if("selectorText"in e){let t=e.cssText,n=e.selectorText.includes(":"),r="string"==typeof e.style.all&&e.style.all;if(r&&(t=function(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,i=r[n],a=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${a?" !important":""};`}return`${e.selectorText} { ${t} }`}(e)),n&&(t=t.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")),n||r)return t}return t||e.cssText}class uF{constructor(){uD(this,"idNodeMap",/* @__PURE__ */new Map),uD(this,"nodeMetaMap",/* @__PURE__ */new WeakMap)}getId(e){return e?this.getMeta(e)?.id??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){let n=this.getNode(e);if(n){let e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=/* @__PURE__ */new Map,this.nodeMetaMap=/* @__PURE__ */new WeakMap}}function uB(e){let{maskInputOptions:t,tagName:n,type:r}=e;return"OPTION"===n&&(n="SELECT"),!!(t[n.toLowerCase()]||r&&t[r]||"password"===r||"INPUT"===n&&!r&&t.text)}function uz(e){let{isMasked:t,element:n,value:r,maskInputFn:i}=e,a=r||"";return t?(i&&(a=i(a,n)),"*".repeat(a.length)):a}function u$(e){return e.toLowerCase()}function uH(e){return e.toUpperCase()}let uV="__rrweb_original__";function uq(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?u$(t):null}function uW(e,t,n){return"INPUT"===t&&("radio"===n||"checkbox"===n)?e.getAttribute("value")||"":e.value}function uK(e,t){let n;try{n=new URL(e,t??window.location.href)}catch(e){return null}let r=n.pathname.match(/\.([0-9a-z]+)(?:$)/i);return r?.[1]??null}let uG={};function uX(e){let t=uG[e];if(t)return t;let n=window.document,r=window[e];if(n&&"function"==typeof n.createElement)try{let t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(e){}return uG[e]=r.bind(window)}function uY(){return uX("setTimeout")(...arguments)}function uJ(){return uX("clearTimeout")(...arguments)}function uQ(e){try{return e.contentDocument}catch(e){}}let uZ=1,u0=RegExp("[^a-z0-9-_:]");function u1(){return uZ++}let u2=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,u3=/^(?:[a-z+]+:)?\/\//i,u4=/^www\..*/i,u5=/^(data:)([^,]*),(.*)/i;function u6(e,t){return(e||"").replace(u2,(e,n,r,i,a,o)=>{let s=r||a||o,l=n||i||"";if(!s)return e;if(u3.test(s)||u4.test(s)||u5.test(s))return`url(${l}${s}${l})`;if("/"===s[0])return`url(${l}${(t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0]).split("?")[0]+s}${l})`;let u=t.split("/"),c=s.split("/");for(let e of(u.pop(),c))if("."===e)continue;else".."===e?u.pop():u.push(e);return`url(${l}${u.join("/")}${l})`})}let u8=/^[^ \t\n\r\u000c]+/,u9=/^[, \t\n\r\u000c]+/,u7=/* @__PURE__ */new WeakMap;function ce(e,t){return t&&""!==t.trim()?ct(e,t):t}function ct(e,t){let n=u7.get(e);if(n||(n=e.createElement("a"),u7.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function cn(e,t,n,r,i,a,o){if(!r)return r;if("src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0])return ce(e,r);if("background"===n&&("table"===t||"td"===t||"th"===t))return ce(e,r);if("srcset"===n)return function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r,i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}let i=[];for(;r(u9),!(n>=t.length);){let a=r(u8);if(","===a.slice(-1))a=ce(e,a.substring(0,a.length-1)),i.push(a);else{let r="";a=ce(e,a);let o=!1;for(;;){let e=t.charAt(n);if(""===e){i.push((a+r).trim());break}if(o)")"===e&&(o=!1);else if(","===e){n+=1,i.push((a+r).trim());break}else"("===e&&(o=!0);r+=e,n+=1}}}return i.join(", ")}(e,r);if("style"===n){let t=u6(r,ct(e));return o&&o.size>0&&(t=function(e,t){if(!e||0===t.size)return e;try{let n=e.split(";"),r=[];for(let e of n){if(!(e=e.trim()))continue;let n=e.indexOf(":");if(-1===n){r.push(e);continue}let i=e.slice(0,n).trim();t.has(i)||r.push(e)}return r.join("; ")+(r.length>0&&e.endsWith(";")?";":"")}catch(t){return console.warn("Error filtering CSS properties:",t),e}}(t,o)),t}else if("object"===t&&"data"===n)return ce(e,r);return"function"==typeof a?a(n,r,i):r}function cr(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function ci(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ci(e.parentNode,t,n,r+1)}function ca(e,t){return n=>{if(null===n)return!1;try{if(e){if("string"==typeof e){if(n.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}(n,e))return!0}if(t&&n.matches(t))return!0;return!1}catch{return!1}}}function co(e,t,n,r,i,a){try{let o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===o)return!1;if("INPUT"===o.tagName){let e=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let s=-1,l=-1;if(a){if((l=ci(o,ca(r,i)))<0)return!0;s=ci(o,ca(t,n),l>=0?l:1/0)}else{if((s=ci(o,ca(t,n)))<0)return!1;l=ci(o,ca(r,i),s>=0?s:1/0)}return s>=0?!(l>=0)||s<=l:!(l>=0)&&!!a}catch(e){}return!!a}function cs(e){return null==e?"":e.toLowerCase()}function cl(e,t){let n,{doc:r,mirror:i,blockClass:a,blockSelector:o,unblockSelector:s,maskAllText:l,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:f,skipChild:p=!1,inlineStylesheet:h=!0,maskInputOptions:g={},maskAttributeFn:m,maskTextFn:v,maskInputFn:y,slimDOMOptions:b,dataURLOptions:S={},inlineImages:x=!1,recordCanvas:E=!1,onSerialize:T,onIframeLoad:k,iframeLoadTimeout:C=5e3,onBlockedImageLoad:A,onStylesheetLoad:I,stylesheetLoadTimeout:M=5e3,keepIframeSrcFn:R=()=>!1,newlyAddedElement:P=!1,ignoreCSSAttributes:D}=t,{preserveWhiteSpace:O=!0}=t,N=function(e,t){let{doc:n,mirror:r,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:s,maskAttributeFn:l,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:g,maskInputFn:m,dataURLOptions:v={},inlineImages:y,recordCanvas:b,keepIframeSrcFn:S,newlyAddedElement:x=!1,ignoreCSSAttributes:E}=t,T=function(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:if("CSS1Compat"!==e.compatMode)return{type:uO.Document,childNodes:[],compatMode:e.compatMode};return{type:uO.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:uO.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:T};case e.ELEMENT_NODE:return function(e,t){let n,{doc:r,blockClass:i,blockSelector:a,unblockSelector:o,inlineStylesheet:s,maskInputOptions:l={},maskAttributeFn:u,maskInputFn:c,dataURLOptions:d={},inlineImages:f,recordCanvas:p,keepIframeSrcFn:h,newlyAddedElement:g=!1,rootId:m,maskTextClass:v,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:S,ignoreCSSAttributes:x}=t,E=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,i,a,o),T=function(e){if(e instanceof HTMLFormElement)return"form";let t=u$(e.tagName);return u0.test(t)?"div":t}(e),k={},C=e.attributes.length;for(let t=0;t<C;t++){let n=e.attributes[t];n.name&&!cr(T,n.name,n.value)&&(k[n.name]=cn(r,T,u$(n.name),n.value,e,u,x))}if("link"===T&&s){let t=Array.from(r.styleSheets).find(t=>t.href===e.href),n=null;t&&(n=uj(t)),n&&(k.rel=null,k.href=null,k.crossorigin=null,k._cssText=u6(n,t.href))}if("style"===T&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let t=uj(e.sheet);t&&(k._cssText=u6(t,ct(r)))}if("input"===T||"textarea"===T||"select"===T||"option"===T){let t=uq(e),n=uW(e,uH(T),t),r=e.checked;if("submit"!==t&&"button"!==t&&n){let r=co(e,v,b,y,S,uB({type:t,tagName:uH(T),maskInputOptions:l}));k.value=uz({isMasked:r,element:e,value:n,maskInputFn:c})}r&&(k.checked=r)}if("option"===T&&(e.selected&&!l.select?k.selected=!0:delete k.selected),"canvas"===T&&p){if("2d"===e.__context)!function(e){let t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){let i=t.getImageData;if(new Uint32Array((uV in i?i[uV]:i).call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some(e=>0!==e))return!1}return!0}(e)&&(k.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let t=e.toDataURL(d.type,d.quality),n=r.createElement("canvas");n.width=e.width,n.height=e.height,t!==n.toDataURL(d.type,d.quality)&&(k.rr_dataURL=t)}}if("img"===T&&f){w||(_=(w=r.createElement("canvas")).getContext("2d"));let t=e.currentSrc||e.getAttribute("src")||"<unknown-src>",n=e.crossOrigin,i=()=>{e.removeEventListener("load",i);try{w.width=e.naturalWidth,w.height=e.naturalHeight,_.drawImage(e,0,0),k.rr_dataURL=w.toDataURL(d.type,d.quality)}catch(n){if("anonymous"!==e.crossOrigin){e.crossOrigin="anonymous",e.complete&&0!==e.naturalWidth?i():e.addEventListener("load",i);return}console.warn(`Cannot inline img src=${t}! Error: ${n}`)}"anonymous"===e.crossOrigin&&(n?k.crossOrigin=n:e.removeAttribute("crossorigin"))};e.complete&&0!==e.naturalWidth?i():e.addEventListener("load",i)}if(("audio"===T||"video"===T)&&(k.rr_mediaState=e.paused?"paused":"played",k.rr_mediaCurrentTime=e.currentTime),!g&&(e.scrollLeft&&(k.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(k.rr_scrollTop=e.scrollTop)),E){let{width:t,height:n}=e.getBoundingClientRect();k={class:k.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==T||h(k.src)||(E||uQ(e)||(k.rr_src=k.src),delete k.src);try{customElements.get(T)&&(n=!0)}catch(e){}return{type:uO.Element,tagName:T,attributes:k,childNodes:[],isSVG:!!("svg"===e.tagName||e.ownerSVGElement)||void 0,needBlock:E,rootId:m,isCustom:n}}(e,{doc:n,blockClass:i,blockSelector:a,unblockSelector:o,inlineStylesheet:p,maskAttributeFn:l,maskInputOptions:h,maskInputFn:m,dataURLOptions:v,inlineImages:y,recordCanvas:b,keepIframeSrcFn:S,newlyAddedElement:x,rootId:T,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:f,ignoreCSSAttributes:E});case e.TEXT_NODE:return function(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:a,unmaskTextSelector:o,maskTextFn:s,maskInputOptions:l,maskInputFn:u,rootId:c}=t,d=e.parentNode&&e.parentNode.tagName,f=e.textContent,p="STYLE"===d||void 0,h="SCRIPT"===d||void 0,g="TEXTAREA"===d||void 0;if(p&&f){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(f=uj(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}f=u6(f,ct(t.doc))}h&&(f="SCRIPT_PLACEHOLDER");let m=co(e,r,a,i,o,n);return p||h||g||!f||!m||(f=s?s(f,e.parentElement):f.replace(/[\S]/g,"*")),g&&f&&(l.textarea||m)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),"OPTION"===d&&f&&(f=uz({isMasked:co(e,r,a,i,o,uB({type:null,tagName:d,maskInputOptions:l})),element:e,value:f,maskInputFn:u})),{type:uO.Text,textContent:f||"",isStyle:p,rootId:c}}(e,{doc:n,maskAllText:s,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:h,maskInputFn:m,rootId:T});case e.CDATA_SECTION_NODE:return{type:uO.CDATA,textContent:"",rootId:T};case e.COMMENT_NODE:return{type:uO.Comment,textContent:e.textContent||"",rootId:T};default:return!1}}(e,{doc:r,mirror:i,blockClass:a,blockSelector:o,maskAllText:l,unblockSelector:s,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:h,maskInputOptions:g,maskAttributeFn:m,maskTextFn:v,maskInputFn:y,dataURLOptions:S,inlineImages:x,recordCanvas:E,keepIframeSrcFn:R,newlyAddedElement:P,ignoreCSSAttributes:D});if(!N)return console.warn(e,"not serialized"),null;n=i.hasNode(e)?i.getId(e):!function(e,t){if(t.comment&&e.type===uO.Comment)return!0;if(e.type===uO.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===uK(e.attributes.href)))return!0;else if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(cs(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===cs(e.attributes.name)||"icon"===cs(e.attributes.rel)||"apple-touch-icon"===cs(e.attributes.rel)||"shortcut icon"===cs(e.attributes.rel))))return!0;else if("meta"===e.tagName){if(t.headMetaDescKeywords&&cs(e.attributes.name).match(/^description|keywords$/))return!0;else if(t.headMetaSocial&&(cs(e.attributes.property).match(/^(og|twitter|fb):/)||cs(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===cs(e.attributes.name)))return!0;else if(t.headMetaRobots&&("robots"===cs(e.attributes.name)||"googlebot"===cs(e.attributes.name)||"bingbot"===cs(e.attributes.name)))return!0;else if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;else if(t.headMetaAuthorship&&("author"===cs(e.attributes.name)||"generator"===cs(e.attributes.name)||"framework"===cs(e.attributes.name)||"publisher"===cs(e.attributes.name)||"progid"===cs(e.attributes.name)||cs(e.attributes.property).match(/^article:/)||cs(e.attributes.property).match(/^product:/)))return!0;else if(t.headMetaVerification&&("google-site-verification"===cs(e.attributes.name)||"yandex-verification"===cs(e.attributes.name)||"csrf-token"===cs(e.attributes.name)||"p:domain_verify"===cs(e.attributes.name)||"verify-v1"===cs(e.attributes.name)||"verification"===cs(e.attributes.name)||"shopify-checkout-api-token"===cs(e.attributes.name)))return!0}}return!1}(N,b)&&(O||N.type!==uO.Text||N.isStyle||N.textContent.replace(/^\s+|\s+$/gm,"").length)?u1():-2;let L=Object.assign(N,{id:n});if(i.add(e,L),-2===n)return null;T&&T(e);let j=!p;if(L.type===uO.Element){j=j&&!L.needBlock;let t=e.shadowRoot;t&&uL(t)&&(L.isShadowHost=!0)}if((L.type===uO.Document||L.type===uO.Element)&&j){b.headWhitespace&&L.type===uO.Element&&"head"===L.tagName&&(O=!1);let t={doc:r,mirror:i,blockClass:a,blockSelector:o,maskAllText:l,unblockSelector:s,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:f,skipChild:p,inlineStylesheet:h,maskInputOptions:g,maskAttributeFn:m,maskTextFn:v,maskInputFn:y,slimDOMOptions:b,dataURLOptions:S,inlineImages:x,recordCanvas:E,preserveWhiteSpace:O,onSerialize:T,onIframeLoad:k,iframeLoadTimeout:C,onBlockedImageLoad:A,onStylesheetLoad:I,stylesheetLoadTimeout:M,keepIframeSrcFn:R,ignoreCSSAttributes:D};for(let n of e.childNodes?Array.from(e.childNodes):[]){let e=cl(n,t);e&&L.childNodes.push(e)}if(e.nodeType===e.ELEMENT_NODE&&e.shadowRoot)for(let n of Array.from(e.shadowRoot.childNodes)){let r=cl(n,t);r&&(uL(e.shadowRoot)&&(r.isShadow=!0),L.childNodes.push(r))}}if(e.parentNode&&uN(e.parentNode)&&uL(e.parentNode)&&(L.isShadow=!0),L.type!==uO.Element||"iframe"!==L.tagName||L.needBlock||function(e,t,n){let r,i=e.contentWindow;if(!i)return;let a=!1;try{r=i.document.readyState}catch(e){return}if("complete"!==r){let r=uY(()=>{a||(t(),a=!0)},n);e.addEventListener("load",()=>{uJ(r),a=!0,t()});return}let o="about:blank";if(i.location.href!==o||e.src===o||""===e.src)return uY(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,()=>{let t=uQ(e);if(t&&k){let n=cl(t,{doc:t,mirror:i,blockClass:a,blockSelector:o,unblockSelector:s,maskAllText:l,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:h,maskInputOptions:g,maskAttributeFn:m,maskTextFn:v,maskInputFn:y,slimDOMOptions:b,dataURLOptions:S,inlineImages:x,recordCanvas:E,preserveWhiteSpace:O,onSerialize:T,onIframeLoad:k,iframeLoadTimeout:C,onStylesheetLoad:I,stylesheetLoadTimeout:M,keepIframeSrcFn:R,ignoreCSSAttributes:D});n&&k(e,n)}},C),L.type===uO.Element&&"img"===L.tagName&&!e.complete&&L.needBlock){let t=()=>{if(e.isConnected&&!e.complete&&A)try{let t=e.getBoundingClientRect();t.width>0&&t.height>0&&A(e,L,t)}catch(e){}e.removeEventListener("load",t)};e.isConnected&&e.addEventListener("load",t)}return L.type===uO.Element&&"link"===L.tagName&&"string"==typeof L.attributes.rel&&("stylesheet"===L.attributes.rel||"preload"===L.attributes.rel&&"string"==typeof L.attributes.href&&"css"===uK(L.attributes.href))&&function(e,t,n){let r,i=!1;try{r=e.sheet}catch(e){return}if(r)return;let a=uY(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{uJ(a),i=!0,t()})}(e,()=>{if(I){let t=cl(e,{doc:r,mirror:i,blockClass:a,blockSelector:o,unblockSelector:s,maskAllText:l,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:h,maskInputOptions:g,maskAttributeFn:m,maskTextFn:v,maskInputFn:y,slimDOMOptions:b,dataURLOptions:S,inlineImages:x,recordCanvas:E,preserveWhiteSpace:O,onSerialize:T,onIframeLoad:k,iframeLoadTimeout:C,onStylesheetLoad:I,stylesheetLoadTimeout:M,keepIframeSrcFn:R,ignoreCSSAttributes:D});t&&I(e,t)}},M),L.type===uO.Element&&delete L.needBlock,L}function cu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}let cc="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",cd={map:{},getId:()=>(console.error(cc),-1),getNode:()=>(console.error(cc),null),removeNodeFromMap(){console.error(cc)},has:()=>(console.error(cc),!1),reset(){console.error(cc)}};function cf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null,i=0;return function(){for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];let l=Date.now();i||!1!==n.leading||(i=l);let u=t-(l-i),c=this;u<=0||u>t?(r&&(function(){cI("clearTimeout")(...arguments)}(r),r=null),i=l,e.apply(c,o)):r||!1===n.trailing||(r=cM(()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(c,o)},u))}}function cp(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(cd=new Proxy(cd,{get:(e,t,n)=>("map"===t&&console.error(cc),Reflect.get(e,t,n))}));let ch=Date.now;function cg(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function cm(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function cv(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function cy(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(e){return null}}function cb(e,t,n,r,i){if(!e)return!1;let a=cy(e);if(!a)return!1;let o=ca(t,n);if(!i){let e=r&&a.matches(r);return o(a)&&!e}let s=ci(a,o),l=-1;return!(s<0)&&(r&&(l=ci(a,ca(null,r))),s>-1&&l<0||s<l)}function cw(e,t){return -2===t.getId(e)}function c_(e){return!!e.changedTouches}function cS(e,t){return!!("IFRAME"===e.nodeName&&t.getMeta(e))}function cx(e,t){return!!("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function cE(e){return!!e?.shadowRoot}/* @__PURE__ *//[1-9][0-9]{12}/.test(Date.now().toString())||(ch=()=>/* @__PURE__ */new Date().getTime());class cT{constructor(){this.id=1,this.styleIDMap=/* @__PURE__ */new WeakMap,this.idStyleMap=/* @__PURE__ */new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){let n;return this.has(e)?this.getId(e):(n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n)}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=/* @__PURE__ */new WeakMap,this.idStyleMap=/* @__PURE__ */new Map,this.id=1}generateId(){return this.id++}}function ck(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function cC(e){let t=e.ownerDocument;return!!t&&(t.contains(e)||function(e){let t=e.ownerDocument;if(!t)return!1;let n=function(e){let t,n=e;for(;t=ck(n);)n=t;return n}(e);return t.contains(n)}(e))}let cA={};function cI(e){let t=cA[e];if(t)return t;let n=window.document,r=window[e];if(n&&"function"==typeof n.createElement)try{let t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(e){}return cA[e]=r.bind(window)}function cM(){return cI("setTimeout")(...arguments)}var cR=((D=cR||{})[D.DomContentLoaded=0]="DomContentLoaded",D[D.Load=1]="Load",D[D.FullSnapshot=2]="FullSnapshot",D[D.IncrementalSnapshot=3]="IncrementalSnapshot",D[D.Meta=4]="Meta",D[D.Custom=5]="Custom",D[D.Plugin=6]="Plugin",D),cP=((O=cP||{})[O.Mutation=0]="Mutation",O[O.MouseMove=1]="MouseMove",O[O.MouseInteraction=2]="MouseInteraction",O[O.Scroll=3]="Scroll",O[O.ViewportResize=4]="ViewportResize",O[O.Input=5]="Input",O[O.TouchMove=6]="TouchMove",O[O.MediaInteraction=7]="MediaInteraction",O[O.StyleSheetRule=8]="StyleSheetRule",O[O.CanvasMutation=9]="CanvasMutation",O[O.Font=10]="Font",O[O.Log=11]="Log",O[O.Drag=12]="Drag",O[O.StyleDeclaration=13]="StyleDeclaration",O[O.Selection=14]="Selection",O[O.AdoptedStyleSheet=15]="AdoptedStyleSheet",O[O.CustomElement=16]="CustomElement",O),cD=((N=cD||{})[N.MouseUp=0]="MouseUp",N[N.MouseDown=1]="MouseDown",N[N.Click=2]="Click",N[N.ContextMenu=3]="ContextMenu",N[N.DblClick=4]="DblClick",N[N.Focus=5]="Focus",N[N.Blur=6]="Blur",N[N.TouchStart=7]="TouchStart",N[N.TouchMove_Departed=8]="TouchMove_Departed",N[N.TouchEnd=9]="TouchEnd",N[N.TouchCancel=10]="TouchCancel",N),cO=((L=cO||{})[L.Mouse=0]="Mouse",L[L.Pen=1]="Pen",L[L.Touch=2]="Touch",L),cN=((j=cN||{})[j.Play=0]="Play",j[j.Pause=1]="Pause",j[j.Seeked=2]="Seeked",j[j.VolumeChange=3]="VolumeChange",j[j.RateChange=4]="RateChange",j);function cL(e){try{return e.contentDocument}catch(e){}}class cj{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=t?.next||null;return t}addNode(e){let t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&"__ln"in e.previousSibling){let n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&"__ln"in e.nextSibling&&e.nextSibling.__ln.previous){let n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){let t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}let cU=(e,t)=>`${e}@${t}`;class cF{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=/* @__PURE__ */new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=/* @__PURE__ */new Set,this.movedSet=/* @__PURE__ */new Set,this.droppedSet=/* @__PURE__ */new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let e=[],t=/* @__PURE__ */new Set,n=new cj,r=e=>{let t=e,n=-2;for(;-2===n;)n=(t=t&&t.nextSibling)&&this.mirror.getId(t);return n},i=i=>{if(!i.parentNode||!cC(i))return;let a=uN(i.parentNode)?this.mirror.getId(ck(i)):this.mirror.getId(i.parentNode),o=r(i);if(-1===a||-1===o)return n.addNode(i);let s=cl(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{cS(e,this.mirror)&&!cb(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(e),cx(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),cE(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{cb(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(e,t),e.contentWindow&&this.canvasManager.addWindow(e.contentWindow),this.shadowDomManager.observeAttachShadow(e))},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)},onBlockedImageLoad:(e,t,n)=>{let{width:r,height:i}=n;this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:{style:{width:`${r}px`,height:`${i}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});s&&(e.push({parentId:a,nextId:o,node:s}),t.add(s.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let e of this.movedSet)(!cz(this.removes,e,this.mirror)||this.movedSet.has(e.parentNode))&&i(e);for(let e of this.addedSet)c$(this.droppedSet,e)||cz(this.removes,e,this.mirror)?c$(this.movedSet,e)?i(e):this.droppedSet.add(e):i(e);let a=null;for(;n.length;){let e=null;if(a){let t=this.mirror.getId(a.value.parentNode),n=r(a.value);-1!==t&&-1!==n&&(e=a)}if(!e){let t=n.tail;for(;t;){let n=t;if(t=t.previous,n){let t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{let t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}a=e.previous,n.removeNode(e.value),i(e.value)}let o={texts:this.texts.map(e=>({id:this.mirror.getId(e.node),value:e.value})).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{let{attributes:t}=e;if("string"==typeof t.style){let n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};(o.texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=/* @__PURE__ */new WeakMap,this.removes=[],this.addedSet=/* @__PURE__ */new Set,this.movedSet=/* @__PURE__ */new Set,this.droppedSet=/* @__PURE__ */new Set,this.movedMap={},this.mutationCb(o))},this.processMutation=e=>{if(!cw(e.target,this.mirror))switch(e.type){case"characterData":{let t=e.target.textContent;cb(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:co(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,cy(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{let t=e.target,n=e.attributeName,r=e.target.getAttribute(n);if("value"===n){let n=uq(t),i=t.tagName;r=uW(t,i,n);let a=uB({maskInputOptions:this.maskInputOptions,tagName:i,type:n});r=uz({isMasked:co(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,a),element:t,value:r,maskInputFn:this.maskInputFn})}if(cb(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let i=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(cL(t))return;n="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!cr(t.tagName,n)&&(i.attributes[n]=cn(this.doc,u$(t.tagName),u$(n),r,t,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}let n=this.unattachedDoc.createElement("span");for(let r of(e.oldValue&&n.setAttribute("style",e.oldValue),Array.from(t.style))){let e=t.style.getPropertyValue(r),a=t.style.getPropertyPriority(r);e!==n.style.getPropertyValue(r)||a!==n.style.getPropertyPriority(r)?""===a?i.styleDiff[r]=e:i.styleDiff[r]=[e,a]:i._unchangedStyles[r]=[e,a]}for(let e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}break}case"childList":if(cb(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{let n=this.mirror.getId(t),r=uN(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);cb(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||cw(t,this.mirror)||-1===this.mirror.getId(t)||(this.addedSet.has(t)?(cB(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||function e(t,n){if(uN(t))return!1;let r=n.getId(t);return!n.has(r)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||e(t.parentNode,n))}(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[cU(n,r)]?cB(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!!(uN(e.target)&&uL(e.target))||void 0})),this.mapRemoves.push(t))})}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(cw(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[cU(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);!cb(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&(e.childNodes&&e.childNodes.forEach(e=>this.genAdds(e)),cE(e)&&e.shadowRoot.childNodes.forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function cB(e,t){e.delete(t),t.childNodes?.forEach(t=>cB(e,t))}function cz(e,t,n){return 0!==e.length&&function(e,t,n){let r=t.parentNode;for(;r;){let t=n.getId(r);if(e.some(e=>e.id===t))return!0;r=r.parentNode}return!1}(e,t,n)}function c$(e,t){return 0!==e.size&&function e(t,n){let{parentNode:r}=n;return!!r&&(!!t.has(r)||e(t,r))}(e,t)}let cH=e=>S?function(){try{return e(...arguments)}catch(e){if(S&&!0===S(e))return()=>{};throw e}}:e,cV=[];function cq(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function cW(e,t){let n=new cF;cV.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,i=window?.Zone?.__symbol__?.("MutationObserver");i&&window[i]&&(r=window[i]);let a=new r(cH(t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)}));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function cK(e){let{scrollCb:t,doc:n,mirror:r,blockClass:i,blockSelector:a,unblockSelector:o,sampling:s}=e;return cu("scroll",cH(cf(cH(e=>{let s=cq(e);if(!s||cb(s,i,a,o,!0))return;let l=r.getId(s);if(s===n&&n.defaultView){let e=cg(n.defaultView);t({id:l,x:e.left,y:e.top})}else t({id:l,x:s.scrollLeft,y:s.scrollTop})}),s.scroll||100)),n)}let cG=["INPUT","TEXTAREA","SELECT"],cX=/* @__PURE__ */new WeakMap;function cY(e){var t=[];if(c0("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||c0("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||c0("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||c0("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){let n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){let n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}function cJ(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function cQ(e,t){let{mirror:n,stylesheetManager:r}=e,i=null;i="#document"===t.nodeName?n.getId(t):n.getId(t.host);let a="#document"===t.nodeName?t.defaultView?.Document:t.ownerDocument?.defaultView?.ShadowRoot,o=a?.prototype?Object.getOwnPropertyDescriptor(a?.prototype,"adoptedStyleSheets"):void 0;return null!==i&&-1!==i&&a&&o?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return o.get?.call(this)},set(e){let t=o.set?.call(this,e);if(null!==i&&-1!==i)try{r.adoptStyleSheets(e,i)}catch(e){}return t}}),cH(()=>{Object.defineProperty(t,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})})):()=>{}}function cZ(e){let t;arguments.length>1&&void 0!==arguments[1]&&arguments[1];let n=e.doc.defaultView;if(!n)return()=>{};e.recordDOM&&(t=cW(e,e.doc));let r=function(e){let t,{mousemoveCb:n,sampling:r,doc:i,mirror:a}=e;if(!1===r.mousemove)return()=>{};let o="number"==typeof r.mousemove?r.mousemove:50,s="number"==typeof r.mousemoveCallback?r.mousemoveCallback:500,l=[],u=cf(cH(e=>{let r=Date.now()-t;n(l.map(e=>(e.timeOffset-=r,e)),e),l=[],t=null}),s),c=cH(cf(cH(e=>{let n=cq(e),{clientX:r,clientY:i}=c_(e)?e.changedTouches[0]:e;t||(t=ch()),l.push({x:r,y:i,id:a.getId(n),timeOffset:ch()-t}),u("undefined"!=typeof DragEvent&&e instanceof DragEvent?cP.Drag:e instanceof MouseEvent?cP.MouseMove:cP.TouchMove)}),o,{trailing:!1})),d=[cu("mousemove",c,i),cu("touchmove",c,i),cu("drag",c,i)];return cH(()=>{d.forEach(e=>e())})}(e),i=function(e){let{mouseInteractionCb:t,doc:n,mirror:r,blockClass:i,blockSelector:a,unblockSelector:o,sampling:s}=e;if(!1===s.mouseInteraction)return()=>{};let l=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,u=[],c=null;return Object.keys(cD).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==l[e]).forEach(e=>{let s=u$(e),l=n=>{let s=cq(n);if(cb(s,i,a,o,!0))return;let l=null,u=e;if("pointerType"in n){switch(n.pointerType){case"mouse":l=cO.Mouse;break;case"touch":l=cO.Touch;break;case"pen":l=cO.Pen}l===cO.Touch?cD[e]===cD.MouseDown?u="TouchStart":cD[e]===cD.MouseUp&&(u="TouchEnd"):cO.Pen}else c_(n)&&(l=cO.Touch);null!==l?(c=l,(u.startsWith("Touch")&&l===cO.Touch||u.startsWith("Mouse")&&l===cO.Mouse)&&(l=null)):cD[e]===cD.Click&&(l=c,c=null);let d=c_(n)?n.changedTouches[0]:n;if(!d)return;let f=r.getId(s),{clientX:p,clientY:h}=d;cH(t)({type:cD[u],id:f,x:p,y:h,...null!==l&&{pointerType:l}})};if(window.PointerEvent)switch(cD[e]){case cD.MouseDown:case cD.MouseUp:s=s.replace("mouse","pointer");break;case cD.TouchStart:case cD.TouchEnd:return}u.push(cu(s,l,n))}),cH(()=>{u.forEach(e=>e())})}(e),a=cK(e),o=function(e,t){let{viewportResizeCb:n}=e,{win:r}=t,i=-1,a=-1;return cu("resize",cH(cf(cH(()=>{let e=cm(),t=cv();(i!==e||a!==t)&&(n({width:Number(t),height:Number(e)}),i=e,a=t)}),200)),r)}(e,{win:n}),s=function(e){let{inputCb:t,doc:n,mirror:r,blockClass:i,blockSelector:a,unblockSelector:o,ignoreClass:s,ignoreSelector:l,maskInputOptions:u,maskInputFn:c,sampling:d,userTriggeredOnInput:f,maskTextClass:p,unmaskTextClass:h,maskTextSelector:g,unmaskTextSelector:m}=e;function v(e){let t=cq(e),r=e.isTrusted,d=t&&uH(t.tagName);if("OPTION"===d&&(t=t.parentElement),!t||!d||cG.indexOf(d)<0||cb(t,i,a,o,!0))return;let v=t;if(v.classList.contains(s)||l&&v.matches(l))return;let b=uq(t),w=uW(v,d,b),_=!1,S=uB({maskInputOptions:u,tagName:d,type:b}),x=co(t,p,g,h,m,S);("radio"===b||"checkbox"===b)&&(_=t.checked),w=uz({isMasked:x,element:t,value:w,maskInputFn:c}),y(t,f?{text:w,isChecked:_,userTriggered:r}:{text:w,isChecked:_});let E=t.name;"radio"===b&&E&&_&&n.querySelectorAll(`input[type="radio"][name="${E}"]`).forEach(e=>{if(e!==t){let t=uz({isMasked:x,element:e,value:uW(e,d,b),maskInputFn:c});y(e,f?{text:t,isChecked:!_,userTriggered:!1}:{text:t,isChecked:!_})}})}function y(e,n){let i=cX.get(e);if(!i||i.text!==n.text||i.isChecked!==n.isChecked){cX.set(e,n);let i=r.getId(e);cH(t)({...n,id:i})}}let b=("last"===d.input?["change"]:["input","change"]).map(e=>cu(e,cH(v),n)),w=n.defaultView;if(!w)return()=>{b.forEach(e=>e())};let _=w.Object.getOwnPropertyDescriptor(w.HTMLInputElement.prototype,"value"),S=[[w.HTMLInputElement.prototype,"value"],[w.HTMLInputElement.prototype,"checked"],[w.HTMLSelectElement.prototype,"value"],[w.HTMLTextAreaElement.prototype,"value"],[w.HTMLSelectElement.prototype,"selectedIndex"],[w.HTMLOptionElement.prototype,"selected"]];return _&&_.set&&b.push(...S.map(e=>(function e(t,n,r,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,o=a.Object.getOwnPropertyDescriptor(t,n);return a.Object.defineProperty(t,n,i?r:{set(e){cM(()=>{r.set.call(this,e)},0),o&&o.set&&o.set.call(this,e)}}),()=>e(t,n,o||{},!0)})(e[0],e[1],{set(){cH(v)({target:this,isTrusted:!1})}},!1,w))),cH(()=>{b.forEach(e=>e())})}(e),l=function(e){let{mediaInteractionCb:t,blockClass:n,blockSelector:r,unblockSelector:i,mirror:a,sampling:o,doc:s}=e,l=cH(e=>cf(cH(o=>{let s=cq(o);if(!s||cb(s,n,r,i,!0))return;let{currentTime:l,volume:u,muted:c,playbackRate:d}=s;t({type:e,id:a.getId(s),currentTime:l,volume:u,muted:c,playbackRate:d})}),o.media||500)),u=[cu("play",l(cN.Play),s),cu("pause",l(cN.Pause),s),cu("seeked",l(cN.Seeked),s),cu("volumechange",l(cN.VolumeChange),s),cu("ratechange",l(cN.RateChange),s)];return cH(()=>{u.forEach(e=>e())})}(e),u=()=>{},c=()=>{},d=()=>{},f=()=>{};e.recordDOM&&(u=function(e,t){let n,r,{styleSheetRuleCb:i,mirror:a,stylesheetManager:o}=e,{win:s}=t;if(!s.CSSStyleSheet||!s.CSSStyleSheet.prototype)return()=>{};let l=s.CSSStyleSheet.prototype.insertRule;s.CSSStyleSheet.prototype.insertRule=new Proxy(l,{apply:cH((e,t,n)=>{let[r,s]=n,{id:l,styleId:u}=cJ(t,a,o.styleMirror);return(l&&-1!==l||u&&-1!==u)&&i({id:l,styleId:u,adds:[{rule:r,index:s}]}),e.apply(t,n)})});let u=s.CSSStyleSheet.prototype.deleteRule;s.CSSStyleSheet.prototype.deleteRule=new Proxy(u,{apply:cH((e,t,n)=>{let[r]=n,{id:s,styleId:l}=cJ(t,a,o.styleMirror);return(s&&-1!==s||l&&-1!==l)&&i({id:s,styleId:l,removes:[{index:r}]}),e.apply(t,n)})}),s.CSSStyleSheet.prototype.replace&&(n=s.CSSStyleSheet.prototype.replace,s.CSSStyleSheet.prototype.replace=new Proxy(n,{apply:cH((e,t,n)=>{let[r]=n,{id:s,styleId:l}=cJ(t,a,o.styleMirror);return(s&&-1!==s||l&&-1!==l)&&i({id:s,styleId:l,replace:r}),e.apply(t,n)})})),s.CSSStyleSheet.prototype.replaceSync&&(r=s.CSSStyleSheet.prototype.replaceSync,s.CSSStyleSheet.prototype.replaceSync=new Proxy(r,{apply:cH((e,t,n)=>{let[r]=n,{id:s,styleId:l}=cJ(t,a,o.styleMirror);return(s&&-1!==s||l&&-1!==l)&&i({id:s,styleId:l,replaceSync:r}),e.apply(t,n)})}));let c={};c1("CSSGroupingRule")?c.CSSGroupingRule=s.CSSGroupingRule:(c1("CSSMediaRule")&&(c.CSSMediaRule=s.CSSMediaRule),c1("CSSConditionRule")&&(c.CSSConditionRule=s.CSSConditionRule),c1("CSSSupportsRule")&&(c.CSSSupportsRule=s.CSSSupportsRule));let d={};return Object.entries(c).forEach(e=>{let[t,n]=e;d[t]={insertRule:n.prototype.insertRule,deleteRule:n.prototype.deleteRule},n.prototype.insertRule=new Proxy(d[t].insertRule,{apply:cH((e,t,n)=>{let[r,s]=n,{id:l,styleId:u}=cJ(t.parentStyleSheet,a,o.styleMirror);return(l&&-1!==l||u&&-1!==u)&&i({id:l,styleId:u,adds:[{rule:r,index:[...cY(t),s||0]}]}),e.apply(t,n)})}),n.prototype.deleteRule=new Proxy(d[t].deleteRule,{apply:cH((e,t,n)=>{let[r]=n,{id:s,styleId:l}=cJ(t.parentStyleSheet,a,o.styleMirror);return(s&&-1!==s||l&&-1!==l)&&i({id:s,styleId:l,removes:[{index:[...cY(t),r]}]}),e.apply(t,n)})})}),cH(()=>{s.CSSStyleSheet.prototype.insertRule=l,s.CSSStyleSheet.prototype.deleteRule=u,n&&(s.CSSStyleSheet.prototype.replace=n),r&&(s.CSSStyleSheet.prototype.replaceSync=r),Object.entries(c).forEach(e=>{let[t,n]=e;n.prototype.insertRule=d[t].insertRule,n.prototype.deleteRule=d[t].deleteRule})})}(e,{win:n}),c=cQ(e,e.doc),d=function(e,t){let{styleDeclarationCb:n,mirror:r,ignoreCSSAttributes:i,stylesheetManager:a}=e,{win:o}=t,s=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:cH((e,t,o)=>{let[l,u,c]=o;if(i.has(l))return s.apply(t,[l,u,c]);let{id:d,styleId:f}=cJ(t.parentRule?.parentStyleSheet,r,a.styleMirror);return(d&&-1!==d||f&&-1!==f)&&n({id:d,styleId:f,set:{property:l,value:u,priority:c},index:cY(t.parentRule)}),e.apply(t,o)})});let l=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(l,{apply:cH((e,t,o)=>{let[s]=o;if(i.has(s))return l.apply(t,[s]);let{id:u,styleId:c}=cJ(t.parentRule?.parentStyleSheet,r,a.styleMirror);return(u&&-1!==u||c&&-1!==c)&&n({id:u,styleId:c,remove:{property:s},index:cY(t.parentRule)}),e.apply(t,o)})}),cH(()=>{o.CSSStyleDeclaration.prototype.setProperty=s,o.CSSStyleDeclaration.prototype.removeProperty=l})}(e,{win:n}),e.collectFonts&&(f=function(e){let{fontCb:t,doc:n}=e,r=n.defaultView;if(!r)return()=>{};let i=[],a=/* @__PURE__ */new WeakMap,o=r.FontFace;r.FontFace=function(e,t,n){let r=new o(e,t,n);return a.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};let s=cp(n.fonts,"add",function(e){return function(n){return cM(cH(()=>{let e=a.get(n);e&&(t(e),a.delete(n))}),0),e.apply(this,[n])}});return i.push(()=>{r.FontFace=o}),i.push(s),cH(()=>{i.forEach(e=>e())})}(e)));let p=function(e){let{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:a,selectionCb:o}=e,s=!0,l=cH(()=>{let e=t.getSelection();if(!e||s&&e?.isCollapsed)return;s=e.isCollapsed||!1;let l=[],u=e.rangeCount||0;for(let t=0;t<u;t++){let{startContainer:o,startOffset:s,endContainer:u,endOffset:c}=e.getRangeAt(t);cb(o,r,i,a,!0)||cb(u,r,i,a,!0)||l.push({start:n.getId(o),startOffset:s,end:n.getId(u),endOffset:c})}o({ranges:l})});return l(),cu("selectionchange",l)}(e),h=function(e){let{doc:t,customElementCb:n}=e,r=t.defaultView;return r&&r.customElements?cp(r.customElements,"define",function(e){return function(t,r,i){try{n({define:{name:t}})}catch(e){}return e.apply(this,[t,r,i])}}):()=>{}}(e),g=[];for(let t of e.plugins)g.push(t.observer(t.callback,n,t.options));return cH(()=>{cV.forEach(e=>e.reset()),t?.disconnect(),r(),i(),a(),o(),s(),l(),u(),c(),d(),f(),p(),h(),g.forEach(e=>e())})}function c0(e){return void 0!==window[e]}function c1(e){return!!(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class c2{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=/* @__PURE__ */new WeakMap,this.iframeRemoteIdToIdMap=/* @__PURE__ */new WeakMap}getId(e,t,n,r){let i=n||this.getIdToRemoteIdMap(e),a=r||this.getRemoteIdToIdMap(e),o=i.get(t);return o||(o=this.generateIdFn(),i.set(t,o),a.set(o,t)),o}getIds(e,t){let n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,n,r))}getRemoteId(e,t,n){let r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;let i=r.get(t);return i||-1}getRemoteIds(e,t){let n=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,n))}reset(e){if(!e){this.iframeIdToRemoteIdMap=/* @__PURE__ */new WeakMap,this.iframeRemoteIdToIdMap=/* @__PURE__ */new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=/* @__PURE__ */new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=/* @__PURE__ */new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class c3{constructor(){this.crossOriginIframeMirror=new c2(u1),this.crossOriginIframeRootIdMap=/* @__PURE__ */new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class c4{constructor(e){this.iframes=/* @__PURE__ */new WeakMap,this.crossOriginIframeMap=/* @__PURE__ */new WeakMap,this.crossOriginIframeMirror=new c2(u1),this.crossOriginIframeRootIdMap=/* @__PURE__ */new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new c2(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&e.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(e);let n=cL(e);n&&n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,this.mirror.getId(n))}handleMessage(e){if("rrweb"!==e.data.type||e.origin!==e.data.origin||!e.source)return;let t=this.crossOriginIframeMap.get(e.source);if(!t)return;let n=this.transformCrossOriginEvent(t,e.data.event);n&&this.wrappedEmit(n,e.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case cR.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);let n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:cR.IncrementalSnapshot,data:{source:cP.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case cR.Meta:case cR.Load:case cR.DomContentLoaded:break;case cR.Plugin:return t;case cR.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case cR.IncrementalSnapshot:switch(t.data.source){case cP.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);let n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"])}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case cP.Drag:case cP.TouchMove:case cP.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case cP.ViewportResize:return!1;case cP.MediaInteraction:case cP.MouseInteraction:case cP.Scroll:case cP.CanvasMutation:case cP.Input:return this.replaceIds(t.data,e,["id"]),t;case cP.StyleSheetRule:case cP.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case cP.Font:return t;case cP.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"])}),t;case cP.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),t.data.styles?.forEach(t=>{this.replaceStyleIds(t,e,["styleId"])}),t}}return!1}replace(e,t,n,r){for(let i of r)(Array.isArray(t[i])||"number"==typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(n,t[i]):t[i]=e.getId(n,t[i]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t)})}patchRootIdOnNode(e,t){e.type===uO.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t)})}}class c5{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class c6{constructor(e){this.shadowDoms=/* @__PURE__ */new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!uL(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);let n=cW({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(cK({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),cM(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(cQ({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){let t=cL(e),n=function(e){try{return e.contentWindow}catch(e){}}(e);t&&n&&this.patchAttachShadow(n.Element,t)}patchAttachShadow(e,t){let n=this;this.restoreHandlers.push(cp(e.prototype,"attachShadow",function(e){return function(r){let i=e.call(this,r);return this.shadowRoot&&cC(this)&&n.addShadowRoot(this.shadowRoot,t),i}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(e){}}),this.restoreHandlers=[],this.shadowDoms=/* @__PURE__ */new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}for(var c8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c9="undefined"==typeof Uint8Array?[]:new Uint8Array(256),c7=0;c7<c8.length;c7++)c9[c8.charCodeAt(c7)]=c7;class de{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class dt{constructor(e){this.trackedLinkElements=/* @__PURE__ */new WeakSet,this.styleMirror=new cT,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;let n={id:t,styleIds:[]},r=[];for(let t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,(e,t)=>({rule:uU(e),index:t}))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=/* @__PURE__ */new WeakSet}trackStylesheetInLinkElement(e){}}class dn{constructor(){this.nodeMap=/* @__PURE__ */new WeakMap,this.active=!1}inOtherBuffer(e,t){let n=this.nodeMap.get(e);return n&&Array.from(n).some(e=>e!==t)}add(e,t){this.active||(this.active=!0,function(){cI("requestAnimationFrame")(...arguments)}(()=>{this.nodeMap=/* @__PURE__ */new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||/* @__PURE__ */new Set).add(t))}destroy(){}}try{if(2!==Array.from([1],e=>2*e)[0]){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}let dr=new uF;function di(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{emit:n,checkoutEveryNms:r,checkoutEveryNth:i,blockClass:a="rr-block",blockSelector:o=null,unblockSelector:s=null,ignoreClass:l="rr-ignore",ignoreSelector:u=null,maskAllText:c=!1,maskTextClass:d="rr-mask",unmaskTextClass:f=null,maskTextSelector:p=null,unmaskTextSelector:h=null,inlineStylesheet:g=!0,maskAllInputs:m,maskInputOptions:v,slimDOMOptions:y,maskAttributeFn:b,maskInputFn:w,maskTextFn:_,maxCanvasSize:T=null,packFn:k,sampling:C={},dataURLOptions:A={},mousemoveWait:I,recordDOM:M=!0,recordCanvas:R=!1,recordCrossOriginIframes:P=!1,recordAfter:D="DOMContentLoaded"===t.recordAfter?t.recordAfter:"load",userTriggeredOnInput:O=!1,collectFonts:N=!1,inlineImages:L=!1,plugins:j,keepIframeSrcFn:U=()=>!1,ignoreCSSAttributes:F=/* @__PURE__ */new Set([]),errorHandler:B,onMutation:z,getCanvasManager:$}=t;S=B;let H=!P||window.parent===window,V=!1;if(!H)try{window.parent.document&&(V=!1)}catch(e){V=!0}if(H&&!n)throw Error("emit function is required");if(!H&&!V)return()=>{};void 0!==I&&void 0===C.mousemove&&(C.mousemove=I),dr.reset();let q=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==v?v:{},W=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};!function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=n[0];if(!(0 in n))throw TypeError("1 argument is required");do if(e===i)return!0;while(i=i&&i.parentNode);return!1})}();let K=0,G=e=>{for(let t of j||[])t.eventProcessor&&(e=t.eventProcessor(e));return k&&!V&&(e=k(e)),e};x=(t,a)=>{if(t.timestamp=ch(),cV[0]?.isFrozen()&&t.type!==cR.FullSnapshot&&(t.type!==cR.IncrementalSnapshot||t.data.source!==cP.Mutation)&&cV.forEach(e=>e.unfreeze()),H)n?.(G(t),a);else if(V){let e={type:"rrweb",event:G(t),origin:window.location.origin,isCheckout:a};window.parent.postMessage(e,"*")}if(t.type===cR.FullSnapshot)e=t,K=0;else if(t.type===cR.IncrementalSnapshot){if(t.data.source===cP.Mutation&&t.data.isAttachIframe)return;K++;let n=i&&K>=i,a=r&&e&&t.timestamp-e.timestamp>r;(n||a)&&er(!0)}};let X=e=>{x({type:cR.IncrementalSnapshot,data:{source:cP.Mutation,...e}})},Y=e=>x({type:cR.IncrementalSnapshot,data:{source:cP.Scroll,...e}}),J=e=>x({type:cR.IncrementalSnapshot,data:{source:cP.CanvasMutation,...e}}),Q=new dt({mutationCb:X,adoptedStyleSheetCb:e=>x({type:cR.IncrementalSnapshot,data:{source:cP.AdoptedStyleSheet,...e}})}),Z="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new c3:new c4({mirror:dr,mutationCb:X,stylesheetManager:Q,recordCrossOriginIframes:P,wrappedEmit:x});for(let e of j||[])e.getMirror&&e.getMirror({nodeMirror:dr,crossOriginIframeMirror:Z.crossOriginIframeMirror,crossOriginIframeStyleMirror:Z.crossOriginIframeStyleMirror});let ee=new dn,et=function(e,t){try{return e?e(t):new de}catch{return console.warn("Unable to initialize CanvasManager"),new de}}($,{mirror:dr,win:window,mutationCb:e=>x({type:cR.IncrementalSnapshot,data:{source:cP.CanvasMutation,...e}}),recordCanvas:R,blockClass:a,blockSelector:o,unblockSelector:s,maxCanvasSize:T,sampling:C.canvas,dataURLOptions:A,errorHandler:B}),en="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new c5:new c6({mutationCb:X,scrollCb:Y,bypassOptions:{onMutation:z,blockClass:a,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:d,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:g,maskInputOptions:q,dataURLOptions:A,maskAttributeFn:b,maskTextFn:_,maskInputFn:w,recordCanvas:R,inlineImages:L,sampling:C,slimDOMOptions:W,iframeManager:Z,stylesheetManager:Q,canvasManager:et,keepIframeSrcFn:U,processedNodeManager:ee,ignoreCSSAttributes:F},mirror:dr}),er=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!M)return;x({type:cR.Meta,data:{href:window.location.href,width:cv(),height:cm()}},e),Q.reset(),en.init(),cV.forEach(e=>e.lock());let t=function(e,t){let{mirror:n=new uF,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:a=null,maskAllText:o=!1,maskTextClass:s="rr-mask",unmaskTextClass:l=null,maskTextSelector:u=null,unmaskTextSelector:c=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOM:y=!1,dataURLOptions:b,preserveWhiteSpace:w,onSerialize:_,onIframeLoad:S,iframeLoadTimeout:x,onBlockedImageLoad:E,onStylesheetLoad:T,stylesheetLoadTimeout:k,keepIframeSrcFn:C=()=>!1,ignoreCSSAttributes:A=/* @__PURE__ */new Set([])}=t||{};return cl(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:a,maskAllText:o,maskTextClass:s,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:c,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===h?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===h?{}:h,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===y,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===y?{}:y,dataURLOptions:b,inlineImages:f,recordCanvas:p,preserveWhiteSpace:w,onSerialize:_,onIframeLoad:S,iframeLoadTimeout:x,onBlockedImageLoad:E,onStylesheetLoad:T,stylesheetLoadTimeout:k,keepIframeSrcFn:C,newlyAddedElement:!1,ignoreCSSAttributes:A})}(document,{mirror:dr,blockClass:a,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:d,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:g,maskAllInputs:q,maskAttributeFn:b,maskInputFn:w,maskTextFn:_,slimDOM:W,dataURLOptions:A,recordCanvas:R,inlineImages:L,onSerialize:e=>{cS(e,dr)&&Z.addIframe(e),cx(e,dr)&&Q.trackLinkElement(e),cE(e)&&en.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{Z.attachIframe(e,t),e.contentWindow&&et.addWindow(e.contentWindow),en.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{Q.attachLinkElement(e,t)},onBlockedImageLoad:(e,t,n)=>{let{width:r,height:i}=n;X({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:{style:{width:`${r}px`,height:`${i}px`}}}]})},keepIframeSrcFn:U,ignoreCSSAttributes:F});if(!t)return console.warn("Failed to snapshot the document");x({type:cR.FullSnapshot,data:{node:t,initialOffset:cg(window)}}),cV.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Q.adoptStyleSheets(document.adoptedStyleSheets,dr.getId(document))};E=er;try{let e=[],t=e=>cH(cZ)({onMutation:z,mutationCb:X,mousemoveCb:(e,t)=>x({type:cR.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>x({type:cR.IncrementalSnapshot,data:{source:cP.MouseInteraction,...e}}),scrollCb:Y,viewportResizeCb:e=>x({type:cR.IncrementalSnapshot,data:{source:cP.ViewportResize,...e}}),inputCb:e=>x({type:cR.IncrementalSnapshot,data:{source:cP.Input,...e}}),mediaInteractionCb:e=>x({type:cR.IncrementalSnapshot,data:{source:cP.MediaInteraction,...e}}),styleSheetRuleCb:e=>x({type:cR.IncrementalSnapshot,data:{source:cP.StyleSheetRule,...e}}),styleDeclarationCb:e=>x({type:cR.IncrementalSnapshot,data:{source:cP.StyleDeclaration,...e}}),canvasMutationCb:J,fontCb:e=>x({type:cR.IncrementalSnapshot,data:{source:cP.Font,...e}}),selectionCb:e=>{x({type:cR.IncrementalSnapshot,data:{source:cP.Selection,...e}})},customElementCb:e=>{x({type:cR.IncrementalSnapshot,data:{source:cP.CustomElement,...e}})},blockClass:a,ignoreClass:l,ignoreSelector:u,maskAllText:c,maskTextClass:d,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:h,maskInputOptions:q,inlineStylesheet:g,sampling:C,recordDOM:M,recordCanvas:R,inlineImages:L,userTriggeredOnInput:O,collectFonts:N,doc:e,maskAttributeFn:b,maskInputFn:w,maskTextFn:_,keepIframeSrcFn:U,blockSelector:o,unblockSelector:s,slimDOMOptions:W,dataURLOptions:A,mirror:dr,iframeManager:Z,stylesheetManager:Q,shadowDomManager:en,processedNodeManager:ee,canvasManager:et,ignoreCSSAttributes:F,plugins:j?.filter(e=>e.observer)?.map(e=>({observer:e.observer,options:e.options,callback:t=>x({type:cR.Plugin,data:{plugin:e.name,payload:t}})}))||[]},{});Z.addLoadListener(n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}});let n=()=>{er(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(cu("DOMContentLoaded",()=>{x({type:cR.DomContentLoaded,data:{}}),"DOMContentLoaded"===D&&n()})),e.push(cu("load",()=>{x({type:cR.Load,data:{}}),"load"===D&&n()},window))),()=>{e.forEach(e=>e()),ee.destroy(),E=void 0,S=void 0}}catch(e){console.warn(e)}}function da(e){return e>0x2540be3ff?e:1e3*e}function ds(e){return e>0x2540be3ff?e/1e3:e}function dl(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:cR.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:no(t,10,1e3)}}),"console"===t.category)))}function du(e){return e.closest("button,a")||e}function dc(e){let t=dd(e);return t&&t instanceof Element?du(t):t}function dd(e){var t;return"object"==typeof(t=e)&&t&&"target"in t?e.target:e}di.mirror=dr,di.takeFullSnapshot=function(e){if(!E)throw Error("please take full snapshot after start recording");E(e)},(U=$||($={}))[U.NotStarted=0]="NotStarted",U[U.Running=1]="Running",U[U.Stopped=2]="Stopped";let df=new Set([cP.Mutation,cP.StyleSheetRule,cP.StyleDeclaration,cP.AdoptedStyleSheet,cP.CanvasMutation,cP.Selection,cP.MediaInteraction]);class dp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dl;this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){var e;let t=(e=()=>{this._lastMutation=dg()},T||(T=[],eE(X,"open",function(e){return function(){if(T)try{T.forEach(e=>e())}catch{}for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(X,n)}})),T.push(e),()=>{let t=T?T.indexOf(e):-1;t>-1&&T.splice(t,1)});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){var n,r,i;if(n=t,r=this._ignoreSelector,!dh.includes(n.tagName)||"INPUT"===n.tagName&&!["submit","button"].includes(n.getAttribute("type")||"")||"A"===n.tagName&&(n.hasAttribute("download")||n.hasAttribute("target")&&"_self"!==n.getAttribute("target"))||r&&n.matches(r)||!((i=e).data&&"number"==typeof i.data.nodeId&&i.timestamp))return;let a={timestamp:ds(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(e=>e.node===a.node&&Math.abs(e.timestamp-a.timestamp)<1)||(this._clicks.push(a),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastMutation=ds(e)}registerScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastScroll=ds(e)}registerClick(e){let t=du(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(e=>{e.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){let e=[],t=dg();for(let n of(this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}),e)){let e=this._clicks.indexOf(n);e>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){let t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,{clickCount:i,clickBreadcrumb:a}=e;if(!n&&!r){let n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",o={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:X.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:i||1}};this._addBreadcrumbEvent(t,o);return}if(i>1){let e={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:X.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=i0(()=>this._checkClicks(),1e3)}}let dh=["A","BUTTON","INPUT"];function dg(){return Date.now()/1e3}function dm(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var dv=((F=dv||{})[F.Document=0]="Document",F[F.DocumentType=1]="DocumentType",F[F.Element=2]="Element",F[F.Text=3]="Text",F[F.CDATA=4]="CDATA",F[F.Comment=5]="Comment",F);let dy=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function db(e,t){let n=di.mirror.getId(e),r=n&&di.mirror.getNode(n),i=r&&di.mirror.getMeta(r),a=i&&i.type===dv.Element?i:null;return{message:t,data:a?{nodeId:n,node:{id:n,tagName:a.tagName,textContent:Array.from(a.childNodes).map(e=>e.type===dv.Text&&e.textContent).filter(Boolean).map(e=>e.trim()).join(""),attributes:function(e){let t={};for(let n in!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]),e)if(dy.has(n)){let r=n;("data-testid"===n||"data-test-id"===n)&&(r="testId"),t[r]=e[n]}return t}(a.attributes)}}:{}}}let dw={resource:function(e){let{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:a,decodedBodySize:o,encodedBodySize:s,responseStatus:l,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:dx(a),end:dx(i),name:r,data:{size:u,statusCode:l,decodedBodySize:o,encodedBodySize:s}}},paint:function(e){let{duration:t,entryType:n,name:r,startTime:i}=e,a=dx(i);return{type:n,name:r,start:a,end:a+t,data:void 0}},navigation:function(e){let{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:a,encodedBodySize:o,domContentLoadedEventStart:s,domContentLoadedEventEnd:l,domInteractive:u,loadEventStart:c,loadEventEnd:d,redirectCount:f,startTime:p,transferSize:h,type:g}=e;return 0===i?null:{type:`${t}.${g}`,start:dx(p),end:dx(a),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:u,domContentLoadedEventStart:s,domContentLoadedEventEnd:l,loadEventStart:c,loadEventEnd:d,domComplete:a,redirectCount:f}}}};function d_(e,t){return n=>{let{metric:r}=n;t.replayPerformanceEntries.push(e(r))}}function dS(e){let t=dw[e.entryType];return t?t(e):null}function dx(e){return((eV()||X.performance.timeOrigin)+e)/1e3}function dE(e){let t=e.entries[e.entries.length-1];return dC(e,"largest-contentful-paint",t?.element?[t.element]:void 0)}function dT(e){let t=[],n=[];for(let r of e.entries)if(void 0!==r.sources){let e=[];for(let t of r.sources)if(t.node){n.push(t.node);let r=di.mirror.getId(t.node);r&&e.push(r)}t.push({value:r.value,nodeIds:e.length?e:void 0})}return dC(e,"cumulative-layout-shift",n,t)}function dk(e){let t=e.entries[e.entries.length-1];return dC(e,"interaction-to-next-paint",t?.target?[t.target]:void 0)}function dC(e,t,n,r){let i=e.value,a=e.rating,o=dx(i);return{type:"web-vital",name:t,start:o,end:o,data:{value:i,size:i,rating:a,nodeIds:n?n.map(e=>di.mirror.getId(e)):void 0,attributions:r}}}let dA="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,dI=["log","warn","error"],dM="[Replay] ";function dR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";rJ({category:"console",data:{logger:"replay"},level:t,message:`${dM}${e}`},{level:t})}let dP=(I=!1,M=!1,R={exception:()=>void 0,infoTick:()=>void 0,setConfig:e=>{I=!!e.captureExceptions,M=!!e.traceInternals}},dA?(dI.forEach(e=>{R[e]=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];ex[e](dM,...n),M&&dR(n.join(""),rQ(e))}}),R.exception=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.length&&R.error&&R.error(...n),ex.error(dM,e),I?nu(e,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):M&&dR(e,"error")},R.infoTick=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];ex.log(dM,...t),M&&setTimeout(()=>dR(t[0]),0)}):dI.forEach(e=>{R[e]=()=>void 0}),R);class dD extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class dO{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){let t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>2e7)throw new dD;this.events.push(e)}finish(){return new Promise(e=>{let t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let e=this.events.map(e=>e.timestamp).sort()[0];return e?da(e):null}}class dN{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",n=>{let{data:r}=n;r.success?e():t()},{once:!0}),this._worker.addEventListener("error",e=>{t(e)},{once:!0})})),this._ensureReadyPromise}destroy(){dA&&dP.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){let n=this._getAndIncrementId();return new Promise((r,i)=>{let a=t=>{let{data:o}=t;if(o.method===e&&o.id===n){if(this._worker.removeEventListener("message",a),!o.success){dA&&dP.error("Error in compression worker: ",o.response),i(Error("Error in compression worker"));return}r(o.response)}};this._worker.addEventListener("message",a),this._worker.postMessage({id:n,method:e,arg:t})})}_getAndIncrementId(){return this._id++}}class dL{constructor(e){this._worker=new dN(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){let t=da(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);let n=JSON.stringify(e);return(this._totalSize+=n.length,this._totalSize>2e7)?Promise.reject(new dD):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{dA&&dP.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){let e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class dj{constructor(e){this._fallback=new dO,this._compression=new dL(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){dA&&dP.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:e,hasCheckout:t,waitForCheckout:n}=this._fallback,r=[];for(let t of e)r.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._compression.waitForCheckout=n,this._used=this._compression;try{await Promise.all(r),this._fallback.clear()}catch(e){dA&&dP.exception(e,"Failed to add events when switching buffers.")}}}function dU(){try{return"sessionStorage"in X&&!!X.sessionStorage}catch{return!1}}function dF(e){return void 0!==e&&Math.random()<e}function dB(e){if(dU())try{X.sessionStorage.setItem(uM,JSON.stringify(e))}catch{}}function dz(e){let t=Date.now(),n=e.id||eL(),r=e.started||t,i=e.lastActivity||t,a=e.segmentId||0,o=e.sampled;return{id:n,started:r,lastActivity:i,segmentId:a,sampled:o,previousSessionId:e.previousSessionId,dirty:e.dirty||!1}}function d$(e){let{sessionSampleRate:t,allowBuffering:n,stickySession:r=!1}=e,{previousSessionId:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=dz({sampled:dF(t)?"session":!!n&&"buffer",previousSessionId:i});return r&&dB(a),a}function dH(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date;return null===e||void 0===t||t<0||0!==t&&e+t<=n}function dV(e,t){let{maxReplayDuration:n,sessionIdleExpire:r,targetTime:i=Date.now()}=t;return dH(e.started,n,i)||dH(e.lastActivity,r,i)}function dq(e,t){let{sessionIdleExpire:n,maxReplayDuration:r}=t;return!!dV(e,{sessionIdleExpire:n,maxReplayDuration:r})&&("buffer"!==e.sampled||0!==e.segmentId)}function dW(e,t){let{sessionIdleExpire:n,maxReplayDuration:r,previousSessionId:i}=e,a=t.stickySession&&function(){if(!dU())return null;try{let e=X.sessionStorage.getItem(uM);if(!e)return null;let t=JSON.parse(e);return dA&&dP.infoTick("Loading existing session"),dz(t)}catch{return null}}();return a?dq(a,{sessionIdleExpire:n,maxReplayDuration:r})?(dA&&dP.infoTick("Session in sessionStorage is expired, creating new one..."),d$(t,{previousSessionId:a.id})):a:(dA&&dP.infoTick("Creating new session"),d$(t,{previousSessionId:i}))}function dK(e,t,n){return!!dX(e,t)&&(dG(e,t,n),!0)}async function dG(e,t,n){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let i="buffer"===e.recordingMode;try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let a=e.getOptions(),o=function(e,t){try{if("function"==typeof t&&e.type===cR.Custom)return t(e)}catch(e){return dA&&dP.exception(e,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}(t,a.beforeAddRecordingEvent);if(!o)return;return await r.addEvent(o)}catch(a){let t=a&&a instanceof dD,n=e9();if(n&&n.recordDroppedEvent(t?"buffer_overflow":"internal_sdk_error","replay"),t&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(a),await e.stop({reason:t?"addEventSizeExceeded":"addEvent"})}}function dX(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=da(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(dA&&dP.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1))}function dY(e){return"transaction"===e.type}function dJ(e){return"feedback"===e.type}function dQ(e){return!!e.category}function dZ(){let e=e3().getPropagationContext().dsc;e&&delete e.replay_id;let t=tQ();if(t){let e=t4(t);delete e.replay_id}}function d0(e,t){return t.map(t=>{let{type:n,start:r,end:i,name:a,data:o}=t,s=e.throttledAddEvent({type:cR.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:a,startTimestamp:r,endTimestamp:i,data:o}}});return"string"==typeof s?Promise.resolve(null):s})}function d1(e,t){var n;e.isEnabled()&&null!==t&&(n=t.name,(!dA||!e.getOptions()._experiments.traceInternals)&&lA(n,e9())||e.addUpdate(()=>(d0(e,[t]),!0)))}function d2(e){if(!e)return;let t=new TextEncoder;try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=lj(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function d3(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function d4(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function d5(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:i,method:a,statusCode:o,request:s,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:{method:a,statusCode:o,request:s,response:l}}}function d6(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function d8(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:i,warnings:a}=function(e){var t;let n,r;if(!e||"string"!=typeof e)return{body:e};let i=e.length>15e4,a=(n=(t=e)[0],r=t[t.length-1],"["===n&&"]"===r||"{"===n&&"}"===r);if(i){let t=e.slice(0,15e4);return a?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}…`,warnings:["TEXT_TRUNCATED"]}}if(a)try{return{body:JSON.parse(e)}}catch{}return{body:e}}(n);return r.body=i,a?.length&&(r._meta={warnings:a}),r}function d9(e,t){return Object.entries(e).reduce((n,r)=>{let[i,a]=r,o=i.toLowerCase();return t.includes(o)&&e[i]&&(n[o]=a),n},{})}function d7(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X.document.baseURI;if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(X.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function fe(e,t,n){try{let r=await ft(e,t,n),i=d5("resource.fetch",r);d1(n.replay,i)}catch(e){dA&&dP.exception(e,"Failed to capture fetch breadcrumb")}}async function ft(e,t,n){var r,i;let a=Date.now(),{startTimestamp:o=a,endTimestamp:s=a}=t,{url:l,method:u,status_code:c=0,request_body_size:d,response_body_size:f}=e.data,p=(r=n.networkDetailAllowUrls,eN(d7(l),r)&&(i=n.networkDetailDenyUrls,!eN(d7(l),i)));return{startTimestamp:o,endTimestamp:s,url:l,method:u,statusCode:c,request:p?function(e,t,n){var r,i;let{networkCaptureBodies:a,networkRequestHeaders:o}=e,s=t?(r=t,i=o,1===r.length&&"string"!=typeof r[0]?fa(r[0],i):2===r.length?fa(r[1],i):{}):{};if(!a)return d8(s,n,void 0);let[l,u]=lU(lF(t),dP),c=d8(s,n,l);return u?d4(c,u):c}(n,t.input,d):d6(d),response:await fn(p,n,t.response,f)}}async function fn(e,t,n,r){let{networkCaptureBodies:i,networkResponseHeaders:a}=t;if(!e&&void 0!==r)return d6(r);let o=n?fi(n.headers,a):{};if(!n||!i&&void 0!==r)return d8(o,r,void 0);let[s,l]=await fr(n),u=function(e,t){let{networkCaptureBodies:n,responseBodySize:r,captureDetails:i,headers:a}=t;try{let t=e?.length&&void 0===r?d2(e):r;if(!i)return d6(t);if(n)return d8(a,t,e);return d8(a,t,void 0)}catch(e){return dA&&dP.exception(e,"Failed to serialize response body"),d8(a,r,void 0)}}(s,{networkCaptureBodies:i,responseBodySize:r,captureDetails:e,headers:o});return l?d4(u,l):u}async function fr(e){let t=function(e){try{return e.clone()}catch(e){dA&&dP.exception(e,"Failed to clone response body")}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{var n;return[await (n=t,new Promise((e,t)=>{let r=i0(()=>t(Error("Timeout while trying to read response body")),500);fo(n).then(t=>e(t),e=>t(e)).finally(()=>clearTimeout(r))}))]}catch(e){if(e instanceof Error&&e.message.indexOf("Timeout")>-1)return dA&&dP.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"];return dA&&dP.exception(e,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"]}}function fi(e,t){let n={};return t.forEach(t=>{e.get(t)&&(n[t]=e.get(t))}),n}function fa(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?fi(n,t):Array.isArray(n)?{}:d9(n,t):{}}async function fo(e){return await e.text()}async function fs(e,t,n){try{let r=function(e,t,n){var r,i;let a=Date.now(),{startTimestamp:o=a,endTimestamp:s=a,input:l,xhr:u}=t,{url:c,method:d,status_code:f=0,request_body_size:p,response_body_size:h}=e.data;if(!c)return null;if(!u||(r=n.networkDetailAllowUrls,!eN(d7(c),r))||(i=n.networkDetailDenyUrls,eN(d7(c),i))){let e=d6(p);return{startTimestamp:o,endTimestamp:s,url:c,method:d,statusCode:f,request:e,response:d6(h)}}let g=u[r8],m=g?d9(g.request_headers,n.networkRequestHeaders):{},v=d9(lB(u),n.networkResponseHeaders),[y,b]=n.networkCaptureBodies?lU(l,dP):[void 0],[w,_]=n.networkCaptureBodies?function(e){let t=[];try{return[e.responseText]}catch(e){t.push(e)}try{var n=e.response,r=e.responseType;try{if("string"==typeof n)return[n];if(n instanceof Document)return[n.body.outerHTML];if("json"===r&&n&&"object"==typeof n)return[JSON.stringify(n)];if(!n)return[void 0]}catch(e){return dA&&dP.exception(e,"Failed to serialize body",n),[void 0,"BODY_PARSE_ERROR"]}return dA&&dP.log("Skipping network body because of body type",n),[void 0,"UNPARSEABLE_BODY_TYPE"]}catch(e){t.push(e)}return dA&&dP.warn("Failed to get xhr response body",...t),[void 0]}(u):[void 0],S=d8(m,p,y),x=d8(v,h,w);return{startTimestamp:o,endTimestamp:s,url:c,method:d,statusCode:f,request:b?d4(S,b):S,response:_?d4(x,_):x}}(e,t,n),i=d5("resource.xhr",r);d1(n.replay,i)}catch(e){dA&&dP.exception(e,"Failed to capture xhr breadcrumb")}}async function fl(e){try{return Promise.all(d0(e,[function(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}(X.performance.memory)]))}catch{return[]}}let fu=X.navigator;async function fc(e){let{client:t,scope:n,replayId:r,event:i}=e,a={event_id:r,integrations:"object"!=typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations)};t.emit("preprocessEvent",i,a);let o=await ns(t.getOptions(),i,a,n,t,e4());if(!o)return null;t.emit("postprocessEvent",o,a),o.platform=o.platform||"javascript";let s=t.getSdkMetadata(),{name:l,version:u,settings:c}=s?.sdk||{};return o.sdk={...o.sdk,name:l||"sentry.javascript.unknown",version:u||"0.0.0",settings:c},o}async function fd(e){var t;let n,{recordingData:r,replayId:i,segmentId:a,eventContext:o,timestamp:s,session:l}=e,u=function(e){let t,{recordingData:n,headers:r}=e,i=`${JSON.stringify(r)}
`;if("string"==typeof n)t=`${i}${n}`;else{let e=new TextEncoder().encode(i);(t=new Uint8Array(e.length+n.length)).set(e),t.set(n,e.length)}return t}({recordingData:r,headers:{segment_id:a}}),{urls:c,errorIds:d,traceIds:f,initialTimestamp:p}=o,h=e9(),g=e3(),m=h?.getTransport(),v=h?.getDsn();if(!h||!m||!v||!l.sampled)return Promise.resolve({});let y={type:"replay_event",replay_start_timestamp:p/1e3,timestamp:s/1e3,error_ids:d,trace_ids:f,urls:c,replay_id:i,segment_id:a,replay_type:l.sampled},b=await fc({scope:g,client:h,replayId:i,event:y});if(!b)return h.recordDroppedEvent("event_processor","replay"),dA&&dP.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete b.sdkProcessingMetadata;let w=(t=h.getOptions().tunnel,nK(n0(b,nZ(b),t,v),[[{type:"replay_event"},b],[{type:"replay_recording",length:"string"==typeof u?new TextEncoder().encode(u).length:u.length},u]]));try{n=await m.send(w)}catch(t){let e=Error(uR);try{e.cause=t}catch{}throw e}if("number"==typeof n.statusCode&&(n.statusCode<200||n.statusCode>=300))throw new ff(n.statusCode);let _=iX({},n);if(iG(_,"replay"))throw new fp(_);return n}class ff extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class fp extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function fh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:0,interval:5e3},{recordingData:n,onError:r}=e;if(n.length)try{return await fd(e),!0}catch(n){if(n instanceof ff||n instanceof fp)throw n;if(nf("Replays",{_retryCount:t.count}),r&&r(n),t.count>=3){let e=Error(`${uR} - max retries exceeded`);try{e.cause=n}catch{}throw e}return t.interval*=++t.count,new Promise((n,r)=>{i0(async()=>{try{await fh(e,t),n(!0)}catch(e){r(e)}},t.interval)})}}let fg="__THROTTLED";class fm{constructor(e){let{options:t,recordingOptions:n}=e;this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=function(e,t,n){let r,i,a,o=n?.maxWait?Math.max(n.maxWait,t):0,s=n?.setTimeoutImpl||setTimeout;function l(){return u(),r=e()}function u(){void 0!==i&&clearTimeout(i),void 0!==a&&clearTimeout(a),i=a=void 0}function c(){return i&&clearTimeout(i),i=s(l,t),o&&void 0===a&&(a=s(l,o)),r}return c.cancel=u,c.flush=function(){return void 0!==i||void 0!==a?l():r},c}(()=>this._flush(),this._options.flushMinDelay,{...{maxWait:this._options.flushMaxDelay},setTimeoutImpl:i0}),this._throttledAddEvent=function(e,t,n){let r=new Map,i=!1;return function(){let a,o=Math.floor(Date.now()/1e3);if(a=o-n,r.forEach((e,t)=>{t<a&&r.delete(t)}),[...r.values()].reduce((e,t)=>e+t,0)>=t){let e=i;return i=!0,e?"__SKIPPED":fg}i=!1;let s=r.get(o)||0;return r.set(o,s+1),e(...arguments)}}((e,t)=>dX(this,e)?dG(this,e,t):Promise.resolve(null),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),a=r?{threshold:Math.min(3e3,r),timeout:r,scrollTimeout:300,ignoreSelector:i?i.join(","):""}:void 0;if(a&&(this.clickDetector=new dp(this,a)),dA){const e=t._experiments;dP.setConfig({captureExceptions:!!e.captureExceptions,traceInternals:!!e.traceInternals})}this._handleVisibilityChange=()=>{"visible"===X.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{let e=dm({category:"ui.blur"});this._doChangeToBackgroundTasks(e)},this._handleWindowFocus=()=>{let e=dm({category:"ui.focus"});this._doChangeToForegroundTasks(e)},this._handleKeyboardEvent=e=>{!function(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=function(e){var t;let{metaKey:n,shiftKey:r,ctrlKey:i,altKey:a,key:o,target:s}=e;if(!s||"INPUT"===(t=s).tagName||"TEXTAREA"===t.tagName||t.isContentEditable||!o)return null;let l=n||i||a,u=1===o.length;if(!l&&u)return null;let c=eh(s,{maxStringLength:200})||"<unknown>",d=db(s,c);return dm({category:"ui.keyDown",message:c,data:{...d.data,metaKey:n,shiftKey:r,ctrlKey:i,altKey:a,key:o}})}(t);n&&dl(e,n)}(this,e)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){dA&&dP.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){let{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;if(this._requiresManualStart=r,!r){if(this._initializeSessionForSampling(e),!this.session){dA&&dP.exception(Error("Unable to initialize and create session"));return}!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",dA&&dP.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&"session"===this.recordingMode){dA&&dP.log("Recording is already in progress");return}if(this._isEnabled&&"buffer"===this.recordingMode){dA&&dP.log("Buffering is in progress, call `flush()` to save the replay");return}dA&&dP.infoTick("Starting replay in session mode"),this._updateUserActivity();let e=dW({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){dA&&dP.log("Buffering is in progress, call `flush()` to save the replay");return}dA&&dP.infoTick("Starting replay in buffer mode");let e=dW({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{var e;let t,n=this._canvas;this._stopRecording=di({...this._recordingOptions,..."buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:(e=this,t=!1,(n,r)=>{if(!e.checkAndHandleExpiredSession()){dA&&dP.warn("Received replay event after session expired.");return}let i=r||!t;t=!0,e.clickDetector&&function(e,t){try{var n;if(n=t,3!==n.type)return;let{source:r}=t.data;if(df.has(r)&&e.registerMutation(t.timestamp),r===cP.Scroll&&e.registerScroll(t.timestamp),t.data.source===cP.MouseInteraction){let{type:n,id:r}=t.data,i=di.mirror.getNode(r);i instanceof HTMLElement&&n===cD.Click&&e.registerClick(i)}}catch{}}(e.clickDetector,n),e.addUpdate(()=>{if("buffer"===e.recordingMode&&i&&e.setInitialState(),!dK(e,n,i))return!0;if(!i)return!1;let t=e.session;if(function(e,t){if(t&&e.session&&0===e.session.segmentId){let t;dK(e,(t=e.getOptions(),{type:cR.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}),!1)}}(e,i),"buffer"===e.recordingMode&&t&&e.eventBuffer&&!t.dirty){let n=e.eventBuffer.getEarliestTimestamp();n&&(dA&&dP.log(`Updating session start time to earliest event in buffer to ${new Date(n)}`),t.started=n,e.getOptions().stickySession&&dB(t))}return!!t?.previousSessionId||("session"===e.recordingMode&&e.flush(),!0)})}),.../iPhone|iPad|iPod/i.test(fu?.userAgent??"")||/Macintosh/i.test(fu?.userAgent??"")&&fu?.maxTouchPoints&&fu?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{},onMutation:this._onMutationHandler.bind(this),...n?{recordCanvas:n.recordCanvas,getCanvasManager:n.getCanvasManager,sampling:n.sampling,dataURLOptions:n.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop(){let{forceFlush:e=!1,reason:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{dA&&dP.log(`Stopping Replay${t?` triggered by ${t}`:""}`),dZ(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,function(){if(dU())try{X.sessionStorage.removeItem(uM)}catch{}}(),this.session=void 0}catch(e){this.handleException(e)}}}pause(){!this._isPaused&&(this._isPaused=!0,this.stopRecording(),dA&&dP.log("Pausing replay"))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),dA&&dP.log("Resuming replay"))}async sendBufferedReplayOrFlush(){let{continueRecording:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("session"===this.recordingMode)return this.flushImmediate();let t=Date.now();dA&&dP.log("Converting buffer to session"),await this.flushImmediate();let n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){let t=e();"buffer"!==this.recordingMode&&this._isEnabled&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(e){if(!e||this.session?.sampled!==!1)return this.session?.id}checkAndHandleExpiredSession(){return this._lastActivity&&dH(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled?void this.pause():!!this._checkSession()}setInitialState(){let e=`${X.location.pathname}${X.location.hash}${X.location.search}`,t=`${X.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){let n=this._throttledAddEvent(e,t);if(n===fg){let e=dm({category:"replay.throttled"});this.addUpdate(()=>!dK(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}}))}return n}getCurrentRoute(){let e=this.lastActiveSpan||tQ(),t=e&&tJ(e),n=(t&&tV(t).data||{})[ti];if(t&&n&&["route","custom"].includes(n))return tV(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function(e){let{useCompression:t,workerUrl:n}=e;if(t&&window.Worker){let e=function(e){try{let t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__){let e;return e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});']),URL.createObjectURL(e)}return""}();if(!t)return;dA&&dP.log(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new dj(n)}catch(e){dA&&dP.exception(e,"Failed to create compression worker")}}(n);if(e)return e}return dA&&dP.log("Using simple buffer"),new dO}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){let t=this._options.errorSampleRate>0,n=dW({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;let e=this.session;return!dq(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{X.document.addEventListener("visibilitychange",this._handleVisibilityChange),X.addEventListener("blur",this._handleWindowBlur),X.addEventListener("focus",this._handleWindowFocus),X.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(e){let t,n=e9();r4(t=>{var n,r;if(!e.isEnabled())return;let i=function(e){let{target:t,message:n}=function(e){let t,n="click"===e.name,r=null;try{r=n?dc(e.event):dd(e.event),t=eh(r,{maxStringLength:200})||"<unknown>"}catch{t="<unknown>"}return{target:r,message:t}}(e);return dm({category:`ui.${e.name}`,...db(t,n)})}(t);if(!i)return;let a="click"===t.name,o=a?t.event:void 0;a&&e.clickDetector&&o?.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&(n=e.clickDetector,r=dc(t.event),n.handleClick(i,r)),dl(e,i)}),ie(t=>{if(!e.isEnabled())return;let n=function(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(d0(e,[n]),!1)))}),(t=e9())&&t.on("beforeAddBreadcrumb",t=>(function(e,t){var n;if(!e.isEnabled()||!dQ(t))return;let r=(n=t,!dQ(n)||["fetch","xhr","sentry.event","sentry.transaction"].includes(n.category)||n.category.startsWith("ui.")?null:"console"===n.category?function(e){let t=e.data?.arguments;if(!Array.isArray(t)||0===t.length)return dm(e);let n=!1,r=t.map(e=>{if(!e)return e;if("string"==typeof e)return e.length>5e3?(n=!0,`${e.slice(0,5e3)}…`):e;if("object"==typeof e)try{let t=no(e,7);if(JSON.stringify(t).length>5e3)return n=!0,`${JSON.stringify(t,null,2).slice(0,5e3)}…`;return t}catch{}return e});return dm({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(n):dm(n));r&&dl(e,r)})(e,t));let r=e9();try{let{networkDetailAllowUrls:t,networkDetailDenyUrls:n,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:o}=e.getOptions(),s={replay:e,networkDetailAllowUrls:t,networkDetailDenyUrls:n,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:o};r&&r.on("beforeAddBreadcrumb",(e,t)=>(function(e,t,n){if(t.data)try{var r,i,a,o;r=t,"xhr"===r.category&&(i=n,i?.xhr)&&(!function(e,t){let{xhr:n,input:r}=t;if(!n)return;let i=d2(r),a=n.getResponseHeader("content-length")?d3(n.getResponseHeader("content-length")):function(e,t){try{let n="json"===t&&e&&"object"==typeof e?JSON.stringify(e):e;return d2(n)}catch{return}}(n.response,n.responseType);void 0!==i&&(e.data.request_body_size=i),void 0!==a&&(e.data.response_body_size=a)}(t,n),fs(t,n,e)),a=t,"fetch"===a.category&&(o=n,o?.response)&&(!function(e,t){let{input:n,response:r}=t,i=d2(n?lF(n):void 0),a=r?d3(r.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==a&&(e.data.response_body_size=a)}(t,n),fe(t,n,e))}catch(e){dA&&dP.exception(e,"Error when enriching network breadcrumb")}})(s,e,t))}catch{}nx(Object.assign((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if("replay_event"===t.type)return delete t.breadcrumbs,t;if(t.type&&!dY(t)&&!dJ(t))return t;if(!e.checkAndHandleExpiredSession())return dZ(),t;if(dJ(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),e.triggerUserActivity(),e.addUpdate(()=>!t.timestamp||(e.throttledAddEvent({type:cR.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)),t;if(!t.type&&t.exception?.values?.length&&n.originalException?.__rrweb__&&!e.getOptions()._experiments.captureExceptions)return dA&&dP.log("Ignoring error from rrweb internals",t),null;let r="buffer"===e.recordingMode&&t.message!==uR&&!!t.exception&&!t.type&&dF(e.getOptions().errorSampleRate);if((r||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),r&&"buffer"===e.recordingMode&&e.session?.sampled==="buffer"){let t=e.session;t.dirty=!0,e.getOptions().stickySession&&dB(t)}return t},{id:"Replay"})),n&&(n.on("beforeSendEvent",t=>{var n,r;let i;e.isEnabled()&&!t.type&&(n=e,r=t,i=r.exception?.values?.[0]?.value,"string"==typeof i&&(i.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||i.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&dl(n,dm({category:"replay.hydrate-error",data:{url:eg()}})))}),n.on("afterSendEvent",(t,n)=>{if(!e.isEnabled()||t.type&&!dY(t))return;let r=n.statusCode;if(r&&!(r<200)&&!(r>=300)){if(dY(t)){var i,a;let n;return void(i=e,a=t,n=i.getContext(),a.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(a.contexts.trace.trace_id))}!function(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),"buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();("function"!=typeof r||r(t))&&i0(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(t){e.handleException(t)}})}(e,t)}}),n.on("createDsc",t=>{let n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)}),n.on("spanStart",t=>{e.lastActiveSpan=t}),n.on("spanEnd",t=>{e.lastActiveSpan=t}),n.on("beforeSendFeedback",async(t,n)=>{let r=e.getSessionId();n?.includeReplay&&e.isEnabled()&&r&&t.contexts?.feedback&&("api"===t.contexts.feedback.source&&await e.sendBufferedReplayOrFlush(),t.contexts.feedback.replay_id=r)}),n.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n(e){let{entries:n}=e;n.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(e=>{r.push(u_(e,n))}),r.push(ub(d_(dE,e)),uy(d_(dT,e)),uw(d_(dk,e))),()=>{r.forEach(e=>e())}}(this)}_removeListeners(){try{X.document.removeEventListener("visibilitychange",this._handleVisibilityChange),X.removeEventListener("blur",this._handleWindowBlur),X.removeEventListener("focus",this._handleWindowFocus),X.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){!this.session||dV(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(this.session){if(!this.checkAndHandleExpiredSession()){dA&&dP.log("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}}_updateUserActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastActivity=e}_updateSessionActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:cR.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=this.performanceEntries.map(dS).filter(Boolean).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let t=this._context.initialTimestamp/1e3;e=e.filter(e=>e.start>=t)}return Promise.all(d0(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart||e.segmentId)return;let n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){let e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){let e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){dA&&dP.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),this.eventBuffer?.hasEvents){if((await fl(this),this.eventBuffer)&&e===this.getSessionId())try{this._updateInitialTimestampFromEventBuffer();let t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw Error("Session is too long, not sending replay");let n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await fh({replayId:e,recordingData:i,segmentId:r,eventContext:n,session:this.session,timestamp:t,onError:e=>this.handleException(e)})}catch(t){this.handleException(t),this.stop({reason:"sendReplay"});let e=e9();e&&e.recordDroppedEvent(t instanceof fp?"ratelimit_backoff":"send_error","replay")}}}async _flush(){let{force:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){dA&&dP.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();let r=n<this._options.minReplayDuration,i=n>this._options.maxReplayDuration+5e3;if(r||i){dA&&dP.log(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),r&&this._debouncedFlush();return}let a=this.eventBuffer;a&&0===this.session.segmentId&&!a.hasCheckout&&dA&&dP.log("Flushing initial segment without checkout.");let o=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(e){this.handleException(e)}finally{this._flushLock=void 0,o&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&dB(this.session)}_onMutationHandler(e){let{ignoreMutations:t}=this._options._experiments;if(t?.length&&e.some(e=>{let n=function(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}(e.target),r=t.join(",");return n?.matches(r)}))return!1;let n=e.length,r=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,a=r&&n>r;if(n>i||a){let e=dm({category:"replay.mutations",data:{count:n,limit:a}});this._createCustomBreadcrumb(e)}return!a||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}function fv(e,t){return[...e,...t].join(",")}let fy='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',fb=["content-length","content-type","accept"],fw=!1,f_=e=>new fS(e);class fS{constructor(){let{flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:i=!0,useCompression:a=!0,workerUrl:o,_experiments:s={},maskAllText:l=!0,maskAllInputs:u=!0,blockAllMedia:c=!0,mutationBreadcrumbLimit:d=750,mutationLimit:f=1e4,slowClickTimeout:p=7e3,slowClickIgnoreSelectors:h=[],networkDetailAllowUrls:g=[],networkDetailDenyUrls:m=[],networkCaptureBodies:v=!0,networkRequestHeaders:y=[],networkResponseHeaders:b=[],mask:w=[],maskAttributes:_=["title","placeholder","aria-label"],unmask:S=[],block:x=[],unblock:E=[],ignore:T=[],maskFn:k,beforeAddRecordingEvent:C,beforeErrorSampling:A,onError:I}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.name="Replay";const M=function(e){let{mask:t,unmask:n,block:r,unblock:i,ignore:a}=e;return{maskTextSelector:fv(t,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:fv(n,[]),blockSelector:fv(r,[".sentry-block","[data-sentry-block]","base","iframe[srcdoc]:not([src])"]),unblockSelector:fv(i,[]),ignoreSelector:fv(a,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:w,unmask:S,block:x,unblock:E,ignore:T});if(this._recordingOptions={maskAllInputs:u,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:k,maskInputFn:k,maskAttributeFn:(e,t,n)=>(function(e){let{el:t,key:n,maskAttributes:r,maskAllText:i,privacyOptions:a,value:o}=e;return!i||a.unmaskTextSelector&&t.matches(a.unmaskTextSelector)?o:r.includes(n)||"value"===n&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o})({maskAttributes:_,maskAllText:l,privacyOptions:M,key:e,value:t,el:n}),...M,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!s.recordCrossOriginIframes},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,36e5),stickySession:i,useCompression:a,workerUrl:o,blockAllMedia:c,maskAllInputs:u,maskAllText:l,mutationBreadcrumbLimit:d,mutationLimit:f,slowClickTimeout:p,slowClickIgnoreSelectors:h,networkDetailAllowUrls:g,networkDetailDenyUrls:m,networkCaptureBodies:v,networkRequestHeaders:fx(y),networkResponseHeaders:fx(b),beforeAddRecordingEvent:C,beforeErrorSampling:A,onError:I,_experiments:s},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${fy}`:fy,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&i9())throw Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return fw}set _isInitialized(e){fw=e}afterAllSetup(e){i9()&&!this._replay&&(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(e){if(this._replay?.isEnabled())return this._replay.getSessionId(e)}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){var t;let n,r,i,a,o=(t=this._initialOptions,n=e.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...t},i=tD(n.replaysSessionSampleRate),a=tD(n.replaysOnErrorSampleRate),null==i&&null==a&&eb(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),null!=i&&(r.sessionSampleRate=i),null!=a&&(r.errorSampleRate=a),r);this._replay=new fm({options:o,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{let t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch{}}}function fx(e){return[...fb,...e.map(e=>e.toLowerCase())]}function fE(){let e=e9();return e?.getIntegrationByName("Replay")}var fT=Object.defineProperty,fk=(e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?fT(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n};function fC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:fC(e.parentNode,t,n,r+1)}function fA(e,t){return n=>{if(null===n)return!1;try{if(e){if("string"==typeof e){if(n.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}(n,e))return!0}if(t&&n.matches(t))return!0;return!1}catch{return!1}}}let fI="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",fM={map:{},getId:()=>(console.error(fI),-1),getNode:()=>(console.error(fI),null),removeNodeFromMap(){console.error(fI)},has:()=>(console.error(fI),!1),reset(){console.error(fI)}};function fR(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,a=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(e){fj(()=>{n.set.call(this,e)},0),a&&a.set&&a.set.call(this,e)}}),()=>fR(e,t,a||{},!0)}function fP(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}function fD(e,t,n,r,i){if(!e)return!1;let a=function(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(e){return null}}(e);if(!a)return!1;let o=fA(t,n);if(!i){let e=r&&a.matches(r);return o(a)&&!e}let s=fC(a,o),l=-1;return!(s<0)&&(r&&(l=fC(a,fA(null,r))),s>-1&&l<0||s<l)}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(fM=new Proxy(fM,{get:(e,t,n)=>("map"===t&&console.error(fI),Reflect.get(e,t,n))})),/* @__PURE__ */Date.now().toString();let fO={};function fN(e){let t=fO[e];if(t)return t;let n=window.document,r=window[e];if(n&&"function"==typeof n.createElement)try{let t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(e){}return fO[e]=r.bind(window)}function fL(){return fN("requestAnimationFrame")(...arguments)}function fj(){return fN("setTimeout")(...arguments)}var fU=((B=fU||{})[B["2D"]=0]="2D",B[B.WebGL=1]="WebGL",B[B.WebGL2=2]="WebGL2",B);let fF=e=>k?function(){try{return e(...arguments)}catch(e){if(k&&!0===k(e))return()=>{};throw e}}:e;for(var fB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fz="undefined"==typeof Uint8Array?[]:new Uint8Array(256),f$=0;f$<fB.length;f$++)fz[fB.charCodeAt(f$)]=f$;var fH=function(e){var t,n=new Uint8Array(e),r=n.length,i="";for(t=0;t<r;t+=3)i+=fB[n[t]>>2],i+=fB[(3&n[t])<<4|n[t+1]>>4],i+=fB[(15&n[t+1])<<2|n[t+2]>>6],i+=fB[63&n[t+2]];return r%3===2?i=i.substring(0,i.length-1)+"=":r%3===1&&(i=i.substring(0,i.length-2)+"=="),i};let fV=/* @__PURE__ */new Map,fq=(e,t,n)=>{let r;if(!e||!(fK(e,t)||"object"==typeof e))return;let i=e.constructor.name,a=((r=fV.get(n))||(r=/* @__PURE__ */new Map,fV.set(n,r)),r.has(i)||r.set(i,[]),r.get(i)),o=a.indexOf(e);return -1===o&&(o=a.length,a.push(e)),o},fW=(e,t,n)=>e.map(e=>(function e(t,n,r){if(t instanceof Array)return t.map(t=>e(t,n,r));if(null===t);else if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray)return{rr_type:t.constructor.name,args:[Object.values(t)]};else if(t instanceof ArrayBuffer)return{rr_type:t.constructor.name,base64:fH(t)};else if(t instanceof DataView)return{rr_type:t.constructor.name,args:[e(t.buffer,n,r),t.byteOffset,t.byteLength]};else if(t instanceof HTMLImageElement){let e=t.constructor.name,{src:n}=t;return{rr_type:e,src:n}}else if(t instanceof HTMLCanvasElement)return{rr_type:"HTMLImageElement",src:t.toDataURL()};else if(t instanceof ImageData)return{rr_type:t.constructor.name,args:[e(t.data,n,r),t.width,t.height]};else if(fK(t,n)||"object"==typeof t)return{rr_type:t.constructor.name,index:fq(t,n,r)};return t})(e,t,n)),fK=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(e=>"function"==typeof t[e]).find(n=>e instanceof t[n]);function fG(e,t,n,r,i){let a=[];try{let o=fP(e.HTMLCanvasElement.prototype,"getContext",function(e){return function(a){for(var o=arguments.length,s=Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];if(!fD(this,t,n,r,!0)){let e="experimental-webgl"===a?"webgl":a;if("__context"in this||(this.__context=e),i&&["webgl","webgl2"].includes(e))if(s[0]&&"object"==typeof s[0]){let e=s[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else s.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[a,...s])}});a.push(o)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{a.forEach(e=>e())}}function fX(e,t,n,r,i,a,o,s){let l=[];for(let o of Object.getOwnPropertyNames(e))if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(o))try{if("function"!=typeof e[o])continue;let u=fP(e,o,function(e){return function(){for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];let d=e.apply(this,u);if(fq(d,s,this),"tagName"in this.canvas&&!fD(this.canvas,r,i,a,!0)){let e=fW(u,s,this),r={type:t,property:o,args:e};n(this.canvas,r)}return d}});l.push(u)}catch{let r=fR(e,o,{set(e){n(this.canvas,{type:t,property:o,args:[e],setter:!0})}});l.push(r)}return l}class fY{constructor(e){this.pendingCanvasMutations=/* @__PURE__ */new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=/* @__PURE__ */new Set,this.windowsSet=/* @__PURE__ */new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=/* @__PURE__ */new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(e,t)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};const{enableManualSnapshot:t,sampling:n="all",win:r,recordCanvas:i,errorHandler:a}=e;if(e.sampling=n,this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,a&&(k=a),(i&&"number"==typeof n||t)&&(this.worker=this.initFPSWorker()),this.addWindow(r),t)return;fF(()=>{i&&"all"===n&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),i&&"number"==typeof n&&this.initCanvasFPSObserver()})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(e=>{try{e()}catch(e){}}),this.restoreHandlers=[],this.windowsSet=/* @__PURE__ */new WeakSet,this.windows=[],this.shadowDoms=/* @__PURE__ */new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=/* @__PURE__ */new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(e){let{sampling:t="all",blockClass:n,blockSelector:r,unblockSelector:i,recordCanvas:a,enableManualSnapshot:o}=this.options;if(!this.windowsSet.has(e)){if(o){this.windowsSet.add(e),this.windows.push(new WeakRef(e));return}fF(()=>{if(a&&"all"===t&&this.initCanvasMutationObserver(e,n,r,i),a&&"number"==typeof t){let t=fG(e,n,r,i,!0);this.restoreHandlers.push(()=>{t()})}})(),this.windowsSet.add(e),this.windows.push(new WeakRef(e))}}addShadowRoot(e){this.shadowDoms.add(new WeakRef(e))}resetShadowRoots(){this.shadowDoms=/* @__PURE__ */new Set}snapshot(e,t){t?.skipRequestAnimationFrame?this.takeSnapshot(performance.now(),!0,e):fL(t=>this.takeSnapshot(t,!0,e))}initFPSWorker(){let e,t=new Worker((e=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w?.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']),URL.createObjectURL(e)));return t.onmessage=e=>{let t=e.data,{id:n}=t;if(this.snapshotInProgressMap.set(n,!1),!("base64"in t))return;let{base64:r,type:i,width:a,height:o}=t;this.mutationCb({id:n,type:fU["2D"],commands:[{property:"clearRect",args:[0,0,a,o]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:i}]},0,0,a,o]}]})},t}initCanvasFPSObserver(){let e;if(!this.windows.length&&!this.shadowDoms.size)return;let t=n=>{this.takeSnapshot(n,!1),e=fL(t)};e=fL(t),this.restoreHandlers.push(()=>{e&&cancelAnimationFrame(e)})}initCanvasMutationObserver(e,t,n,r){var i,a;let o,s=fG(e,t,n,r,!1),l=function(e,t,n,r,i){let a=[];for(let o of Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype))try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[o])continue;let s=fP(t.CanvasRenderingContext2D.prototype,o,function(a){return function(){for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return fD(this.canvas,n,r,i,!0)||fj(()=>{let n=fW(l,t,this);e(this.canvas,{type:fU["2D"],property:o,args:n})},0),a.apply(this,l)}});a.push(s)}catch{let n=fR(t.CanvasRenderingContext2D.prototype,o,{set(t){e(this.canvas,{type:fU["2D"],property:o,args:[t],setter:!0})}});a.push(n)}return()=>{a.forEach(e=>e())}}(this.processMutation.bind(this),e,t,n,r),u=(i=this.processMutation.bind(this),a=this.mirror,(o=[]).push(...fX(e.WebGLRenderingContext.prototype,fU.WebGL,i,t,n,r,a,e)),void 0!==e.WebGL2RenderingContext&&o.push(...fX(e.WebGL2RenderingContext.prototype,fU.WebGL2,i,t,n,r,a,e)),()=>{o.forEach(e=>e())});this.restoreHandlers.push(()=>{s(),l(),u()})}getCanvasElements(e,t,n){let r=[],i=i=>{i.querySelectorAll("canvas").forEach(i=>{fD(i,e,t,n,!0)||r.push(i)})};for(let e of this.windows){let t,n=e.deref();try{t=n&&n.document}catch{}t&&i(t)}for(let e of this.shadowDoms){let t=e.deref();t&&i(t)}return r}takeSnapshot(e,t,n){let{sampling:r,blockClass:i,blockSelector:a,unblockSelector:o,dataURLOptions:s,maxCanvasSize:l}=this.options;return(!this.lastSnapshotTime||!(e-this.lastSnapshotTime<1e3/("all"===r?2:r||2)))&&(this.lastSnapshotTime=e,(n?[n]:this.getCanvasElements(i,a,o)).forEach(e=>{let n=this.mirror.getId(e);if(!(!this.mirror.hasNode(e)||!e.width||!e.height||this.snapshotInProgressMap.get(n))){if(this.snapshotInProgressMap.set(n,!0),!t&&["webgl","webgl2"].includes(e.__context)){let t=e.getContext(e.__context);t?.getContextAttributes()?.preserveDrawingBuffer===!1&&t.clear(t.COLOR_BUFFER_BIT)}createImageBitmap(e).then(t=>{this.worker?.postMessage({id:n,bitmap:t,width:e.width,height:e.height,dataURLOptions:s,maxCanvasSize:l},[t])}).catch(e=>{fF(()=>{throw this.snapshotInProgressMap.delete(n),e})()})}}),!0)}startPendingCanvasMutationFlusher(){fL(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let e=t=>{this.rafStamps.latestId=t,fL(e)};fL(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{let n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)}),fL(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;let n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;let r=n.map(e=>{let{type:t,...n}=e;return n}),{type:i}=n[0];this.mutationCb({id:t,type:i,commands:r}),this.pendingCanvasMutations.delete(e)}}try{if(2!==Array.from([1],e=>2*e)[0]){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}new class e{constructor(){fk(this,"idNodeMap",/* @__PURE__ */new Map),fk(this,"nodeMetaMap",/* @__PURE__ */new WeakMap)}getId(e){return e?this.getMeta(e)?.id??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){let n=this.getNode(e);if(n){let e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=/* @__PURE__ */new Map,this.nodeMetaMap=/* @__PURE__ */new WeakMap}},(z=H||(H={}))[z.NotStarted=0]="NotStarted",z[z.Running=1]="Running",z[z.Stopped=2]="Stopped";let fJ={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},fQ=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,r]=t.maxCanvasSize||[],i={quality:t.quality||"medium",enableManualSnapshot:t.enableManualSnapshot,maxCanvasSize:[n?Math.min(n,1280):1280,r?Math.min(r,1280):1280]},a=new Promise(t=>e=t);return{name:"ReplayCanvas",getOptions(){let{quality:t,enableManualSnapshot:n,maxCanvasSize:r}=i;return{enableManualSnapshot:n,recordCanvas:!0,getCanvasManager:t=>{let i=new fY({...t,enableManualSnapshot:n,maxCanvasSize:r,errorHandler:e=>{try{"object"==typeof e&&(e.__rrweb__=!0)}catch{}}});return e(i),i},...fJ[t]||fJ.medium}},async snapshot(e,t){(await a).snapshot(e,t)}}};function fZ(e){return e.split(",").some(e=>e.trim().startsWith(tg))}function f0(e){return"number"==typeof e&&isFinite(e)}function f1(e,t,n,r){let{...i}=r,a=tV(e).start_timestamp;return a&&a>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),oB(e,()=>{let e=oU({startTime:t,...i});return e&&e.end(n),e})}function f2(e){let t,n=e9();if(!n)return;let{name:r,transaction:i,attributes:a,startTime:o}=e,{release:s,environment:l,sendDefaultPii:u}=n.getOptions(),c=n.getIntegrationByName("Replay"),d=c?.getReplayId(),f=e3(),p=f.getUser(),h=void 0!==p?p.email||p.id||p.ip_address:void 0;try{t=f.getScopeData().contexts.profile.profile_id}catch{}return oU({name:r,attributes:{release:s,environment:l,user:h||void 0,profile_id:t||void 0,replay_id:d||void 0,transaction:i,"user_agent.original":X.navigator?.userAgent,"client.address":u?"{{auto}}":void 0,...a},startTime:o,experimental:{standalone:!0}})}function f3(){return X.addEventListener&&X.performance}function f4(e){return e/1e3}function f5(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function f6(e,t){let n,r=!1;function i(e){!r&&n&&t(e,n),r=!0}uo(()=>{i("pagehide")});let a=e.on("beforeStartNavigationSpan",(e,t)=>{t?.isRedirect||(i("navigation"),a(),o())}),o=e.on("afterStartPageLoadSpan",e=>{n=e.spanContext().spanId,o()})}function f8(e){return e?((eV()||performance.timeOrigin)+e)/1e3:e}function f9(e){let t={};if(void 0!=e.nextHopProtocol){let{name:n,version:r}=function(e){let t="unknown",n="unknown",r="";for(let i of e){if("/"===i){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}(e.nextHopProtocol);t["network.protocol.version"]=r,t["network.protocol.name"]=n}return eV()||f3()?.timeOrigin?Object.fromEntries(Object.entries({...t,"http.request.redirect_start":f8(e.redirectStart),"http.request.redirect_end":f8(e.redirectEnd),"http.request.worker_start":f8(e.workerStart),"http.request.fetch_start":f8(e.fetchStart),"http.request.domain_lookup_start":f8(e.domainLookupStart),"http.request.domain_lookup_end":f8(e.domainLookupEnd),"http.request.connect_start":f8(e.connectStart),"http.request.secure_connection_start":f8(e.secureConnectionStart),"http.request.connection_end":f8(e.connectEnd),"http.request.request_start":f8(e.requestStart),"http.request.response_start":f8(e.responseStart),"http.request.response_end":f8(e.responseEnd),"http.request.time_to_first_byte":null!=e.responseStart?e.responseStart/1e3:void 0}).filter(e=>{let[,t]=e;return null!=t})):t}function f7(e){try{return new URL(e,rR.location.origin).href}catch{return}}function pe(e){try{return new Headers(e)}catch{return}}let pt=new WeakMap,pn=new Map,pr={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function pi(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:a,enableHTTPTimings:o,tracePropagationTargets:s,onRequestSpanStart:l,onRequestSpanEnd:u}={...pr,...t},c="function"==typeof a?a:e=>!0,d=e=>(function(e,t){let n=eg();if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}let a=r.origin===i;return t?eN(r.toString(),t)||a&&eN(r.pathname,t):a}{let n=!!e.match(/^\/(?!\/)/);return t?eN(e,t):n}})(e,s),f={},p=e.getOptions().propagateTraceparent;if(n){let t;e.addEventProcessor(e=>("transaction"===e.type&&e.spans&&e.spans.forEach(e=>{if("http.client"===e.op){let t=pn.get(e.span_id);t&&(e.timestamp=t/1e3,pn.delete(e.span_id))}}),e)),i&&(rU(t="fetch-body-resolved",e=>{if(e.response){let t=pt.get(e.response);t&&e.endTimestamp&&pn.set(t,e.endTimestamp)}}),rF(t,()=>rW(rG))),rq(e=>{let t=function(e,t,n,r,i){var a,o,s,l,u,c,d,f;let p,h;if(!e.fetchData)return;let{method:g,url:m}=e.fetchData,v=tC()&&t(m);if(e.endTimestamp&&v){let t,n=e.fetchData.__span;if(!n)return;let l=r[n];l&&(function(e,t){if(t.response){tI(e,t.response.status);let n=t.response?.headers?.get("content-length");if(n){let t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}(l,e),a=l,o=e,t="object"==typeof(s=i)&&null!==s?s.onRequestSpanEnd:void 0,t?.(a,{headers:o.response?.headers,error:o.error}),delete r[n]);return}let{spanOrigin:y="auto.http.browser",propagateTraceparent:b=!1}="object"==typeof i?i:{spanOrigin:i},w=!!tQ(),_=v&&w?oU((l=m,u=g,c=y,{name:(p=r1(l))?`${u} ${function(e){if(r0(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}(p)}`:u,attributes:(d=l,f=p,h={url:d,type:"fetch","http.method":u,[tl]:c,[ts]:"http.client"},f&&(r0(f)||(h["http.url"]=f.href,h["server.address"]=f.host),f.search&&(h["http.query"]=f.search),f.hash&&(h["http.fragment"]=f.hash)),h)})):new oI;if(e.fetchData.__span=_.spanContext().spanId,r[_.spanContext().spanId]=_,n(e.fetchData.url)){let t=e.args[0],n=e.args[1]||{},r=function(e,t,n,r){var i;let a=o5({span:n,propagateTraceparent:r}),o=a["sentry-trace"],s=a.baggage,l=a.traceparent;if(!o)return;let u=t.headers||(ep(e)?e.headers:void 0);if(!u)return{...a};if(i=u,"undefined"!=typeof Headers&&ed(i,Headers)){let e=new Headers(u);if(e.get("sentry-trace")||e.set("sentry-trace",o),r&&l&&!e.get("traceparent")&&e.set("traceparent",l),s){let t=e.get("baggage");t?fZ(t)||e.set("baggage",`${t},${s}`):e.set("baggage",s)}return e}if(Array.isArray(u)){let e=[...u];u.find(e=>"sentry-trace"===e[0])||e.push(["sentry-trace",o]),r&&l&&!u.find(e=>"traceparent"===e[0])&&e.push(["traceparent",l]);let t=u.find(e=>"baggage"===e[0]&&fZ(e[1]));return s&&!t&&e.push(["baggage",s]),e}{let e="sentry-trace"in u?u["sentry-trace"]:void 0,t="traceparent"in u?u.traceparent:void 0,n="baggage"in u?u.baggage:void 0,i=n?Array.isArray(n)?[...n]:[n]:[],a=n&&(Array.isArray(n)?n.find(e=>fZ(e)):fZ(n));s&&!a&&i.push(s);let c={...u,"sentry-trace":e??o,baggage:i.length>0?i.join(","):void 0};return r&&l&&!t&&(c.traceparent=l),c}}(t,n,tC()&&w?_:void 0,b);r&&(e.args[1]=n,n.headers=r)}let S=e9();if(S){let t={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};S.emit("beforeOutgoingRequestSpan",_,t)}return _}(e,c,d,f,{propagateTraceparent:p,onRequestSpanEnd:u});if(e.response&&e.fetchData.__span&&pt.set(e.response,e.fetchData.__span),t){let n=f7(e.fetchData.url),r=n?r2(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r}),o&&pa(t),l?.(t,{headers:e.headers})}})}r&&r9(e=>{let t=function(e,t,n,r,i,a){let o=e.xhr,s=o?.[r8];if(!o||o.__sentry_own_request__||!s)return;let{url:l,method:u}=s,c=tC()&&t(l);if(e.endTimestamp&&c){let t=o.__sentry_xhr_span_id__;if(!t)return;let n=r[t];n&&void 0!==s.status_code&&(tI(n,s.status_code),n.end(),a?.(n,{headers:pe(lB(o)),error:e.error}),delete r[t]);return}let d=f7(l),f=d?r2(d):r2(l),p=r3(l),h=!!tQ(),g=c&&h?oU({name:`${u} ${p}`,attributes:{url:l,type:"xhr","http.method":u,"http.url":d,"server.address":f?.host,[tl]:"auto.http.browser",[ts]:"http.client",...f?.search&&{"http.query":f?.search},...f?.hash&&{"http.fragment":f?.hash}}}):new oI;o.__sentry_xhr_span_id__=g.spanContext().spanId,r[o.__sentry_xhr_span_id__]=g,n(l)&&function(e,t,n){let{"sentry-trace":r,baggage:i,traceparent:a}=o5({span:t,propagateTraceparent:n});r&&function(e,t,n,r){let i=e.__sentry_xhr_v3__?.request_headers;if(!i?.["sentry-trace"]&&e.setRequestHeader)try{if(e.setRequestHeader("sentry-trace",t),r&&!i?.traceparent&&e.setRequestHeader("traceparent",r),n){let t=i?.baggage;t&&t.split(",").some(e=>e.trim().startsWith("sentry-"))||e.setRequestHeader("baggage",n)}}catch{}}(e,r,i,a)}(o,tC()&&h?g:void 0,i);let m=e9();return m&&m.emit("beforeOutgoingRequestSpan",g,e),g}(e,c,d,f,p,u);t&&(o&&pa(t),l?.(t,{headers:pe(e.xhr.__sentry_xhr_v3__?.request_headers)}))})}function pa(e){let{url:t}=tV(e).data;if(!t||"string"!=typeof t)return;let n=u_("resource",r=>{let{entries:i}=r;i.forEach(r=>{"resource"===r.entryType&&"initiatorType"in r&&"string"==typeof r.nextHopProtocol&&("fetch"===r.initiatorType||"xmlhttprequest"===r.initiatorType)&&r.name.endsWith(t)&&(e.setAttributes(f9(r)),setTimeout(n))})})}let po={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function ps(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new Map,a=!1,o="externalFinish",s=!r.disableAutoFinish,l=[],{idleTimeout:u=po.idleTimeout,finalTimeout:c=po.finalTimeout,childSpanTimeout:d=po.childSpanTimeout,beforeSpanEnd:f,trimIdleSpanEndTimestamp:p=!0}=r,h=e9();if(!h||!tC()){let e=new oI,t={sample_rate:"0",sampled:"false",...t4(e)};return eT(e,t1,t),e}let g=e3(),m=tQ(),v=(t=oU(e),eX(e3(),t),Z&&ex.log("[Tracing] Started span is an idle span"),t);function y(){n&&(clearTimeout(n),n=void 0)}function b(e){y(),n=setTimeout(()=>{!a&&0===i.size&&s&&(o="idleTimeout",v.end(e))},u)}function w(e){n=setTimeout(()=>{!a&&s&&(o="heartbeatFailed",v.end(e))},d)}function _(e){a=!0,i.clear(),l.forEach(e=>e()),eX(g,m);let t=tV(v),{start_timestamp:n}=t;if(!n)return;t.data[tu]||v.setAttribute(tu,o),ex.log(`[Tracing] Idle span "${t.op}" finished`);let r=tY(v).filter(e=>e!==v),s=0;r.forEach(t=>{t.isRecording()&&(t.setStatus({code:2,message:"cancelled"}),t.end(e),Z&&ex.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));let{timestamp:n=0,start_timestamp:r=0}=tV(t),i=r<=e,a=n-r<=(c+u)/1e3;if(Z){let e=JSON.stringify(t,void 0,2);i?a||ex.log("[Tracing] Discarding span since it finished after idle span final timeout",e):ex.log("[Tracing] Discarding span since it happened after idle span was finished",e)}(!a||!i)&&(v[tK]&&v[tK].delete(t),s++)}),s>0&&v.setAttribute("sentry.idle_span_discarded_spans",s)}return v.end=new Proxy(v.end,{apply(e,t,n){if(f&&f(v),t instanceof oI)return;let[r,...i]=n,a=t$(r||eH()),o=tY(v).filter(e=>e!==v),s=tV(v);if(!o.length||!p)return _(a),Reflect.apply(e,t,[a,...i]);let l=h.getOptions().ignoreSpans,u=o?.reduce((e,t)=>{let n=tV(t);return!n.timestamp||l&&n2(n,l)?e:e?Math.max(e,n.timestamp):n.timestamp},void 0),d=s.start_timestamp,g=Math.min(d?d+c/1e3:1/0,Math.max(d||-1/0,Math.min(a,u||1/0)));return _(g),Reflect.apply(e,t,[g,...i])}}),l.push(h.on("spanStart",e=>{var t;!(a||e===v||tV(e).timestamp||e instanceof oP&&e.isStandaloneSpan())&&tY(v).includes(e)&&(t=e.spanContext().spanId,y(),i.set(t,!0),w(eH()+d/1e3))})),l.push(h.on("spanEnd",e=>{if(!a){var t;t=e.spanContext().spanId,i.has(t)&&i.delete(t),0===i.size&&b(eH()+u/1e3)}})),l.push(h.on("idleSpanEnableAutoFinish",e=>{e===v&&(s=!0,b(),i.size&&w())})),r.disableAutoFinish||b(),setTimeout(()=>{a||(v.setStatus({code:2,message:"deadline_exceeded"}),o="finalTimeout",v.end())},c),v}let pl=0,pu={};function pc(e,t,n,r){var i;let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n,o=t["secureConnection"===(i=n)?"connectEnd":"fetch"===i?"domainLookupStart":`${i}End`],s=t[`${n}Start`];s&&o&&f1(e,r+f4(s),r+f4(o),{op:`browser.${a}`,name:t.name,attributes:{[tl]:"auto.ui.browser.metrics",..."redirect"===n&&null!=t.redirectCount?{"http.redirect_count":t.redirectCount}:{}}})}let pd=[],pf=new Map,pp=new Map,ph={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"},pg=e=>{let{metric:t}=e;if(void 0==t.value)return;let n=f4(t.value);if(n>60)return;let r=t.entries.find(e=>e.duration===t.value&&ph[e.name]);if(!r)return;let{interactionId:i}=r,a=ph[r.name],o=f4(eV()+r.startTime),s=tQ(),l=s?tJ(s):void 0,u=null!=i?pf.get(i):void 0,c=u?.span||l,d=c?tV(c).description:e3().getScopeData().transactionName,f=f2({name:u?.elementName||eh(r.target),transaction:d,attributes:{[tl]:"auto.http.browser.inp",[ts]:`ui.interaction.${a}`,[th]:r.duration},startTime:o});f&&(f.addEvent("inp",{[tc]:"millisecond",[td]:t.value}),f.end(o+n))},pm=e=>{let{entries:t}=e,n=tQ(),r=n?tJ(n):void 0,i=r?tV(r).description:e3().getScopeData().transactionName;t.forEach(e=>{if(!e.identifier)return;let t=e.name,n=e.renderTime,r=e.loadTime,[a,o]=r?[f4(r),"load-time"]:n?[f4(n),"render-time"]:[eH(),"entry-emission"],s="image-paint"===t?f4(Math.max(0,(n??0)-(r??0))):0,l={[tl]:"auto.ui.browser.elementtiming",[ts]:"ui.elementtiming",[ti]:"component","sentry.span_start_time_source":o,"sentry.transaction_name":i,"element.id":e.id,"element.type":e.element?.tagName?.toLowerCase()||"unknown","element.size":e.naturalWidth&&e.naturalHeight?`${e.naturalWidth}x${e.naturalHeight}`:void 0,"element.render_time":n,"element.load_time":r,"element.url":e.url||void 0,"element.identifier":e.identifier,"element.paint_type":t};oL({name:`element[${e.identifier}]`,attributes:l,startTime:a,onlyIfParent:!0},e=>{e.end(a+s)})})},pv="sentry_previous_trace";function py(e){return 1===e.traceFlags}let pb={...po,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...pr},pw=function(){let e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={name:void 0,source:void 0},a=rR.document,{enableInp:o,enableElementTiming:s,enableLongTask:l,enableLongAnimationFrame:u,_experiments:{enableInteractions:c,enableStandaloneClsSpans:d,enableStandaloneLcpSpans:f},beforeStartSpan:p,idleTimeout:h,finalTimeout:g,childSpanTimeout:m,markBackgroundSpan:v,traceFetch:b,traceXHR:w,trackFetchStreamPerformance:_,shouldCreateSpanForRequest:S,enableHTTPTimings:x,ignoreResourceSpans:E,ignorePerformanceApiSpans:T,instrumentPageLoad:k,instrumentNavigation:I,detectRedirects:M,linkPreviousTrace:R,consistentTraceSampling:P,enableReportPageLoaded:D,onRequestSpanStart:O,onRequestSpanEnd:N}={...pb,...r};function L(t,r){let o=!(arguments.length>2)||void 0===arguments[2]||arguments[2],s="pageload"===r.op,l=r.name,u=p?p(r):r,c=u.attributes||{};if(l!==u.name&&(c[ti]="custom",u.attributes=c),!o){let e=e$();oU({...u,startTime:e}).end(e);return}i.name=u.name,i.source=c[ti];let v=ps(u,{idleTimeout:h,finalTimeout:g,childSpanTimeout:m,disableAutoFinish:s,beforeSpanEnd:r=>{e?.(),function(e,t){var n,r;let i=f3(),a=eV();if(!i?.getEntries||!a)return;let o=f4(a),s=i.getEntries(),{op:l,start_timestamp:u}=tV(e);s.slice(pl).forEach(n=>{let r=f4(n.startTime),i=f4(Math.max(0,n.duration));if("navigation"!==l||!u||!(o+r<u))switch(n.entryType){case"navigation":var a,s,c,d,f,p;let h,g,m;a=e,s=n,c=o,["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(e=>{pc(a,s,e,c)}),pc(a,s,"secureConnection",c,"TLS/SSL"),pc(a,s,"fetch",c,"cache"),pc(a,s,"domainLookup",c,"DNS"),d=a,f=s,h=(p=c)+f4(f.requestStart),g=p+f4(f.responseEnd),m=p+f4(f.responseStart),f.responseEnd&&(f1(d,h,g,{op:"browser.request",name:f.name,attributes:{[tl]:"auto.ui.browser.metrics"}}),f1(d,m,g,{op:"browser.response",name:f.name,attributes:{[tl]:"auto.ui.browser.metrics"}}));break;case"mark":case"paint":case"measure":{!function(e,t,n,r,i,a){if(function(e){if(e?.entryType==="measure")try{return"Components ⚛"===e.detail.devtools.track}catch{return}}(t)||["mark","measure"].includes(t.entryType)&&eN(t.name,a))return;let o=lW(!1),s=i+Math.max(n,f4(o?o.requestStart:0)),l=i+n,u=l+r,c={[tl]:"auto.resource.browser.metrics"};s!==l&&(c["sentry.browser.measure_happened_before_request"]=!0,c["sentry.browser.measure_start_time"]=s),function(e,t){try{let n=t.detail;if(!n)return;if("object"==typeof n){for(let[t,r]of Object.entries(n))if(r&&es(r))e[`sentry.browser.measure.detail.${t}`]=r;else if(void 0!==r)try{e[`sentry.browser.measure.detail.${t}`]=JSON.stringify(r)}catch{}return}if(es(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}(c,t),s<=u&&f1(e,s,u,{name:t.name,op:t.entryType,attributes:c})}(e,n,r,i,o,t.ignorePerformanceApiSpans);let a=l3(),s=n.startTime<a.firstHiddenTime;"first-paint"===n.name&&s&&(pu.fp={value:n.startTime,unit:"millisecond"}),"first-contentful-paint"===n.name&&s&&(pu.fcp={value:n.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,i,a,o){var s,l;if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;let u=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o?.includes(u))return;let c={[tl]:"auto.resource.browser.metrics"},d=r2(n);d.protocol&&(c["url.scheme"]=d.protocol.split(":").pop()),d.host&&(c["server.address"]=d.host),c["url.same_origin"]=n.includes(X.location.origin),s=t,l=c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]].forEach(e=>{let[t,n]=e,r=s[t];null!=r&&("number"==typeof r&&r<0x7fffffff||"string"==typeof r)&&(l[n]=r)});let f={...c,...f9(t)},p=a+r;f1(e,p,p+i,{name:n.replace(X.location.origin,""),op:u,attributes:f})}(e,n,n.name,r,i,o,t.ignoreResourceSpans)}}),pl=Math.max(s.length-1,0),function(e){let t=X.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),f0(n.rtt)&&(pu["connection.rtt"]={value:n.rtt,unit:"millisecond"})),f0(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),f0(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===l&&(function(e){let t=lW(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(pu),t.recordClsOnPageloadSpan||delete pu.cls,t.recordLcpOnPageloadSpan||delete pu.lcp,Object.entries(pu).forEach(e=>{let[t,n]=e;oM(t,n.value,n.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",lK()),n=e,r=t,C&&r.recordLcpOnPageloadSpan&&(C.element&&n.setAttribute("lcp.element",eh(C.element)),C.id&&n.setAttribute("lcp.id",C.id),C.url&&n.setAttribute("lcp.url",C.url.trim().slice(0,200)),null!=C.loadTime&&n.setAttribute("lcp.loadTime",C.loadTime),null!=C.renderTime&&n.setAttribute("lcp.renderTime",C.renderTime),n.setAttribute("lcp.size",C.size)),A?.sources&&r.recordClsOnPageloadSpan&&A.sources.forEach((e,t)=>n.setAttribute(`cls.source.${t+1}`,eh(e.node)))),C=void 0,A=void 0,pu={}}(r,{recordClsOnPageloadSpan:!d,recordLcpOnPageloadSpan:!f,ignoreResourceSpans:E,ignorePerformanceApiSpans:T}),eT(t,pE,void 0);let i=e3(),a=i.getPropagationContext();i.setPropagationContext({...a,traceId:v.spanContext().traceId,sampled:tq(v),dsc:t4(r)}),s&&(n=void 0)},trimIdleSpanEndTimestamp:!D});function y(){a&&["interactive","complete"].includes(a.readyState)&&t.emit("idleSpanEnableAutoFinish",v)}s&&D&&(n=v),eT(t,pE,v),s&&!D&&a&&(a.addEventListener("readystatechange",()=>{y()}),y())}return{name:"BrowserTracing",setup(r){if(lg(),e=function(e){let{recordClsStandaloneSpans:t,recordLcpStandaloneSpans:n,client:r}=e,i=f3();if(i&&eV()){i.mark&&X.performance.mark("sentry-tracing-init");let e=n?function(e){let t,n=0;if(!f5("largest-contentful-paint"))return;let r=ub(e=>{let{metric:r}=e,i=r.entries[r.entries.length-1];i&&(n=r.value,t=i)},!0);f6(e,(e,i)=>{var a,o,s,l;let u,c,d,f,p;a=n,o=t,s=i,l=e,iJ&&ex.log(`Sending LCP span (${a})`),u=f4((eV()||0)+(o?.startTime||0)),c=e3().getScopeData().transactionName,d=o?eh(o.element):"Largest contentful paint",f={[tl]:"auto.http.browser.lcp",[ts]:"ui.webvital.lcp",[th]:0,"sentry.pageload.span_id":s,"sentry.report_event":l},o&&(o.element&&(f["lcp.element"]=eh(o.element)),o.id&&(f["lcp.id"]=o.id),o.url&&(f["lcp.url"]=o.url),null!=o.loadTime&&(f["lcp.loadTime"]=o.loadTime),null!=o.renderTime&&(f["lcp.renderTime"]=o.renderTime),null!=o.size&&(f["lcp.size"]=o.size)),(p=f2({name:d,transaction:c,attributes:f,startTime:u}))&&(p.addEvent("lcp",{[tc]:"millisecond",[td]:a}),p.end(u)),r()})}(r):ub(e=>{let{metric:t}=e,n=t.entries[t.entries.length-1];n&&(pu.lcp={value:t.value,unit:"millisecond"},C=n)},!0),a=uC("ttfb",e=>{let{metric:t}=e;t.entries[t.entries.length-1]&&(pu.ttfb={value:t.value,unit:"millisecond"})},uT,y),o=t?function(e){let t,n=0;if(!f5("layout-shift"))return;let r=uy(e=>{let{metric:r}=e,i=r.entries[r.entries.length-1];i&&(n=r.value,t=i)},!0);f6(e,(e,i)=>{var a,o,s,l;let u,c,d,f,p;a=n,o=t,s=i,l=e,iJ&&ex.log(`Sending CLS span (${a})`),u=o?f4((eV()||0)+o.startTime):eH(),c=e3().getScopeData().transactionName,d=o?eh(o.sources[0]?.node):"Layout shift",f={[tl]:"auto.http.browser.cls",[ts]:"ui.webvital.cls",[th]:0,"sentry.pageload.span_id":s,"sentry.report_event":l},o?.sources&&o.sources.forEach((e,t)=>{f[`cls.source.${t+1}`]=eh(e.node)}),(p=f2({name:d,transaction:c,attributes:f,startTime:u}))&&(p.addEvent("cls",{[tc]:"",[td]:a}),p.end(u)),r()})}(r):uy(e=>{let{metric:t}=e,n=t.entries[t.entries.length-1];n&&(pu.cls={value:t.value,unit:""},A=n)},!0);return()=>{e?.(),a(),o?.()}}return()=>void 0}({recordClsStandaloneSpans:d||!1,recordLcpStandaloneSpans:f||!1,client:r}),o&&function(){if(f3()&&eV()){let e=uw(pg);()=>{e()}}}(),s&&f3()&&eV()&&u_("element",pm),u&&X.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver(e=>{let t=tQ();if(t)for(let n of e.getEntries()){if(!n.scripts[0])continue;let e=f4(eV()+n.startTime),{start_timestamp:r,op:i}=tV(t);if("navigation"===i&&r&&e<r)continue;let a=f4(n.duration),o={[tl]:"auto.ui.browser.metrics"},{invoker:s,invokerType:l,sourceURL:u,sourceFunctionName:c,sourceCharPosition:d}=n.scripts[0];o["browser.script.invoker"]=s,o["browser.script.invoker_type"]=l,u&&(o["code.filepath"]=u),c&&(o["code.function"]=c),-1!==d&&(o["browser.script.source_char_position"]=d),f1(t,e,e+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:o})}}).observe({type:"long-animation-frame",buffered:!0}):l&&u_("longtask",e=>{let{entries:t}=e,n=tQ();if(!n)return;let{op:r,start_timestamp:i}=tV(n);for(let e of t){let t=f4(eV()+e.startTime),a=f4(e.duration);"navigation"===r&&i&&t<i||f1(n,t,t+a,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[tl]:"auto.ui.browser.metrics"}})}}),c&&u_("event",e=>{let{entries:t}=e,n=tQ();if(n){for(let e of t)if("click"===e.name){let t=f4(eV()+e.startTime),r=f4(e.duration),i={name:eh(e.target),op:`ui.interaction.${e.name}`,startTime:t,attributes:{[tl]:"auto.ui.browser.metrics"}},a=em(e.target);a&&(i.attributes["ui.component_name"]=a),f1(n,t,t+r,i)}}}),M&&a){let e=()=>{t=eH()};addEventListener("click",e,{capture:!0}),addEventListener("keydown",e,{capture:!0,passive:!0})}function i(){let e=r[pE];e&&!tV(e).timestamp&&(ir&&ex.log(`[Tracing] Finishing current active span with op: ${tV(e).op}`),e.setAttribute(tu,"cancelled"),e.end())}r.on("startNavigationSpan",(e,n)=>{if(e9()!==r)return;if(n?.isRedirect){ir&&ex.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),L(r,{op:"navigation.redirect",...e},!1);return}t=void 0,i(),e4().setPropagationContext({traceId:eL(),sampleRand:Math.random(),propagationSpanId:tC()?void 0:eK()});let a=e3();a.setPropagationContext({traceId:eL(),sampleRand:Math.random(),propagationSpanId:tC()?void 0:eK()}),a.setSDKProcessingMetadata({normalizedRequest:void 0}),L(r,{op:"navigation",...e,parentSpan:null,forceTransaction:!0})}),r.on("startPageLoadSpan",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e9()!==r)return;i();let n=tN(t.sentryTrace||px("sentry-trace"),t.baggage||px("baggage")),a=e3();a.setPropagationContext(n),tC()||(a.getPropagationContext().propagationSpanId=eK()),a.setSDKProcessingMetadata({normalizedRequest:rO()}),L(r,{op:"pageload",...e})}),r.on("endPageloadSpan",()=>{D&&n&&(n.setAttribute(tu,"reportPageLoaded"),n.end())})},afterAllSetup(e){var n,r,a,s,l;let u,d=eg();if("off"!==R&&function(e,t){let{linkPreviousTrace:n,consistentTraceSampling:r}=t,i="session-storage"===n,a=i?function(){try{let e=rR.sessionStorage?.getItem(pv);return JSON.parse(e)}catch{return}}():void 0;e.on("spanStart",e=>{if(tJ(e)!==e)return;let t=e3().getPropagationContext();a=function(e,t,n){let r=tV(t),i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:function(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[ta])}catch{return 0}}(),sampleRand:n.sampleRand};if(!e)return i;let a=e.spanContext;return a.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=3600&&(ir&&ex.log(`Adding previous_trace ${a} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:a,attributes:{"sentry.link.type":"previous_trace"}}),t.setAttribute("sentry.previous_trace",`${a.traceId}-${a.spanId}-${+!!py(a)}`)),i)}(a,e,t),i&&function(e){try{rR.sessionStorage.setItem(pv,JSON.stringify(e))}catch(e){ir&&ex.warn("Could not store previous trace in sessionStorage",e)}}(a)});let o=!0;r&&e.on("beforeSampling",e=>{if(!a)return;let t=e3(),n=t.getPropagationContext();if(o&&n.parentSpanId){o=!1;return}t.setPropagationContext({...n,dsc:{...n.dsc,sample_rate:String(a.sampleRate),sampled:String(py(a.spanContext))},sampleRand:a.sampleRand}),e.parentSampled=py(a.spanContext),e.parentSampleRate=a.sampleRate,e.spanAttributes={...e.spanAttributes,[to]:a.sampleRate}})}(e,{linkPreviousTrace:R,consistentTraceSampling:P}),rR.location){if(k){let t=eV();p_(e,{name:rR.location.pathname,startTime:t?t/1e3:void 0,attributes:{[ti]:"url",[tl]:"auto.pageload.browser"}})}I&&ie(n=>{var r,i;let a,o,{to:s,from:l}=n;if(void 0===l&&d?.indexOf(s)!==-1){d=void 0;return}d=void 0;let u=r1(s),c=e[pE],f=c&&M&&(r=c,i=t,a=tV(r),!((o=e$())-a.start_timestamp>1.5)&&(!i||!(o-i<=1.5)));pS(e,{name:u?.pathname||rR.location.pathname,attributes:{[ti]:"url",[tl]:"auto.navigation.browser"}},{url:s,isRedirect:f})})}v&&(rR.document?rR.document.addEventListener("visibilitychange",()=>{let e=tQ();if(!e)return;let t=tJ(e);if(rR.document.hidden&&t){let e="cancelled",{op:n,status:r}=tV(t);ir&&ex.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),r||t.setStatus({code:2,message:e}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):ir&&ex.warn("[Tracing] Could not set up background tab detection due to lack of global document")),c&&(n=e,r=h,a=g,s=m,l=i,rR.document&&addEventListener("click",()=>{let e="ui.action.click",t=function(e){return e[pE]}(n);if(t&&["navigation","pageload"].includes(tV(t).op)){ir&&ex.warn(`[Tracing] Did not create ${e} span because a pageload or navigation span is in progress.`);return}if(u&&(u.setAttribute(tu,"interactionInterrupted"),u.end(),u=void 0),!l.name){ir&&ex.warn(`[Tracing] Did not create ${e} transaction because _latestRouteName is missing.`);return}u=ps({name:l.name,op:e,attributes:{[ti]:l.source||"url"}},{idleTimeout:r,finalTimeout:a,childSpanTimeout:s})},{capture:!0})),o&&function(){let e=Object.keys(ph);function t(e){let t=e.target;if(!t)return;let n=eh(t),r=Math.round(e.timeStamp);if(pp.set(r,n),pp.size>50){let e=pp.keys().next().value;void 0!==e&&pp.delete(e)}}i9()&&e.forEach(e=>{X.addEventListener(e,t,{capture:!0,passive:!0})});let n=e=>{let{entries:t}=e,n=tQ(),r=n&&tJ(n);t.forEach(e=>{if(!("duration"in e))return;let t=e.interactionId;if(null==t||pf.has(t))return;let n=e.target?eh(e.target):function(e){let t=Math.round(e.startTime),n=pp.get(t);if(!n)for(let e=-5;e<=5;e++){let r=pp.get(t+e);if(r){n=r;break}}return n||"<unknown>"}(e);if(pd.length>10){let e=pd.shift();pf.delete(e)}pd.push(t),pf.set(t,{span:r,elementName:n})})};u_("event",n),u_("first-input",n)}(),pi(e,{traceFetch:b,traceXHR:w,trackFetchStreamPerformance:_,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:S,enableHTTPTimings:x,onRequestSpanStart:O,onRequestSpanEnd:N})}}};function p_(e,t,n){e.emit("startPageLoadSpan",t,n),e3().setTransactionName(t.name);let r=e[pE];return r&&e.emit("afterStartPageLoadSpan",r),r}function pS(e,t,n){let{url:r,isRedirect:i}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:i}),e.emit("startNavigationSpan",t,{isRedirect:i});let a=e3();return a.setTransactionName(t.name),r&&!i&&a.setSDKProcessingMetadata({normalizedRequest:{...rO(),url:r}}),e[pE]}function px(e){let t=rR.document,n=t?.querySelector(`meta[name=${e}]`);return n?.getAttribute("content")||void 0}let pE="_sentry_idleSpan";function pT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e9();e?.emit("endPageloadSpan")}function pk(e){let t=tQ();if(t===e)return;let n=e3();e.end=new Proxy(e.end,{apply:(e,r,i)=>(eX(n,t),Reflect.apply(e,r,i))}),eX(n,e)}function pC(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function pA(e){return pC(e.getAllKeys())}function pI(e){let t;function n(){var n,r;let i,a;return void 0==t&&(n=e.dbName||"sentry-offline",r=e.storeName||"queue",(i=indexedDB.open(n)).onupgradeneeded=()=>i.result.createObjectStore(r),a=pC(i),t=e=>a.then(t=>e(t.transaction(r,"readwrite").objectStore(r)))),t}return{push:async t=>{try{var r,i;let a=await nJ(t);await (r=n(),i=e.maxQueueSize||30,r(e=>pA(e).then(t=>{if(!(t.length>=i))return e.put(a,Math.max(...t,0)+1),pC(e.transaction)})))}catch{}},unshift:async t=>{try{var r,i;let a=await nJ(t);await (r=n(),i=e.maxQueueSize||30,r(e=>pA(e).then(t=>{if(!(t.length>=i))return e.put(a,Math.min(...t,0)-1),pC(e.transaction)})))}catch{}},shift:async()=>{try{let e=await n()(e=>pA(e).then(t=>{let n=t[0];if(null!=n)return pC(e.get(n)).then(t=>(e.delete(n),pC(e.transaction).then(()=>t)))}));if(e)return function(e){let t="string"==typeof e?nY(e):e;function n(e){let n=t.subarray(0,e);return t=t.subarray(e+1),n}function r(){var e;let r,i=t.indexOf(10);return i<0&&(i=t.length),JSON.parse((e=n(i),(r=J(X)).decodePolyfill?r.decodePolyfill(e):new TextDecoder().decode(e)))}let i=r(),a=[];for(;t.length;){let e=r(),t="number"==typeof e.length?e.length:void 0;a.push([e,t?n(t):r()])}return[i,a]}(e)}catch{}}}}function pM(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i1;return e=function(e){function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Z&&ex.log("[Offline]:",...t)}return n=>{let r,i=e(n);if(!n.createStore)throw Error("No `createStore` function was provided");let a=n.createStore(n),o=5e3;function s(e){r&&clearTimeout(r),"number"!=typeof(r=setTimeout(async()=>{r=void 0;let e=await a.shift();e&&(t("Attempting to send previously queued event"),e[0].sent_at=new Date().toISOString(),u(e,!0).catch(e=>{t("Failed to retry sending",e)}))},e))&&r.unref&&r.unref()}function l(){r||(s(o),o=Math.min(2*o,36e5))}async function u(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!r&&nX(e,["replay_event","replay_recording"]))return await a.push(e),s(100),{};try{if(n.shouldSend&&await n.shouldSend(e)===!1)throw Error("Envelope not sent because `shouldSend` callback returned false");let t=await i.send(e),r=100;if(t){if(t.headers?.["retry-after"])r=iK(t.headers["retry-after"]);else if(t.headers?.["x-sentry-rate-limits"])r=6e4;else if((t.statusCode||0)>=400)return t}return s(r),o=5e3,t}catch(i){var u;if(await (u=o,!nX(e,["client_report"])&&(!n.shouldStore||n.shouldStore(e,i,u))))return r?await a.unshift(e):await a.push(e),l(),t("Error sending. Event queued.",i),{};throw i}}return n.flushAtStartup&&l(),{send:u,flush:e=>(void 0===e&&(o=5e3,s(100)),i.flush(e))}}}(t),t=>{let n=e({...t,createStore:pI});return rR.addEventListener("online",async e=>{await n.flush()}),n}}let pR="window"in X&&X.window===X&&"undefined"==typeof importScripts,pP=String(0),pD=pR?"main":"worker",pO=rR.navigator,pN="",pL="",pj="",pU=pO?.userAgent||"",pF="",pB=pO?.language||pO?.languages?.[0]||"",pz=pO?.userAgentData;function p$(e){return"pageload"===tV(e).op}function pH(e){let t=e9(),n=t?.getOptions(),r=n?.stackParser;if(!r)return[];let i=t9(r);if(!i)return[];let a=[];for(let t of e)t&&i[t]&&a.push({type:"sourcemap",code_file:t,debug_id:i[t]});return a}function pV(e){return"number"!=typeof e&&"boolean"!=typeof e||"number"==typeof e&&isNaN(e)?(ir&&ex.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!0===e||!1===e||!(e<0)&&!(e>1)||(ir&&ex.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1)}"object"==typeof pz&&null!==pz&&"getHighEntropyValues"in pz&&pz.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(pN=e.platform||"",pj=e.architecture||"",pF=e.model||"",pL=e.platformVersion||"",e.fullVersionList?.length){let t=e.fullVersionList[e.fullVersionList.length-1];pU=`${t.brand} ${t.version}`}}).catch(e=>void 0);let pq=!1;function pW(){let e=rR.Profiler;if("function"!=typeof e){ir&&ex.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=Math.floor(3e3);try{return new e({sampleInterval:10,maxBufferSize:t})}catch(e){ir&&(ex.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),ex.log("[Profiling] Disabling profiling for current user session.")),pq=!0}}function pK(e){if(pq)return ir&&ex.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return ir&&ex.log("[Profiling] Discarding profile because root span was not sampled."),!1;let t=e9(),n=t?.getOptions();if(!n)return ir&&ex.log("[Profiling] Profiling disabled, no options found."),!1;let r=n.profilesSampleRate;return pV(r)?r?!!(!0===r||Math.random()<r)||(ir&&ex.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(ir&&ex.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(ir&&ex.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function pG(e){return void 0!==e.profilesSampleRate}let pX=new Map;class pY{constructor(){this._client=void 0,this._profiler=void 0,this._chunkTimer=void 0,this._activeRootSpanIds=new Set,this._rootSpanTimeouts=new Map,this._profilerId=void 0,this._isRunning=!1,this._sessionSampled=!1}initialize(e,t){this._profilerId=eL(),ir&&ex.log("[Profiling] Initializing profiler (lifecycle='trace')."),this._client=e,this._sessionSampled=t,e.on("spanStart",e=>{if(!this._sessionSampled){ir&&ex.log("[Profiling] Session not sampled because of negative sampling decision.");return}if(e!==tJ(e))return;if(!e.isRecording()){ir&&ex.log("[Profiling] Discarding profile because root span was not sampled.");return}e5().setContext("profile",{profiler_id:this._profilerId});let t=e.spanContext().spanId;if(!t||this._activeRootSpanIds.has(t))return;this._activeRootSpanIds.add(t);let n=this._activeRootSpanIds.size,r=setTimeout(()=>{this._onRootSpanTimeout(t)},3e5);this._rootSpanTimeouts.set(t,r),1===n&&(ir&&ex.log(`[Profiling] Root span with ID ${t} started. Will continue profiling for as long as there are active root spans (currently: ${n}).`),this.start())}),e.on("spanEnd",e=>{if(!this._sessionSampled)return;let t=e.spanContext().spanId;if(!t||!this._activeRootSpanIds.has(t))return;this._activeRootSpanIds.delete(t);let n=this._activeRootSpanIds.size;ir&&ex.log(`[Profiling] Root span with ID ${t} ended. Will continue profiling for as long as there are active root spans (currently: ${n}).`),0===n&&(this._collectCurrentChunk().catch(e=>{ir&&ex.error("[Profiling] Failed to collect current profile chunk on `spanEnd`:",e)}),this.stop())})}notifyRootSpanActive(e){if(!this._sessionSampled)return;let t=e.spanContext().spanId;if(!t||this._activeRootSpanIds.has(t))return;this._activeRootSpanIds.add(t);let n=this._activeRootSpanIds.size;1===n&&(ir&&ex.log("[Profiling] Detected already active root span during setup. Active root spans now:",n),this.start())}start(){if(!this._isRunning){if(this._isRunning=!0,ir&&ex.log("[Profiling] Started profiling with profile ID:",this._profilerId),this._startProfilerInstance(),!this._profiler){ir&&ex.log("[Profiling] Stopping trace lifecycle profiling."),this._resetProfilerInfo();return}this._startPeriodicChunking()}}stop(){this._isRunning&&(this._isRunning=!1,this._chunkTimer&&(clearTimeout(this._chunkTimer),this._chunkTimer=void 0),this._clearAllRootSpanTimeouts(),this._collectCurrentChunk().catch(e=>{ir&&ex.error("[Profiling] Failed to collect current profile chunk on `stop()`:",e)}))}_resetProfilerInfo(){this._isRunning=!1,e5().setContext("profile",{})}_clearAllRootSpanTimeouts(){this._rootSpanTimeouts.forEach(e=>clearTimeout(e)),this._rootSpanTimeouts.clear()}_startProfilerInstance(){if(this._profiler?.stopped===!1)return;let e=pW();if(!e){ir&&ex.log("[Profiling] Failed to start JS Profiler in trace lifecycle.");return}this._profiler=e}_startPeriodicChunking(){this._isRunning&&(this._chunkTimer=setTimeout(()=>{if(this._collectCurrentChunk().catch(e=>{ir&&ex.error("[Profiling] Failed to collect current profile chunk during periodic chunking:",e)}),this._isRunning){if(this._startProfilerInstance(),!this._profiler)return void this._resetProfilerInfo();this._startPeriodicChunking()}},6e4))}_onRootSpanTimeout(e){!this._rootSpanTimeouts.has(e)||(this._rootSpanTimeouts.delete(e),this._activeRootSpanIds.has(e)&&(ir&&ex.log(`[Profiling] Reached 5-minute timeout for root span ${e}. You likely started a manual root span that never called \`.end()\`.`),this._activeRootSpanIds.delete(e),0===this._activeRootSpanIds.size&&this.stop()))}async _collectCurrentChunk(){let e=this._profiler;if(this._profiler=void 0,e)try{let t=await e.stop(),n=function(e,t,n){if(null==e)throw TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${e} instead.`);let r=function(e){let t=[];for(let n=0;n<e.frames.length;n++){let r=e.frames[n];r&&(t[n]={function:r.name,abs_path:"number"==typeof r.resourceId?e.resources[r.resourceId]:void 0,lineno:r.line,colno:r.column})}let n=[];for(let t=0;t<e.stacks.length;t++){let r=e.stacks[t];if(!r)continue;let i=[],a=r;for(;a;)i.push(a.frameId),a=void 0===a.parentId?void 0:e.stacks[a.parentId];n[t]=i}let r=eV(),i="number"==typeof performance.timeOrigin?performance.timeOrigin:r||0,a=i-(r||i),o=[];for(let t=0;t<e.samples.length;t++){let n=e.samples[t];if(!n)continue;let r=(i+(n.timestamp-a))/1e3;o[t]={stack_id:n.stackId??0,thread_id:pP,timestamp:r}}return{frames:t,stacks:n,samples:o,thread_metadata:{[pP]:{name:pD}}}}(e),i=t.getOptions(),a=t.getSdkMetadata?.()?.sdk;return{chunk_id:eL(),client_sdk:{name:a?.name??"sentry.javascript.browser",version:a?.version??"0.0.0"},profiler_id:n||eL(),platform:"javascript",version:"2",release:i.release??"",environment:i.environment??"production",debug_meta:{images:pH(e.resources)},profile:r}}(t,this._client,this._profilerId),r=function(e){try{if(!e||"object"!=typeof e)return{reason:"chunk is not an object"};let t=e=>"string"==typeof e&&/^[a-f0-9]{32}$/.test(e);if(!t(e.profiler_id))return{reason:"missing or invalid profiler_id"};if(!t(e.chunk_id))return{reason:"missing or invalid chunk_id"};if(!e.client_sdk)return{reason:"missing client_sdk metadata"};let n=e.profile;if(!n)return{reason:"missing profile data"};if(!Array.isArray(n.frames)||!n.frames.length)return{reason:"profile has no frames"};if(!Array.isArray(n.stacks)||!n.stacks.length)return{reason:"profile has no stacks"};if(!Array.isArray(n.samples)||!n.samples.length)return{reason:"profile has no samples"};return{valid:!0}}catch(e){return{reason:`unknown validation error: ${e}`}}}(n);if("reason"in r){ir&&ex.log("[Profiling] Discarding invalid profile chunk (this is probably a bug in the SDK):",r.reason);return}this._sendProfileChunk(n),ir&&ex.log("[Profiling] Collected browser profile chunk.")}catch(e){ir&&ex.log("[Profiling] Error while stopping JS Profiler for chunk:",e)}}_sendProfileChunk(e){let t=this._client,n=nZ(t.getSdkMetadata?.()),r=t.getDsn(),i=t.getOptions().tunnel,a=nK({event_id:eL(),sent_at:new Date().toISOString(),...n&&{sdk:n},...!!i&&r&&{dsn:tS(r)}},[[{type:"profile_chunk"},e]]);t.sendEnvelope(a).then(null,e=>{ir&&ex.error("Error while sending profile chunk envelope:",e)})}}function pJ(e){let t;p$(e)&&(t=1e3*eH());let n=pW();if(!n)return;ir&&ex.log(`[Profiling] started profiling span: ${tV(e).description}`);let r=eL(),i=null;async function a(){if(e&&n){if(i){ir&&ex.log("[Profiling] profile for:",tV(e).description,"already exists, returning early");return}return n.stop().then(t=>{if(o&&(rR.clearTimeout(o),o=void 0),ir&&ex.log(`[Profiling] stopped profiling of span: ${tV(e).description}`),!t){ir&&ex.log(`[Profiling] profiler returned null profile for: ${tV(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}i=t;if(pX.set(r,t),pX.size>30){let e=pX.keys().next().value;void 0!==e&&pX.delete(e)}}).catch(e=>{ir&&ex.log("[Profiling] error while stopping profiler:",e)})}}e3().setContext("profile",{profile_id:r,start_timestamp:t});let o=rR.setTimeout(()=>{ir&&ex.log("[Profiling] max profile duration elapsed, stopping profiling for:",tV(e).description),a()},3e4),s=e.end.bind(e);e.end=function(){return e?(a().then(()=>{s()},()=>{s()}),e):s()}}let pQ=()=>({name:"BrowserProfiling",setup(e){let t=e.getOptions();if(pG(t)||t.profileLifecycle||(t.profileLifecycle="manual"),pG(t)&&!t.profilesSampleRate){ir&&ex.log("[Profiling] Profiling disabled, no profiling options found.");return}let n=tQ(),r=n&&tJ(n);if(pG(t)&&void 0!==t.profileSessionSampleRate&&ir&&ex.warn("[Profiling] Both legacy profiling (`profilesSampleRate`) and UI profiling settings are defined. `profileSessionSampleRate` has no effect when legacy profiling is enabled."),pG(t))r&&p$(r)&&pK(r)&&pJ(r),e.on("spanStart",e=>{e===tJ(e)&&pK(e)&&pJ(e)}),e.on("beforeEnvelope",e=>{let t;if(!pX.size)return;let n=(t=[],nG(e,(e,n)=>{if("transaction"===n)for(let n=1;n<e.length;n++){let r=e[n];r?.contexts?.profile?.profile_id&&t.push(e[n])}}),t);if(!n.length)return;let r=[];for(let e of n){let t=e?.contexts,n=t?.profile?.profile_id,i=t?.profile?.start_timestamp;if("string"!=typeof n||!n){ir&&ex.log("[Profiling] cannot find profile for a span without a profile context");continue}t?.profile&&delete t.profile;let a=function(e){let t=pX.get(e);return t&&pX.delete(e),t}(n);if(!a){ir&&ex.log(`[Profiling] Could not retrieve profile for span: ${n}`);continue}let o=function(e,t,n,r){return(n.samples.length<2?(ir&&ex.log("[Profiling] Discarding profile because it contains less than 2 samples"),1):!n.frames.length&&(ir&&ex.log("[Profiling] Discarding profile because it contains no frames"),1))?null:function(e,t,n,r){var i;let a;if("transaction"!==r.type)throw TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let o=("string"==typeof(a=r.contexts?.trace?.trace_id)&&32!==a.length&&ir&&ex.log(`[Profiling] Invalid traceId: ${a} on profiled event`),"string"!=typeof a)?"":a,s="thread_metadata"in(i=n)?i:function(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[pP]:{name:pD}}},i=e.samples[0];if(!i)return r;let a=i.timestamp,o=eV(),s="number"==typeof performance.timeOrigin?performance.timeOrigin:o||0,l=s-(o||s);return e.samples.forEach((i,o)=>{if(void 0===i.stackId){void 0===t&&(t=n,r.stacks[t]=[],n++),r.samples[o]={elapsed_since_start_ns:((i.timestamp+l-a)*1e6).toFixed(0),stack_id:t,thread_id:pP};return}let s=e.stacks[i.stackId],u=[];for(;s;){u.push(s.frameId);let t=e.frames[s.frameId];t&&void 0===r.frames[s.frameId]&&(r.frames[s.frameId]={function:t.name,abs_path:"number"==typeof t.resourceId?e.resources[t.resourceId]:void 0,lineno:t.line,colno:t.column}),s=void 0===s.parentId?void 0:e.stacks[s.parentId]}let c={elapsed_since_start_ns:((i.timestamp+l-a)*1e6).toFixed(0),stack_id:n,thread_id:pP};r.stacks[n]=u,r.samples[o]=c,n++}),r}(i),l=t||("number"==typeof r.start_timestamp?1e3*r.start_timestamp:1e3*eH()),u="number"==typeof r.timestamp?1e3*r.timestamp:1e3*eH();return{event_id:e,timestamp:new Date(l).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||te,runtime:{name:"javascript",version:rR.navigator.userAgent},os:{name:pN,version:pL,build_number:pU},device:{locale:pB,model:pF,manufacturer:pU,architecture:pj,is_emulator:!1},debug_meta:{images:pH(n.resources)},profile:s,transactions:[{name:r.transaction||"",id:r.event_id||eL(),trace_id:o,active_thread_id:pP,relative_start_ns:"0",relative_end_ns:((u-l)*1e6).toFixed(0)}]}}(e,t,n,r)}(n,i,a,e);o&&r.push(o)}!function(e,t){if(t.length)for(let n of t)e[1].push([{type:"profile"},n])}(e,r)});else{let n=function(e){if(pq)return ir&&ex.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if("trace"!==e.profileLifecycle)return!1;let t=e.profileSessionSampleRate;return pV(t)?t?Math.random()<=t:(ir&&ex.log("[Profiling] Discarding profile because profileSessionSampleRate is not defined or set to 0"),!1):(ir&&ex.warn("[Profiling] Discarding profile because of invalid profileSessionSampleRate."),!1)}(t);if(!n&&ir&&ex.log("[Profiling] Session not sampled. Skipping lifecycle profiler initialization."),"trace"===t.profileLifecycle){if(!tC(t)){ir&&ex.warn("[Profiling] `profileLifecycle` is 'trace' but tracing is disabled. Set a `tracesSampleRate` or `tracesSampler` to enable span tracing.");return}let i=new pY;i.initialize(e,n),r&&i.notifyRootSpanActive(r),rR.setTimeout(()=>{let e=tQ(),t=e&&tJ(e);t&&i.notifyRootSpanActive(t)},0)}}},processEvent:e=>(e?.contexts?.profile&&e.contexts&&(e.contexts.trace={...e.contexts?.trace??{},data:{...e.contexts?.trace?.data??{},"thread.id":pP,"thread.name":pD}},e.spans?.forEach(e=>{e.data={...e.data||{},"thread.id":pP,"thread.name":pD}})),e)}),pZ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sidecarUrl||"http://localhost:8969/stream";return{name:"SpotlightBrowser",setup:()=>{ir&&ex.log("Using Sidecar URL",t)},processEvent:e=>{var t;return"transaction"===(t=e).type&&t.spans&&t.contexts?.trace&&"ui.action.click"===t.contexts.trace.op&&t.spans.some(e=>{let{description:t}=e;return t?.includes("#sentry-spotlight")})?null:e},afterAllSetup:e=>{var n,r;let i,a;n=e,r=t,i=iZ("fetch"),a=0,n.on("beforeEnvelope",e=>{a>3?ex.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",a):i(r,{method:"POST",body:nJ(e),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(e=>{e.status>=200&&e.status<400&&(a=0)},e=>{a++,ex.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",e)})})}}},p0=()=>({name:"LaunchDarkly",processEvent:(e,t,n)=>o1(e)});function p1(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{o2(e,t.value),o3(e,t.value)}}}let p2=()=>({name:"OpenFeature",processEvent:(e,t,n)=>o1(e)});class p3{after(e,t){o2(t.flagKey,t.value),o3(t.flagKey,t.value)}error(e,t,n){o2(e.flagKey,e.defaultValue),o3(e.flagKey,e.defaultValue)}}let p4=e=>{let{featureFlagClientClass:t}=e;return{name:"Unleash",setupOnce(){eE(t.prototype,"isEnabled",p5)},processEvent:(e,t,n)=>o1(e)}};function p5(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=n[0],a=e.apply(this,n);return"string"==typeof i&&"boolean"==typeof a?(o2(i,a),o3(i,a)):ir&&ex.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${i} (${typeof i}), result: ${a} (${typeof a})`),a}}function p6(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=n[0],a=e.apply(this,n);return"string"==typeof i&&"boolean"==typeof a&&(o2(i,a),o3(i,a)),a}}let p8=e=>{let{growthbookClass:t}=e;return(e=>{let{growthbookClass:t}=e;return{name:"GrowthBook",setupOnce(){let e=t.prototype;"function"==typeof e.isOn&&eE(e,"isOn",p6),"function"==typeof e.getFeatureValue&&eE(e,"getFeatureValue",p6)},processEvent:(e,t,n)=>o1(e)}})({growthbookClass:t})},p9=e=>{let{featureFlagClient:t}=e;return{name:"Statsig",setup(e){t.on("gate_evaluation",e=>{o2(e.gate.name,e.gate.value),o3(e.gate.name,e.gate.value)})},processEvent:(e,t,n)=>o1(e)}};async function p7(){let e=e9();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await oz(()=>fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"}))}catch{return"sentry-unreachable"}}let he=e=>{let{worker:t}=e;return{name:"WebWorker",setupOnce:()=>{(Array.isArray(t)?t:[t]).forEach(e=>ht(e))},addWorker:e=>ht(e)}};function ht(e){e.addEventListener("message",e=>{(function(e){if(!el(e)||!0!==e._sentryMessage)return!1;let t="_sentryDebugIds"in e,n="_sentryWorkerError"in e;return(!!t||!!n)&&(!t||!!(el(e._sentryDebugIds)||void 0===e._sentryDebugIds))&&(!n||!!el(e._sentryWorkerError))})(e.data)&&(e.stopImmediatePropagation(),e.data._sentryDebugIds&&(ir&&ex.log("Sentry debugId web worker message received",e.data),rR._sentryDebugIds={...e.data._sentryDebugIds,...rR._sentryDebugIds}),e.data._sentryWorkerError&&(ir&&ex.log("Sentry worker rejection message received",e.data._sentryWorkerError),function(e){let t=e9();if(!t)return;let n=t.getOptions().stackParser,r=t.getOptions().attachStacktrace,i=e.reason,a=es(i)?iw(i):rI(n,i,void 0,r,!0);a.level="error",e.filename&&(a.contexts={...a.contexts,worker:{filename:e.filename}}),nd(a,{originalException:i,mechanism:{handled:!1,type:"auto.browser.web_worker.onunhandledrejection"}}),ir&&ex.log("Captured worker unhandled rejection",i)}(e.data._sentryWorkerError)))})}function hn(e){let{self:t}=e;t.postMessage({_sentryMessage:!0,_sentryDebugIds:t._sentryDebugIds??void 0}),t.addEventListener("unhandledrejection",e=>{let n={reason:ib(e),filename:t.location?.href};t.postMessage({_sentryMessage:!0,_sentryWorkerError:n}),ir&&ex.log("[Sentry Worker] Forwarding unhandled rejection to parent",n)}),ir&&ex.log("[Sentry Worker] Registered worker with unhandled rejection handling")}let hr=K.K2?K.K2:"dev",hi=new URL(window.location.href);["cloudflarestream.com","videodelivery.net"].some(e=>hi.hostname.endsWith(e))&&function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"dev"!==K.aP&&i3({dsn:"https://129be481880e19e021a6ad9172cc6495@sentry10.cfdata.org/1483",transport:(e={environment:K.aP},t=>{let n=async n=>{let r={envelope:n.body,url:t.url,env:e.environment};try{let e=await fetch("https://platform.dash.cloudflare.com/sentry/envelope",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json"},body:JSON.stringify(r)});return{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}}catch(e){return console.log(e),tn(e)}};return iY(t,n)}),release:hr,sampleRate:.01,...t,ignoreErrors:["Non-Error promise rejection captured with value: Object Not Found Matching Id:",/^chrome-extension:.*/]})}();let ha=(e,t)=>{if("dev"==K.aP)throw e;if(!(e instanceof Error))throw nu(Error("Caught value that was not an error"),{extra:{type:typeof e,value:e,json:JSON.stringify(e)}}),e;nu(e,t)},ho=W},2963(e,t,n){"use strict";function r(){let e=function(e){let t=document.createElement("a");t.href=e;let{port:n,protocol:r,hostname:i,pathname:a,search:o}=t;return{port:n,protocol:r,hostname:i,pathname:a,search:o}}(document.referrer),t=e.port?`:${e.port}`:"";return e.protocol+"//"+e.hostname+t}function i(e){if(null===e)return null;try{let t=new URL(e);if("http:"===t.protocol||"https:"===t.protocol)return e}catch{}return null}n.d(t,{Bq:()=>r,U4:()=>i})},1651(e,t,n){"use strict";function r(e){if(!(e instanceof Error)||"AbortError"!==e.name)throw e}n.d(t,{M:()=>r})},5184(e,t,n){"use strict";var r=n(2963),i=n(4728),a=n(6909);function o(e,t){this.window=e,this.url=t||"/beacon/media",this.useFallback=!1,this.hooks=[]}o.prototype.sendBeacon=function(e){let t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=encodeURIComponent(btoa(JSON.stringify(e))),r=encodeURIComponent(btoa("The Cloudflare Stream team is hiring! Email renan@cloudflare.com")),i=`m=${n}&cs=${r}`;return t.forEach(t=>{i=`${i}&${t}=${e[t]}`}),i}(Object.assign({},e,{req_id:crypto.randomUUID(),_ts:new Date().valueOf().toString()}),["req_id","_ts","l","b","t","d","sz","v","i","cbr","cr","vp","vers","r"]);document.createElement("img").src=`${this.url}?${t}`,this.hooks.forEach(t=>t(e))},o.prototype.hook=function(e){this.hooks.push(e)};class s{constructor(e,t){let n=e.getPhysicalStats();e.flushTimeViewed(),this.r=t,this.l=e.firstDelay,this.t=e.timeViewed,this.d=e.downloadTime,this.sz=e.downloadSize,this.v=e.videoID,this.vp=n.inViewport,this.pv=n.height,this.ph=n.width,this.vers=e.playerVersion,this.i=e.impressionId,this.int={}}withIntegrated(e){this.int=e}print(){console.group(`[${this.seq}] TriggerEvent`),console.log("In Viewport",this.vp),console.log("Player Vertical",this.ph),console.log("Player Horizontal",this.pv),console.log("First Delay:",this.l,"ms"),console.log("Time Viewed:",this.t,"ms"),console.log("Download Time:",this.d,"ms"),console.log("Download Size:",this.sz,"bytes"),console.log("Video ID:",this.v),console.log("Impression ID:",this.i),console.log("Player Version:",this.vers),console.log("Reason:",this.r),console.groupEnd()}}class l{constructor(e){this.reason=e}toTrigger(e){return new s(e,this.reason)}}class u extends l{constructor(){super(3)}}class c extends l{constructor(){super(0)}}class d extends l{constructor(){super(1)}}class f extends l{constructor(){super(2)}}class p{constructor(e,t){this.size=e,this.duration=Math.round(t)}print(){throw Error("SegmentEvent is intermediate state; should not be printed")}}class h{constructor(e,t,n){this.t=n,this.cbr=e,this.cr=t}integrable(){return{bitrate:this.cbr,resolution:this.cr}}print(){console.group(`[${this.seq}] QualityEvent`),console.log("Timestamp:",this.t),console.log("Current Bitrate:",this.cbr,"bit/s"),console.log("Current Resolution",this.cr,"p"),console.groupEnd()}}class g{constructor(e,t,n){this.t=n,this.st=e,this.d=t}print(){console.group(`[${this.seq}] BufferEvent`),console.log("Timestamp:",this.t),console.log("Buffer Start:",this.st),console.log("Buffer Duration",this.d,"ms"),console.groupEnd()}}class m{constructor(e,t,n){this.t=n,this.f=e,this.to=t}print(){console.group(`[${this.seq}] SeekEvent`),console.log("Timestamp:",this.t),console.log("From:",this.f,"s"),console.log("To",this.to,"s"),console.groupEnd()}}n(9404),n(9982),n(7399),n(6970),n(1048),n(2236),n(1650),n(6884),n(8710),n(3617),n(3019),n(8657),n(3380);let v=()=>new Date().getTime();class y{constructor(e){this.paused=!1,this.spaces=new Map,e.forEach(e=>{this.spaces.set(e,v())})}pause(){Array.from(this.spaces.keys()).forEach(e=>this.update(e)),this.paused=!0}play(){Array.from(this.spaces.keys()).forEach(e=>this.discard(e)),this.paused=!1}discard(e){this.spaces.set(e,v())}update(e){let t=v(),n=this.spaces.get(e);if(!n)throw Error(`cannot update unknown tag: ${e}`);return(this.spaces.set(e,t),this.paused)?0:t-n}}class b{constructor(e,t){let n=new Map,r=new Map,i=new Map;t.forEach(e=>{let{tag:t,snapshot:a}=e;n.set(t,{}),r.set(t,a),i.set(t,0)}),this.canonical=e,this.accumulators=n,this.snapshots=r,this.totals=i}integrate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.snapshots.get(e),i=this.accumulators.get(e);this.totals.set(e,this.totals.get(e)+t),Object.keys(r).forEach(e=>{let n=r[e]*t,a=i[e]||0;i[e]=a+n}),n&&this.snapshots.set(e,n)}get(e){let t=this.accumulators.get(e);if(!t)throw Error(`cannot get unknown tag: ${e}`);let n=this.totals.get(e),r=this.totals.get(this.canonical);if(void 0===r)throw Error(`canonical total against tag ${this.canonical} not found`);let i=r/n,a=Object.assign({},t);return Object.keys(i).forEach(e=>{a[e]=Math.round(a[e]*i)}),a}}var w=n(9501);let _="control",S="quality";class x{constructor(e){let{element:t,site:n,src:r,beaconInterval:i=3e4,playerVersion:s=a.K2}=e;this.element=t,this._setVideoID(r),this.init(),this.beaconClient=new o(window,n),this.beaconInterval=i,this.playerVersion=s,x.metrics.push(this),this.debug=!1}_setVideoID(e){this.impressionId=crypto.randomUUID().replace(/-/g,""),this.videoID=(0,w.k)(e)}updateSrc(e){this.flushEvents(),this._setVideoID(e)}flushEvents(){this.pushEvent(new f)}withDebug(e){return this.debug=!!e,this}init(){this.seq=0,this.lastTimeViewedUpdate=new Date().getTime(),this.start=0,this.firstDelay=0,this.timer=new y([S,_]),this.integral=new b(_,[{tag:_,snapshot:{}},{tag:S,snapshot:new h(0,0,0).integrable()}]),this.compatTimeViewedTotal=0,this.compatBufferTimeTotal=0,this.compatDownloadTimeTotal=0,this.compatDownloadSizeTotal=0,this.compatCurrentBitrate=0,this.compatCurrentResolution=0,this.resetAccumulated()}pushEvent(e){let t=new Date().getTime();switch(e.seq=this.seq++,e.constructor){case d:this.start||(this.start=t),this.discardTimeViewedUpdate(),this.intervalId=setInterval(()=>{this.pushEvent(new c)},this.beaconInterval),this.pushEvent(e.toTrigger(this));break;case f:this.updateTimeViewed(),clearInterval(this.intervalId),this.pushEvent(e.toTrigger(this));break;case u:case c:this.updateTimeViewed(),this.pushEvent(e.toTrigger(this));break;case s:this.sendMetrics(e);return;case g:this.compatBufferTimeTotal+=e.d,this.bufEv.push(e);break;case h:this.qualityEv.push(e);let n=this.timer.update(S);this.integral.integrate(S,n,e.integrable()),this.compatCurrentBitrate=e.cbr,this.compatCurrentResolution=e.cr;break;case m:this.seekEv.push(e);break;case p:this.firstDelay||(this.firstDelay=t-this.start,this.discardTimeViewedUpdate()),this.downloadTime+=e.duration,this.downloadSize+=e.size,this.compatDownloadTimeTotal+=e.duration,this.compatDownloadSizeTotal+=e.size;break;default:console.warn("Unknown event type received:",e)}}resetAccumulated(){this.timeViewed=0,this.downloadTime=0,this.downloadSize=0,this.bufEv=[],this.qualityEv=[],this.seekEv=[]}isVisible(){var e,t;return(t=(e=this.element).getBoundingClientRect()).top>=-e.offsetHeight&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}discardTimeViewedUpdate(){this.timer.discard(_)}updateTimeViewed(){let e=this.timer.update(_);if(e>3*this.beaconInterval)return void this.discardTimeViewedUpdate();this.timeViewed+=e,this.compatTimeViewedTotal+=e,this.integral.integrate(_,e);let t=this.timer.update(S);this.integral.integrate(S,t)}flushTimeViewed(){this.updateTimeViewed()}getPhysicalStats(){return{inViewport:+!!this.isVisible(),height:this.element.offsetHeight,width:this.element.offsetWidth}}getIntegrated(){let{bitrate:e,resolution:t}=this.integral.get(S);return{twqb:e,twqr:t}}getMetrics(e){return e.withIntegrated(this.getIntegrated()),{tr:e,bev:this.bufEv,qev:this.qualityEv,sev:this.seekEv,l:e.l,b:this.compatBufferTimeTotal,t:this.compatTimeViewedTotal,d:this.compatDownloadTimeTotal,sz:this.compatDownloadSizeTotal,v:this.videoID,i:this.impressionId,cbr:this.compatCurrentBitrate,cr:this.compatCurrentResolution,vp:e.vp,vers:this.playerVersion,r:e.r}}printMetrics(e){console.group(`[${e.tr.seq}] Beacon`),[e.tr,...e.qev,...e.bev,...e.sev].sort((e,t)=>e.seq>t.seq).forEach(e=>e.print()),console.groupEnd()}sendMetrics(e){if(!this.start)return;let t=this.getMetrics(e);return this.debug&&this.printMetrics(t),this.beaconClient.sendBeacon(t),this.resetAccumulated(),this}getBeaconClient(){return this.beaconClient}}x.handlerNames=Object.getOwnPropertyNames(x.prototype).filter(e=>0===e.indexOf("on")),x.metrics=[],window.addEventListener("beforeunload",function(){for(let e of x.metrics)e.flushEvents()});var E=n(8909),T=n(4060),k=n(9152),C=n(9743),A=n(9098),I=n(5055),M=null,R=function(){M=null};let P=function(){var e=window;return e.google&&e.google.ima?Promise.resolve(e.google.ima):M?M:((M=new Promise(function(e,t){var n=document.createElement("script");n.async=!0,n.src="//imasdk.googleapis.com/js/sdkloader/ima3.js",n.onload=e,n.onerror=t,document.body.appendChild(n)}).then(function(){return e.google.ima})).then(R).catch(R),M)};var D=n(5233);function O(e){let t=(0,E.useRef)(e);return(0,E.useEffect)(()=>{t.current=e},[e]),(0,E.useCallback)(function(){return t.current(...arguments)},[])}var N=n(4040),L=n(2704),j=n(7450),U=n(5148);let F=(0,I.AH)`
  background: black;
  position: absolute;
  left: 0;
  bottom: 0;
  height: 2px;
  width: 100%;
  z-index: 1;
`,B=(0,I.AH)`
  position: absolute;
  background: gold;
  height: 100%;
  width: 100%;
  scale: var(--progress) 1;
  transform-origin: center left;
`;function z(e){let t=(e.duration-e.remainingTime)/e.duration;return /*#__PURE__*/E.createElement("div",{className:F},/*#__PURE__*/E.createElement("div",{className:B,style:{"--progress":t}}))}let $=(0,I.AH)`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
`,H=(0,I.AH)`
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  color: white;
}
`,V=(0,I.AH)`
  filter: drop-shadow(0px 0px 0.5em var(--glow-color, black)) !important;
`,q=(0,I.AH)`
  position: absolute;
  inset: 0;
  height: 100%;
  width: 100%;
  z-index: 1;
  pointer-events: none;
`,W=(0,I.AH)`
  & > * {
    pointer-events: auto;
  }
`,K=/*#__PURE__*/(0,E.createContext)({waitingOnAdManager:!1,setWaitingOnAdManager:()=>{},adPlaying:!1,setAdPlaying:()=>{},onAdStart:()=>{},onAdEnd:()=>{},onAdTimeout:()=>{}});function G(){}function X(e){let{children:t,adUrl:n,onAdStart:r=G,onAdEnd:i=G,onAdTimeout:a=G,onAdManagerLoaded:o=G,...s}=e,[l,u]=(0,E.useState)(null!==n),[c,d]=(0,E.useState)(!1);return(0,E.useEffect)(()=>{l||o()},[l,o]),null!==n?/*#__PURE__*/E.createElement(K.Provider,{value:{adPlaying:c,setAdPlaying:d,waitingOnAdManager:l,setWaitingOnAdManager:u,onAdStart:r,onAdEnd:i,onAdTimeout:a}},/*#__PURE__*/E.createElement(Y,{children:t,adUrl:n,videoRef:s.videoRef})):t({adPlaying:c,waitingOnAdManager:l})}function Y(e){let{children:t,videoRef:n,adUrl:r}=e,{ima:i,error:a}=function(){let[e,t]=(0,E.useState)(),[n,r]=(0,E.useState)(),{setWaitingOnAdManager:i}=(0,E.useContext)(K);return(0,E.useEffect)(()=>{P().then(t).catch(e=>{r(e),i(!1)})},[]),{ima:e,error:n}}(),o=(0,E.useRef)(null),{adPlaying:s,waitingOnAdManager:l}=(0,E.useContext)(K);return a?t({adPlaying:s,waitingOnAdManager:l}):/*#__PURE__*/E.createElement(E.Fragment,null,t({adPlaying:s,waitingOnAdManager:l}),/*#__PURE__*/E.createElement("div",{ref:o,className:$}),i&&/*#__PURE__*/E.createElement(J,{adContainerRef:o,videoRef:n,adUrl:r,ima:i},e=>{let{pause:t,play:n,paused:r,muted:i,volume:a,setMuted:o,setVolume:s,remainingTime:l,duration:u}=e;return /*#__PURE__*/E.createElement("div",null,/*#__PURE__*/E.createElement("div",{className:(0,j.x)(H,q)},/*#__PURE__*/E.createElement("div",{className:(0,j.x)(U.qy,U.dg,W)},/*#__PURE__*/E.createElement(N.R,{paused:r,onClick:()=>r?n():t(),className:V}),/*#__PURE__*/E.createElement(L.Tt,{buttonClassName:V,sliderClassName:V,muted:i,volume:a,setMuted:o,setVolume:s}))),/*#__PURE__*/E.createElement(z,{remainingTime:l,duration:u}))}))}let J=e=>{let{adUrl:t,ima:n,videoRef:r,adContainerRef:i,children:a}=e,{adPlaying:o}=(0,E.useContext)(K),s=function(e,t,n,r){let i=(0,E.useRef)(!1),{setWaitingOnAdManager:a,setAdPlaying:o,onAdEnd:s,onAdStart:l,onAdTimeout:u}=(0,E.useContext)(K),c=(0,E.useRef)(),d=(0,E.useRef)(),f=(0,E.useRef)(),p=(0,E.useRef)(-1),h=(0,E.useRef)(!1),g=O(l),m=O(s),v=O(u),[y,b]=(0,E.useState)(!1),[w,_]=(0,E.useState)(t.current?.volume??1),[S,x]=(0,E.useState)(t.current?.muted??!0),[T,k]=(0,E.useState)(0),[C,A]=(0,E.useState)(0);return(0,E.useEffect)(()=>{let s=(0,D.t)(t.current),l=(0,D.t)(n.current);c.current=new e.AdDisplayContainer(l,s),d.current=new e.AdsLoader(c.current),d.current.addEventListener(e.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(n){clearTimeout(p.current),a(!1);let r=new e.AdsRenderingSettings;r.restoreCustomPlaybackStateOnAdBreakComplete=!0,f.current=n.getAdsManager(s,r),f.current.addEventListener(e.AdEvent.Type.LOADED,()=>{k(f.current?.getRemainingTime()??0),A(f.current?.getRemainingTime()??0)}),f.current.addEventListener(e.AdEvent.Type.AD_PROGRESS,()=>{A(f.current?.getRemainingTime()??0)}),f.current.addEventListener(e.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(){s.pause()}),f.current.addEventListener(e.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(){o(!1),s.play()}),f.current.addEventListener(e.AdEvent.Type.STARTED,function(){o(!0);let e=t.current,n=f.current;e&&n&&(_(e.volume),x(e.muted),n.setVolume(e.muted?0:e.volume))}),f.current.addEventListener(e.AdEvent.Type.PAUSED,function(){b(!0)}),f.current.addEventListener(e.AdEvent.Type.RESUMED,function(){b(!1)}),f.current.addEventListener(e.AdEvent.Type.LOADED,function(e){let t=e.getAd();t&&!t.isLinear()&&(o(!1),s.play())}),f.current.addEventListener(e.AdEvent.Type.STARTED,g,!1),f.current.addEventListener(e.AdEvent.Type.COMPLETE,function(){o(!1),m()},!1)},!1),d.current.addEventListener(e.AdErrorEvent.Type.AD_ERROR,function(e){f.current&&f.current.destroy(),a(!1)},!1);var u=new e.AdsRequest;function y(){if(!d.current)throw Error("adsLoader is missing");d.current.contentComplete()}function w(t){if(!i.current&&!h.current){i.current=!0,t.preventDefault(),c.current&&c.current.initialize();var n=s.clientWidth,r=s.clientHeight;try{if(!f.current)throw Error("adsManager is missing");f.current.init(n,r,e.ViewMode.NORMAL),f.current.start()}catch(e){s.play()}}}function S(){if(f.current){var t=s.clientWidth,n=s.clientHeight;f.current.resize(t,n,e.ViewMode.NORMAL)}}return u.adTagUrl=r,u.linearAdSlotWidth=s.clientWidth,u.linearAdSlotHeight=s.clientHeight,u.nonLinearAdSlotWidth=s.clientWidth,u.nonLinearAdSlotHeight=s.clientHeight/3,u.vastLoadTimeout=5e3,p.current=window.setTimeout(()=>{v(),h.current=!0},5e3),d.current.requestAds(u),s.addEventListener("play",w),s.addEventListener("ended",y),window.addEventListener("resize",S),()=>{s.removeEventListener("play",w),s.removeEventListener("ended",y),window.removeEventListener("resize",S),clearTimeout(p.current)}},[t,i,n,a]),{paused:y,muted:S,volume:w,duration:T,remainingTime:C,pause:()=>f.current?.pause(),play:()=>f.current?.resume(),setMuted:e=>{x(e),f.current?.setVolume(e?0:w),t.current&&(t.current.muted=e)},setVolume:e=>{f.current?.setVolume(e),_(e),t.current&&(t.current.volume=e)}}}(n,r,i,t);return a&&o?a(s):null};var Q=n(3263);let Z=e=>{let{onResize:t}=e;return!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=(0,E.useRef)(-1),{videoRef:n}=(0,A.yd)(),r=(0,Q.FC)(),[i,a]=(0,E.useState)({videoHeight:0,videoWidth:0});(0,E.useEffect)(()=>{if(e)return function o(){t.current=requestAnimationFrame(()=>{let t=n.current;if(null!==t){let n=t.videoHeight||r?.dimensions.height||0,o=t.videoWidth||r?.dimensions.width||0;(n!==i.videoHeight||o!==i.videoWidth)&&(a({videoHeight:n,videoWidth:o}),e&&e({videoHeight:n,videoWidth:o}))}o()})}(),()=>{cancelAnimationFrame(t.current)}},[e,n,i,r])}(t),null};var ee=n(2016),et=n(5825);let en=e=>{let{revalidate:t}=e,n=(0,E.useRef)(-1);return(0,E.useEffect)(()=>(t(),n.current=window.setInterval(t,2e3),()=>{clearInterval(n.current)}),[t]),null},er=(0,I.AH)`
  position: relative;
  padding-top: 56.25%;
  width: 100%;
`,ei=(0,I.AH)`
  color: white;
  font-weight: 500;
  text-shadow: 0px 0px 1px black, 0px 0px 2px black, 0px 0px 4px black,
    0px 0px 8px black;
  display: grid;
  place-items: center;
  position: absolute;
  inset: 0;
  background-color: black;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: 50% 50%;
`,ea=e=>{let{revalidate:t,poster:n}=e;return /*#__PURE__*/E.createElement("div",{className:er},/*#__PURE__*/E.createElement("div",{className:ei,style:n?{backgroundImage:`url(${n})`}:{}},"Stream has not started yet.",/*#__PURE__*/E.createElement(en,{revalidate:t})))};var eo=n(6298);let es=(0,I.AH)`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  height: 100%;
  width: 100%;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: 50% 50%;
  background-color: var(--letterbox-color);
`,el=e=>{let{poster:t}=e,{playbackStarted:n}=(0,A.yd)();return!t||n?null:/*#__PURE__*/E.createElement("div",{className:es,style:{backgroundImage:`url(${t})`}})};var eu=n(6620);let ec=e=>{let{provider:t}=e;return(0,E.useEffect)(()=>{let e=e=>{let{gapSize:t,currentTime:n}=e;if(t>4){let e=Error("Large Gap Error");(0,eu.V)(e,{extra:{gapSize:t,currentTime:n}})}};return t.player.addEventListener("largegap",e),()=>{t.player.removeEventListener("largegap",e)}},[t]),/*#__PURE__*/E.createElement(E.Fragment,null,null)},ed=window.fetch,ef=async function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=ed(...t);return ep.forEach(e=>e(r.then(e=>e.clone()),...t)),r},ep=[],eh=e=>{ep.push(e)};async function eg(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ef(...em.reduce((e,t)=>t(e),t))}window.fetch=eg;let em=[];var ev=n(9122),ey=/*#__PURE__*/n.n(ev);let eb="stream.estimatedBandwidth";function ew(e,t){let n=t.find(t=>{let{start:n,end:r}=t;return e>=n&&e<r});return n?n.end-e:0}function e_(e,t){if(!e)throw Error("Invariant failed")}class eS{constructor(e,t,n){e_("number"==typeof e,"halfLifeMs is not a number"),e_(!isNaN(e),"halfLifeMs can not be NaN"),e_("number"==typeof t,"initialValue is not a number"),e_(!isNaN(t),"initialValue can not be NaN"),void 0!==n&&e_("function"==typeof n.now,"clock.now is not a function"),this._decay=e,this._ewma=t||0,this._clock=n||Date,this._stamp="number"==typeof t?this._clock.now():0}insert(e){e_("number"==typeof e,"x is not a number"),e_(!isNaN(e),"x can not be NaN");var t=this._clock.now(),n=t-this._stamp;this._stamp=t;var r=Math.pow(2,-n/this._decay);this._ewma=r*this._ewma+(1-r)*e}reset(e){e_("number"==typeof e,"x is not a number"),e_(!isNaN(e),"x can not be NaN"),this._stamp=this._clock.now(),this._ewma=e}value(){return this._ewma}}class ex{bandwidthEstimate=new eE(0,2e3,5e3);effectiveBandwidthEstimate=new eE(0,2e3,5e3);latencyEstimate=new eE(0,2e3,5e3);lastSampled=performance.now();constructor(e){this.player=e}sampleBandwidth(e){this.lastSampled=performance.now(),this.bandwidthEstimate.sample(e),this.effectiveBandwidthEstimate.sample(this.getEffectiveBandwidthSample())}sampleLatency(e){this.lastSampled=performance.now(),this.latencyEstimate.sample(e),this.effectiveBandwidthEstimate.sample(this.getEffectiveBandwidthSample())}get estimatedNetworkLatencySeconds(){return Math.max(0,this.latencyEstimate.max()/1e3)}get estimatedBandwidth(){return this.bandwidthEstimate.min()}getEffectiveBandwidthSample(){let e=this.estimatedNetworkLatencySeconds,t=this.estimatedBandwidth,n=this.player.getStats().maxSegmentDuration;if(isNaN(n))return 0;let r=Math.max(n-e,0),i=r/n,a=t*i;return eu.A.setContext("bandwidthEstimateInfo",{latencySeconds:e,bandwidthEstimate:t,segmentSeconds:n,downloadSecondsPerSegment:r,activeDownloadRatio:i,effectiveBandwidth:a}),a}getEffectiveBandwidth(){return this.effectiveBandwidthEstimate.min()}getMsSinceLastSample(){return performance.now()-this.lastSampled}reset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.lastSampled=performance.now(),this.bandwidthEstimate.reset(e),this.latencyEstimate.reset(500),this.effectiveBandwidthEstimate.reset(e)}}class eE{constructor(e,t,n){this.fast=new eS(t,e),this.slow=new eS(n,e)}sample(e){this.fast.insert(e),this.slow.insert(e)}min(){return Math.min(this.fast.value(),this.slow.value())}max(){return Math.max(this.fast.value(),this.slow.value())}reset(e){this.fast.reset(e),this.slow.reset(e)}}let eT=!1;class ek{hasStartedPlaying=!1;variants_=[];enabled_=!1;switch_=null;config_={};mediaElement=null;observer=new ResizeObserver(()=>{this.config_.restrictToElementSize&&this.considerChangingVariant(!0)});watchForDPRChange=()=>{window.matchMedia(`(resolution: ${this.pixelRatio}dppx)`).addEventListener("change",()=>{this.variants_.length>0&&this.considerChangingVariant(!0),this.watchForDPRChange()},{once:!0})};lastSwitched=null;currentVariant=null;bytesMeasured=0;get pixelRatio(){return this.config_.ignoreDevicePixelRatio?1:window.devicePixelRatio??1}variantFitsLimits(e){let{video:t}=e;return!t||void 0===t.height||void 0===t.width||null===this.mediaElement||t.height<this.mediaElement.clientHeight*this.pixelRatio&&t.width<this.mediaElement.clientWidth*this.pixelRatio}fetchSpyHandler=async e=>{try{let t=performance.now(),n=await e,r=performance.now(),i=!!n.headers.get("content-type")?.includes("video"),a=Number(n.headers.get("content-length")??"0");if(!i||a<16e3)return;let o=r-t;if(o<20)return void this.considerChangingVariant();this.hasStartedPlaying&&this.effectiveBandwidthEstimator.sampleLatency(o),this.considerChangingVariant();let s=n.clone().body?.getReader(),l=0,u=0,c=performance.now();s&&new ReadableStream({start:e=>{let t=async()=>{let n;try{n=await s.read()}catch(e){return}n.done||(l+=n.value.byteLength);let r=performance.now(),i=r-c;if(i>500||i>0&&n.done){let e=l-u;this.effectiveBandwidthEstimator.sampleBandwidth(8*e/(i/1e3)),this.bytesMeasured+=e,u=l,c=r,this.considerChangingVariant()}n.done?e.close():(e.enqueue(n.value),t())};t()}})}catch(e){}};getSizeConstrainedVariants(){if(!this.config_.restrictToElementSize)return this.variants_;let e=!0;return this.variants_.filter((t,n)=>!!(0===n||this.variantFitsLimits(t))||!!e&&(e=!1,!0))}considerChangingVariant(e){if(!this.enabled_)return;let t=this.chooseVariant();if(this.currentVariant===t)return;if(e)return void this.switch(t);let n=null!==this.lastSwitched&&performance.now()-this.lastSwitched<(this.config_.switchInterval??0)*1e3;(this.getBufferLength()<6*this.getPlaybackRate()||!n)&&this.switch(t)}switch(e){this.switch_&&(this.switch_(e),this.currentVariant=e,this.lastSwitched=performance.now())}constructor(e,t){this.player=e,this.video=t,this.effectiveBandwidthEstimator=new ex(e),eh(this.fetchSpyHandler),this.watchForDPRChange(),t.addEventListener("playing",()=>{this.hasStartedPlaying=!0})}init(e){this.hasStartedPlaying=!1,this.switch_=e,this.effectiveBandwidthEstimator.reset(this.getBandwidthEstimate())}setVariants(e){this.variants_=[...e].sort((e,t)=>e.bandwidth-t.bandwidth)}configure(e){this.config_=e}enable(){this.enabled_=!0}disable(){this.currentVariant=null,this.enabled_=!1}stop(){this.enabled_=!1,this.switch_=null,this.variants_=[],this.config_={}}getPlaybackRate(){return this.video.playbackRate||1}getBufferLength(){let{currentTime:e}=this.video;return ew(e,this.player.getBufferedInfo().total)}getBandwidthEstimate(){eu.A.setContext("initialBandwidthEstimateInfo",{defaultBandwidthEstimate:this.config_.defaultBandwidthEstimate,bytesMeasured:this.bytesMeasured});let e="number"==typeof this.config_.defaultBandwidthEstimate&&this.bytesMeasured<128e3?this.config_.defaultBandwidthEstimate:this.effectiveBandwidthEstimator.getEffectiveBandwidth();return isNaN(e)&&!eT?((0,eu.V)(Error("NaN Bandiwdth Estimate")),eT=!0,0):e}chooseVariant(){let e=this.getSizeConstrainedVariants(),t=this.getBufferLength()>15,n=this.currentVariant?e.indexOf(this.currentVariant):-1,r=e[n+1];if(this.effectiveBandwidthEstimator.getMsSinceLastSample()>15e3&&t&&void 0!==r)return r;let{bandwidthDowngradeTarget:i=.95,bandwidthUpgradeTarget:a=.85}=this.config_,o=this.getBandwidthEstimate(),s=this.getPlaybackRate(),l=e.reduce((t,n,r)=>{let l=s*n.bandwidth,u=s*(e[r+1]||{bandwidth:1/0}).bandwidth;return o>=l/i&&o<=u/a?n:t}),u=this.currentVariant&&n>e.indexOf(l),c=this.currentVariant??e[0];return u&&t?c:l}segmentDownloaded(e,t){}release(){}playbackRateChanged(e){}setMediaElement(e){this.mediaElement&&this.observer.unobserve(this.mediaElement),this.mediaElement=e,this.observer.observe(e)}}let eC=(e,t)=>t.split(",").some(t=>t.split("=")[0]===e);function eA(e){return new Map(Object.entries(e).map(e=>{let[t,n]=e;return[n,t]}))}ey().polyfill.installAll(),ey().Player.isBrowserSupported();let eI=eA(ey().util.Error.Category),eM=eA(ey().util.Error.Severity),eR=eA(ey().util.Error.Code);class eP extends A.vb{abr=null;retriedAtLeastOnce=!1;loggedRetryError=!1;isInitializing=!0;requestFilter=(e,t)=>{if(t.uris.length<1)return;let n=new URL(t.uris[0]),r=n.searchParams.get("CMCD");r&&(this.isInitializing&&eC("bs",r)&&eC("su",r)?(n.searchParams.set("CMCD",r.split(",").filter(e=>"bs"!==e.split("=")[0]).join(",")),t.uris[0]=n.toString()):this.isInitializing&&!eC("su",r)&&(this.isInitializing=!1))};responseFilter=(e,t)=>{200===t.status&&(this.retriedAtLeastOnce=!1)};retryHandler=()=>{this.retriedAtLeastOnce&&!this.loggedRetryError&&((0,eu.V)(Error("Shaka retried more than once consecutively")),this.loggedRetryError=!0),this.retriedAtLeastOnce=!0};constructor(e){super(e),this.player=new(ey()).Player(this.video),this.player.getNetworkingEngine()?.addEventListener("retry",this.retryHandler),this.player.getNetworkingEngine()?.registerRequestFilter(this.requestFilter),this.player.getNetworkingEngine()?.registerResponseFilter(this.responseFilter),this.player.addEventListener("error",e=>{let t=e.detail;if(t instanceof ey().util.Error){if(t.severity===ey().util.Error.Severity.RECOVERABLE)return;let e=Error(`Shaka Error: ${eI.get(t.category)+"."+eR.get(t.code)}`),n={type:"Shaka error",Category:eI.get(t.category),Code:eR.get(t.code),Severity:eM.get(t.severity),data:JSON.stringify(t.data)};(0,eu.V)(e,{extra:n})}else if(e instanceof Error)return void(0,eu.V)(e,{extra:{type:"Shaka unhandled native error"}})}),this.initialBandwidthEstimate=function(){let e=navigator.connection?.downlink;if(void 0!==e)return 1e6*e;let t=null;try{t=localStorage.getItem(eb)}catch(e){}if(null!==t){let e=parseInt(t);if(!isNaN(e))return e}return 3e6}(),this.configureShaka({streaming:{useNativeHlsOnSafari:!1},abr:{defaultBandwidthEstimate:this.initialBandwidthEstimate,restrictToElementSize:!0},abrFactory:()=>(this.abr=new ek(this.player,e),this.abr)}),this.video.addEventListener("play",()=>{this.configureShaka({manifest:{dash:{ignoreMinBufferTime:void 0}},streaming:{rebufferingGoal:void 0,bufferingGoal:30}})}),this.video.addEventListener("suspend",()=>{this.isLive()&&this.seek(this.getLiveEdge())}),eh(this.fetchSpyHandler)}fetchSpyHandler=async(e,t)=>{try{let t=await e;t.headers.get("content-type")?.includes("mp4")&&(t.status>=500||408===t.status)&&this.player.isLive()&&ew(this.video.currentTime,this.player.getBufferedInfo().total)<1&&this.seek(this.player.seekRange().end)}catch(e){if(!(e instanceof Error)||"AbortError"!==e.name)throw e}};setSource(e){if(!this.video.autoplay)switch(this.video.getAttribute("preload")){case"metadata":this.configureShaka({manifest:{dash:{ignoreMinBufferTime:!0}},streaming:{rebufferingGoal:1,bufferingGoal:1}});break;case"none":this.configureShaka({manifest:{dash:{ignoreMinBufferTime:!0}},streaming:{rebufferingGoal:0,bufferingGoal:0}})}this.player.load(e).then(()=>{this.configureShaka({streaming:{retryParameters:{maxAttempts:10}},cmcd:{contentId:`Cloudflare Stream Player ${a.K2}`,useHeaders:!this.isLive(),enabled:!0}})}).catch(e=>{let[t,n]=e.data;switch(n){case 404:this.dispatchEvent("error",new A.ZF);break;case 401:case 403:this.dispatchEvent("error",new A.ec);break;default:this.dispatchEvent("error",new A.Bk)}})}configureCMCD(e){this.configureShaka({cmcd:{contentId:`Cloudflare Stream Player ${a.K2}`,useHeaders:!this.isLive(),enabled:"true"===new URLSearchParams(location.search).get("cmcd")||e}})}play(){return super.play()}configureShaka(e){this.player.configure(e)}setBitrateOption(e){let{track:t}=e,n=this.player.getVariantTracks().find(e=>e.active),r=this.player.getVariantTracks().find(e=>e.height===t.height&&e.language===n?.language);r&&(this.configureShaka({abr:{enabled:!1}}),this.player.selectVariantTrack(r,!0))}getActiveAudioTrack(){let e=this.player.getVariantTracks().find(e=>e.active);return e?{label:e.language,language:e.language}:null}setAudioTrack(e){if(this.getAudioTracks().length<2)return;let{enabled:t}=this.player.getConfiguration().abr;this.configureShaka({abr:{enabled:!1}}),this.player.selectAudioLanguage(ey().util.LanguageUtils.normalize(e?.language??"original")),this.configureShaka({abr:{enabled:t}})}getAudioTracks(){return this.player.getAudioLanguages().map(e=>({language:e,label:e}))}setBitrateAuto(){this.configureShaka({abr:{enabled:!0}})}getBitrateOptions(){let e=this.player.getVariantTracks(),[t]=e;return e.filter(e=>e.language===t.language).map(e=>({constrainedDimension:(e.height??0)>(e.width??0)?e.width??0:e.height??0,bitrate:e.bandwidth,track:e}))}getTextTracks(){return this.player.getTextTracks().map(e=>({label:e.label||e.language||"",language:e.language,track:e}))}setTextTrack(e){null===e?this.player.setTextTrackVisibility(!1):(this.player.selectTextTrack(e.track),this.player.setTextTrackVisibility(!0))}setLogLevel(e){let t=ey();t.log&&t.log.setLevel(t.log.Level[e])}isLive(){return this.player.isLive()}getLiveEdge(){return this.player.seekRange().end}seek(e){void 0!==e&&(this.video.currentTime=isNaN(this.video.duration)?e:Math.min(e,this.video.duration-.1))}destroy(){var e;e=this.fetchSpyHandler,ep=ep.filter(t=>t!==e),this.player.destroy()}getDuration(){return this.player.seekRange().end}getDebugInfo(){let{estimatedBandwidth:e,...t}=this.player.getStats();return{...t,estimatedBandwidth:this.abr?.effectiveBandwidthEstimator.estimatedBandwidth,estimatedEffectiveBandwidth:e,estimatedNetworkLatency:this.abr?.effectiveBandwidthEstimator.estimatedNetworkLatencySeconds,bufferedInfo:this.player.getBufferedInfo()}}}function eD(e){return e.current instanceof eP}class eO extends A.vb{constructor(e){super(e),this.video=e,this.stream=new MediaStream,this.peerConnection=new RTCPeerConnection({iceServers:[{urls:"stun:stun.cloudflare.com:3478"}],bundlePolicy:"max-bundle"}),this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"}),this.peerConnection.ontrack=e=>{let t=e.track,n=this.stream.getTracks(),r=n.some(e=>"video"===e.kind),i=n.some(e=>"audio"===e.kind);if("video"===t.kind&&!r||"audio"===t.kind&&!i)return void this.stream.addTrack(t)},this.peerConnection.addEventListener("iceconnectionstatechange",e=>{"failed"===this.peerConnection.iceConnectionState&&this.dispatchEvent("error",new A.tA),"connected"===this.peerConnection.iceConnectionState&&(this.video.srcObject||(this.video.srcObject=this.stream))})}destroy(){this.peerConnection.close()}setSource(e){this.peerConnection.addEventListener("negotiationneeded",async t=>{let n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n);let r=await new Promise(e=>{setTimeout(()=>{e(this.peerConnection.localDescription)},1e3),this.peerConnection.onicegatheringstatechange=t=>"complete"===this.peerConnection.iceGatheringState&&e(this.peerConnection.localDescription)});if(!r)throw Error("failed to gather ICE candidates for offer");for(;"closed"!==this.peerConnection.connectionState;){let t=await fetch(e,{method:"POST",mode:"cors",headers:{"content-type":"application/sdp"},body:r.sdp});if(201===t.status){let e=await t.text();return await this.peerConnection.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:e})),t.headers.get("Location")}console.log(await t.text()),await new Promise(e=>setTimeout(e,5e3))}})}isLive(){return"connected"===this.peerConnection.iceConnectionState}setAudioTrack(e){}}let eN=(0,I.AH)`
  display: flex;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  justify-content: center;
  align-items: center;
`,eL=(0,I.i7)`
  0% {
    transform: rotate(0deg);
  }

  75% {
    transform: rotate(720deg);
  }

  100% {
    transform: rotate(720deg);
  }
`,ej=(0,I.AH)`
  border: 0.25em solid #fff;
  border-left-color: transparent;
  border-right-color: transparent;
  height: 2em;
  width: 2em;
  border-radius: 4em;
  animation: ${eL} 2s ease-in-out infinite;
`,eU=()=>/*#__PURE__*/E.createElement("div",{className:eN},/*#__PURE__*/E.createElement("span",{className:ej,"aria-label":"Buffering",role:"img"}));var eF=n(6102),eB=n(62),ez=n(3690),e$=n(1651);let eH=/*#__PURE__*/(0,E.lazy)(()=>new Promise(()=>{}));function eV(e){let{value:t,children:n}=e,[r,i]=(0,E.useState)(()=>t);return(0,E.useEffect)(()=>{let e=!0;return t instanceof Promise?t.then(t=>{e&&i(()=>t)}):i(()=>t),()=>{e=!1}},[t]),r instanceof Promise?/*#__PURE__*/E.createElement(eH,null):/*#__PURE__*/E.createElement(E.Fragment,null,n(r))}var eq=n(4032);let eW=/*#__PURE__*/(0,E.lazy)(()=>Promise.all([n.e("953"),n.e("782")]).then(n.bind(n,997))),eK=(0,I.AH)`
  position: absolute;
  top: 0;
  left: 0;
  padding: 0.5rem;
  background: rgb(0 0 0 / 0.8);
  backdrop-filter: blur(8px);
  width: 100%;
  max-height: calc(100% - 8rem);
  overflow-y: auto;
  z-index: 1;
  font-size: 0.75rem;
  line-height: 1;
  font-family: monospace;

  p {
    margin: 0;
  }
`,eG=(0,I.AH)`
  display: flex;
  margin-bottom: 0.5rem;
  justify-content: space-between;
  align-items: center;

  h5 {
    margin: 0;
  }

  button {
    padding: 0.15rem;
    color: black;
    font-size: 0.75rem;
  }
`,eX=e=>{let{videoId:t,loadingHeight:n,bandwidth:r,effectiveBandwidth:i,networkLatency:o,initialBandwidthEstimate:s,streamBandwidth:l,switchHistory:u,ttfbEstimate:c,drift:d,timeBehindLive:f,networkData:p,onDebugEnabledChange:h}=e,{currentTime:g,playbackRate:m,videoRef:v,bitrateOptions:y,bufferedTimeRanges:b}=(0,A.yd)(),[w,_]=(0,E.useState)(!1),[S,x]=(0,E.useState)(!1),T=(0,E.useRef)(-1),k=(0,E.useRef)(null),C=ew(g,b),I=new Date().toUTCString(),M=v.current?.videoHeight;(0,E.useEffect)(()=>(T.current=window.setTimeout(()=>{x(!1)},1e3),()=>{clearTimeout(T.current)}),[S]);let{waitingCount:R,waitingSeconds:P}=function(e){let[t,n]=(0,E.useState)(!1),[r,i]=(0,E.useState)(0),[a,o]=function(e){let[t,n]=(0,E.useState)(0),r=(0,E.useCallback)(()=>{n(0)},[]);return(0,E.useEffect)(()=>{if(e){let e=Date.now(),t=setInterval(()=>{let t=Date.now();n(n=>n+t-e),e=t},250);return()=>{clearInterval(t),n(t=>t+Date.now()-e)}}},[e]),[t/1e3,r]}(t),{videoRef:s}=(0,A.yd)();return(0,E.useEffect)(()=>{let{current:e}=s;if(!e)return;let t=()=>{n(!0)},r=()=>{n(!1)};return e.addEventListener("waiting",t),e.addEventListener("playing",r),()=>{e.removeEventListener("waiting",t),e.removeEventListener("playing",r)}},[s]),(0,E.useEffect)(()=>{t&&i(e=>e+1)},[t]),(0,E.useEffect)(()=>{i(0),o()},[e]),{waitingCount:r,waitingSeconds:a}}(t);return((0,eq.fy)({keyName:"d",shiftKey:!0},()=>{_(!w)}),(0,E.useEffect)(()=>{h&&h(w)},[w]),w)?/*#__PURE__*/E.createElement("div",{className:eK},/*#__PURE__*/E.createElement("div",{className:eG},/*#__PURE__*/E.createElement("p",null,"Debug Info (Shift+D to disable)"),/*#__PURE__*/E.createElement("button",{onClick:()=>{x(!0),k.current&&navigator.clipboard.writeText(JSON.stringify({switchHistory:u,effectiveBandwidth:i,version:a.K2,now:I,videoId:t,userAgent:navigator.userAgent,initialBandwidthEstimate:s,currentHeight:M,bufferLength:C,waitingCount:R,waitingSeconds:P,currentTime:g,streamBandwidth:l,bitrateOptions:y,loadingHeight:n},null,2))}},S?"Copied!":"Click to copy")),p&&/*#__PURE__*/E.createElement(eW,{data:p}),/*#__PURE__*/E.createElement("div",{ref:k},/*#__PURE__*/E.createElement(E.Fragment,null,/*#__PURE__*/E.createElement(eY,{label:"Current Time",value:I}),/*#__PURE__*/E.createElement(eY,{label:"Player version",value:a.K2})),/*#__PURE__*/E.createElement(eY,{label:"Video ID",value:t}),/*#__PURE__*/E.createElement(eY,{label:"UA",value:navigator.userAgent}),/*#__PURE__*/E.createElement(eY,{label:"Current Screen Quality",value:M}),/*#__PURE__*/E.createElement(eY,{label:"Current time",value:g.toFixed(2)}),/*#__PURE__*/E.createElement(eY,{label:"Playback Rate",value:m}),/*#__PURE__*/E.createElement(eY,{label:"Buffer time",value:C?.toFixed(2)}),/*#__PURE__*/E.createElement(eY,{label:"Waiting Count",value:R}),/*#__PURE__*/E.createElement(eY,{label:"Waiting Seconds",value:P.toFixed(2)}),/*#__PURE__*/E.createElement(eY,{label:"Initial Estimated Bandwidth",value:s?`${(s/1e6).toFixed(2)}Mbps`:null}),/*#__PURE__*/E.createElement(eY,{label:"Current Network latency",value:o}),/*#__PURE__*/E.createElement(eY,{label:"Current Bandwidth",value:r}),/*#__PURE__*/E.createElement(eY,{label:"Current Effective Bandwidth",value:i?`${(i/1e6).toFixed(2)}Mbps`:null}),/*#__PURE__*/E.createElement(eY,{label:"Current Latency Estimate",value:c?`${Math.round(c)}ms`:void 0}),/*#__PURE__*/E.createElement(eY,{label:"Drift",value:d}),/*#__PURE__*/E.createElement(eY,{label:"Time Behind Live",value:void 0!==f?f.toFixed(2)+"s":void 0}),/*#__PURE__*/E.createElement(eY,{label:"Current Loading Quality",value:n}),/*#__PURE__*/E.createElement(eY,{label:"Current Loading Bandwidth Required",value:void 0!==l?`${(l/1e6).toFixed(2)}Mbps`:null}),/*#__PURE__*/E.createElement("p",null,"Available Qualities:"),y.map((e,t)=>{let{constrainedDimension:n,bitrate:r}=e;return /*#__PURE__*/E.createElement("p",{key:`${n}/${r}/${t}`},"Height: ",n," | Required Bandwidth:"," ",(r/1e6).toFixed(2),"Mbps")}),u&&/*#__PURE__*/E.createElement(E.Fragment,null,/*#__PURE__*/E.createElement("p",null,"Quality Switch History:"),u.filter(e=>{let{type:t}=e;return"variant"===t}).map(e=>{let{timestamp:t,bandwidth:n,fromAdaptation:r}=e,i=y.find(e=>e.bitrate===n);return /*#__PURE__*/E.createElement("p",{key:t},"time: ",new Date(1e3*t).toISOString()," | quality:"," ",i?.constrainedDimension??"unknown rendition height"," | bandwidthRequired:"," ",((n??0)/1e6).toFixed(2),"Mbps | autoSwitched: ",r.toString())})))):null};function eY(e){let{label:t,value:n}=e;return null==n?null:/*#__PURE__*/E.createElement("p",null,t,": ",n)}let eJ=e=>{let{hlsJsProvider:t}=e,{videoId:n}=(0,et.p)(),{drift:r,config:i,bandwidthEstimate:a,ttfbEstimate:o,levels:s,currentLevel:l,latency:u}=t.hls;return /*#__PURE__*/E.createElement(eX,{videoId:n,effectiveBandwidth:a,initialBandwidthEstimate:i.abrEwmaDefaultEstimate,loadingHeight:s[l]?.height,streamBandwidth:s[l]?.bitrate,drift:r??void 0,ttfbEstimate:o,timeBehindLive:u,onDebugEnabledChange:e=>{t.loggingEnabled=e}})},eQ=e=>{let{shakaProvider:t}=e,{videoId:n}=(0,et.p)(),r=t.getDebugInfo(),i=function(e){let{effectiveBitsPerSecond:t,measuredBitsPerSecond:n,maxSegmentDuration:r,measuredNetworkLatency:i}=e,[a,o]=(0,E.useState)([]);return(0,E.useEffect)(()=>{void 0!==n&&void 0!==i&&o(e=>{let[a,...o]=e;return[...e.length>200?o:e,{effectiveMegaBitsPerSecond:Math.round(t/1e4)/100,measuredMegaBitsPerSecond:Math.round(n/1e4)/100,downloadTimePerSegment:Math.round(Math.max(0,r-i)/r*100),timestamp:new Date().toISOString()}]})},[t,n,r,i]),a}({effectiveBitsPerSecond:r.estimatedEffectiveBandwidth,maxSegmentDuration:r.maxSegmentDuration,measuredBitsPerSecond:r.estimatedBandwidth,measuredNetworkLatency:r.estimatedNetworkLatency});return /*#__PURE__*/E.createElement(eX,{videoId:n,effectiveBandwidth:r.estimatedEffectiveBandwidth,networkLatency:r.estimatedNetworkLatency,bandwidth:r.estimatedBandwidth,initialBandwidthEstimate:t.initialBandwidthEstimate,loadingHeight:r.height,streamBandwidth:r.streamBandwidth,switchHistory:r.switchHistory,networkData:i})};function eZ(){let{videoRef:e,liveEdge:t,seek:n}=(0,A.yd)(),r=(0,E.useRef)(t);return r.current=t,(0,E.useEffect)(()=>{let t=e.current;if(!t)return;let i=()=>{t.addEventListener("play",a)},a=()=>{r.current&&n(r.current)};return t.addEventListener("playing",i,{once:!0}),()=>{t.removeEventListener("playing",i),t.removeEventListener("play",a)}},[e,n]),null}function e0(){return(e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let e1=/*#__PURE__*/(0,E.lazy)(()=>Promise.all([n.e("10"),n.e("925")]).then(n.bind(n,6028))),e2=new URL(window.location.href).searchParams.get("forceProvider"),e3=(0,I.AH)`
  display: flex;
  position: relative;
  justify-content: center;
  align-items: center;
  height: 100%;
  // create stacking context here to contain any children stacking
  // contexts and prevent them from rendering on top of reach-portal's
  z-index: 0;
  /* 
     Prevent elements that may overflow outside the player's
     container from doing so.
   */
  overflow: hidden;
  background-color: var(--letterbox-color);
`,e4=(0,I.AH)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
`,e5=(0,I.AH)`
  width: 100%;
  height: 100%;
  // This is important to prevent painting issues in iOS Safari
  // with elements that are overlayed on top of the video element
  // https://stackoverflow.com/questions/3683211/ipad-safari-mobile-seems-to-ignore-z-indexing-position-for-html5-video-elements/4895542
  transform-style: preserve-3d;
`;function e6(e){if(null===e.current)throw Error("PlaybackProvider missing");return e.current}let e8=!!window.MediaSource,e9=/*#__PURE__*/(0,E.forwardRef)((e,t)=>{var a;let{adUrl:o,dvrEnabled:s,src:l,forceFlavor:u,metrics:c,muted:p,volume:v,autoPlay:y,letterboxColor:b,debug:w,cmcd:_,loop:S,defaultTextTrack:x,textTrackLabels:T,playbackRate:k,poster:C,preload:M,logo:R,title:P,channelLink:O,shareLink:N,hideUiAfterInactiveMs:L,onMutedChange:U,playsInline:F,controls:B,primaryColor:z,staging:$,customerDomainPrefix:H,onAbort:V,onAdStart:q,onAdEnd:W,onAdTimeout:K,onAdManagerLoaded:G,onCanPlay:Y,onCanPlayThrough:J,onDurationChange:er,onEnded:ei,onError:es,onLoadedData:eu,onLoadedMetadata:ed,onLoadStart:ef,onPause:ep,onPlay:eh,onPlaying:eg,onProgress:ev,onRateChange:ey,onResize:ew,onSeeked:e_,onSeeking:eS,onStalled:ex,onSuspend:eE,onTimeUpdate:eT,onVolumeChange:ek,onWaiting:eC}=e;a=void 0!==b&&CSS.supports("color",b)?b:"black",(0,E.useEffect)(()=>{(0,I.HO)`

  * {
    box-sizing: inherit;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0); 
    -moz-tap-highlight-color: rgba(0, 0, 0, 0);
  }

  html {
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-size: 16px;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Helvetica, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif;
    color: #fff;
    --letterbox-color: ${a};
    background: var(--letterbox-color);
  }

  :-webkit-full-screen {
    // safari's default is #fff and the background becomes visible
    // whenever the video needs letter/pillar boxing
    background: var(--letterbox-color);
  }

  // UI scaling is managed by setting font-size at different 
  // breakpoints and using em units throughout 
  @media (min-width: 1000px) {
    html {
      font-size: 17px;
    }
  }

  @media (min-width: 1200px) {
    html {
      font-size: 18px;
    }
  }

  @media (min-width: 1400px) {
    html {
      font-size: 22px;
    }
  }

  @media (max-width: 500px) {
    html {
      font-size: 15px;
    }
  }

  @media (max-width: 450px) {
    html {
      font-size: 14px;
    }
  }

  @media (max-width: 400px) {
    html {
      font-size: 13px;
    }
  }

  button, input {
    color: inherit;
    font: inherit;
  }

  button {
    padding: 0.3125em;
  }

  button, input[type=range] {
    cursor: pointer;
  }

  *:focus-visible {
    outline-color: white;
  }
`},[]);let{lifecycle:eA,revalidate:eI,videoKey:eM}=function(e){let{src:t,staging:n,customerDomainPrefix:r,dvrEnabled:i}=e,{resourceUrl:a}=(0,ez.H)(t,n,r),[o,s]=(0,E.useState)(),l=function(e){let{videoUID:t,isInput:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[r,i]=(0,E.useState)(),[a,o]=(0,E.useState)();return(0,E.useEffect)(()=>{void 0!==t&&void 0===r&&i(t)},[t,r]),(0,E.useEffect)(()=>{!n||e?o(void 0):void 0!==r&&t!==r&&null!==t&&o(Math.random().toString())},[t,r,n,e]),a}(i,o),u=(0,E.useRef)(-1),c=(0,E.useCallback)(()=>{let e=new AbortController,t=()=>e.abort();return clearTimeout(u.current),u.current=window.setTimeout(()=>{t(),c()},5e3),fetch(`${a}/lifecycle`,{signal:e.signal}).then(e=>200===e.status?e.json():void 0).then(s).catch(e$.M).finally(()=>clearTimeout(u.current)),t},[a]);return(0,E.useEffect)(()=>{c()},[c]),{lifecycle:o,revalidate:c,videoKey:l}}({src:l,staging:$,customerDomainPrefix:H,dvrEnabled:s}),eR=(0,ee.ZC)(eA?.live??!1);(0,E.useEffect)(()=>{!(s&&eA?.unstable?.ltxEnabled)&&eR&&!eA?.live&&ei&&ei()},[s,eA?.unstable?.ltxEnabled,eR,eA?.live,ei]);let eN=(0,E.useMemo)(()=>!(eA?.chunked??!0),[eA?.chunked]),eL=(0,E.useMemo)(()=>(function(e){let{src:t,dvrEnabled:n,staging:a,customerDomainPrefix:o,forceFlavor:s}=e,{resourceUrl:l}=(0,i.u)(t,a,o),u=new URLSearchParams;return window.parent&&window!==window.parent&&u.set("parentOrigin",(0,r.Bq)()),"llhls"===s&&u.set("protocol","llhlsbeta"),n&&u.set("dvrEnabled","true"),[{flavor:"whep",src:`${l}/webRTC/play`},{flavor:"hls",src:`${l}/manifest/video.m3u8?${u}`,type:"application/x-mpegurl"},{flavor:"llhls",src:`${l}/manifest/video.m3u8?${u}`,type:"application/x-mpegurl"},{flavor:"dash",src:`${l}/manifest/video.mpd?${u}`,type:"application/dash+xml"}].filter(e=>!s||e.flavor===s)})({src:l,staging:$,customerDomainPrefix:H,forceFlavor:u,dvrEnabled:s}),[l,$,H,u,s]),[ej]=(0,E.useMemo)(()=>{var e;let t=e8?[u||"dash"]:["hls"];return eN&&(t=["whep"]),s&&(t=["hls"]),"llhls"===u&&(t=["llhls"]),[...eL].sort((e=t,(t,n)=>{let{flavor:r}=t,{flavor:i}=n;return e.includes(r)?e.includes(i)?e.indexOf(r)-e.indexOf(i):-1:+!!e.includes(i)}))},[eL,eN,l,u,s]),eH=(0,E.useMemo)(()=>eN?eO:(s||"llhls"===u||"hlsjs"===e2)&&e8?Promise.all([n.e("130"),n.e("385")]).then(n.bind(n,640)).then(e=>{let{HlsProvider:t}=e;return t}):e8?eP:A.f4,[eN,e8,s]),{isVideoMetadataLoaded:eq,onVideoMetadataLoaded:eW}=function(e){let[t,n]=(0,E.useState)(!1);return(0,E.useEffect)(()=>{n(!1)},[e]),{isVideoMetadataLoaded:t,onVideoMetadataLoaded:(0,E.useCallback)(()=>{n(!0)},[])}}(l),eK=(0,E.useRef)(null),eG=function(e){let[t,n]=(0,E.useState)(!1),r=(0,E.useRef)(-1);return(0,E.useEffect)(()=>{if(t)return;let i=()=>{e.current?n(!0):r.current=window.setTimeout(i,0)};return i(),()=>{clearTimeout(r.current)}},[t,e]),t}(eK);(0,E.useImperativeHandle)(t,()=>({play:()=>e6(eK).play(),pause:()=>e6(eK).pause(),destroy:()=>e6(eK).destroy(),seek:e=>e6(eK).seek(e),setSource:e=>e6(eK).setSource(e),ready:eG}));let eX=(0,E.useRef)(null),eY=(0,E.useRef)(document.body);(0,E.useEffect)(function(){var e,t,n;let r,i,a,o,s,l=(0,D.t)(eX.current);if(!eD(eK))return;eK.current.configureCMCD(!0);let u=[],c=(t=l,n=e=>{let{initialBuffer:t,waitingTime:n}=e;u.push({type:t?"-cf.ibsd":"-cf.bsd",value:n})},r=0,i=0,a=!1,o=()=>{if(0!==r)return;0===t.buffered.length&&0===t.played.length&&(a=!0);let e=!1,{buffered:n,currentTime:i}=t;for(let t=0;t<n.length;t++)i>n.start(t)&&i<n.end(t)&&(e=!0);e||(r=Date.now())},s=()=>{if(0!==r){if(0===i)return void i++;n({waitingTime:Date.now()-r,initialBuffer:a}),r=0,i=0,a=!1}},t.addEventListener("waiting",o),t.addEventListener("timeupdate",s),()=>{t.removeEventListener("waiting",o),t.removeEventListener("timeupdate",s)}),d=(e=e=>{let[t,n]=e;if(n?.headers instanceof Headers){if(!n.headers.has("CMCD-Session")||0===u.length)return[t,n];let e=n.headers.get("CMCD-Status");n.headers.set("CMCD-Status",[e,u.map(e=>{let{type:t,value:n}=e;return`${t}=${n}`})].filter(Boolean).join(",")),u=[]}return[t,n]},em.push(e),()=>{em=em.filter(t=>t!==e)});return()=>{c(),d()}},[_]),(0,E.useEffect)(()=>{let e=(0,D.t)(eX.current),t=()=>{if(!eD(eK))return;let{streamBandwidth:e,height:t}=eK.current.player.getStats();c.pushEvent(new h(e,t,new Date().getTime()))},n=()=>{if(!eD(eK))return;let{estimatedBandwidth:e}=eK.current.player.getStats();try{localStorage.setItem(eb,e.toString())}catch(e){}},r=()=>{eD(eK)&&(eK.current.setLogLevel(w?"DEBUG":"NONE"),eK.current.player.addEventListener("adaptation",t))};return e.addEventListener("loadedmetadata",r),e.addEventListener("progress",n),()=>{eD(eK)&&(eK.current.player.removeEventListener("adaptation",t),e.removeEventListener("loadedmetadata",r),e.removeEventListener("progress",n))}},[eK,eX,c,w]),(0,E.useEffect)(()=>{var e,t;let n,r,i,a,o,s=eX.current;if(!s)throw Error("video element is missing");let l=0,u={play:()=>{c.pushEvent(new d)},pause:()=>c.pushEvent(new f),ended:()=>c.pushEvent(new f),waiting:()=>{l||(l=new Date().getTime())},canplay:()=>{if(!l)return;let e=new Date().getTime();c.pushEvent(new g(l,e-l,e)),l=0}};Object.keys(u).forEach(e=>{let t=u[e];s.addEventListener(e,t)});let p=(e=s,t=(e,t)=>{c.pushEvent(new m(Math.floor(e),Math.floor(t),new Date().getTime()))},n=0,r=()=>{if(e.seeking)return a();n=e.currentTime},i=()=>{n=e.currentTime,e.addEventListener("timeupdate",r)},a=()=>{e.removeEventListener("timeupdate",r)},o=()=>{n!==e.currentTime&&t(n,e.currentTime),i()},e.addEventListener("seeking",a),e.addEventListener("seeked",o),i(),()=>{e.removeEventListener("seeking",a),e.removeEventListener("seeked",o),a()});return()=>{p(),Object.keys(u).forEach(e=>{let t=u[e];s.removeEventListener(e,t)})}},[eX,c]);let e9=function(){let[e,t]=(0,E.useState)(!!eB.A.fullscreenElement);return(0,E.useEffect)(()=>{let e=()=>{t(!!eB.A.fullscreenElement)};return eB.A.addEventListener("fullscreenchange",e),()=>{eB.A.removeEventListener("fullscreenchange",e)}},[]),e}(),[e7,te]=(0,E.useState)(0),tt=(0,E.useMemo)(()=>`${eM}-${e7}`,[eM,e7]),tn=(0,E.useCallback)(e=>{e instanceof A.tA&&te(e7+1)},[te,e7]);return((0,E.useEffect)(()=>{if(eK.current)return e6(eK).addEventListener("error",tn),()=>e6(eK).removeEventListener("error",tn)},[eK.current,tn]),(0,E.useEffect)(()=>{let e=eX.current;e&&eH===A.f4&&e.addEventListener("playing",()=>{let t=e.playbackRate;e.addEventListener("ratechange",n=>{n.stopImmediatePropagation(),e.addEventListener("ratechange",e=>{e.stopImmediatePropagation()},{capture:!0,once:!0}),e.playbackRate=t},{capture:!0,once:!0}),e.playbackRate=.97},{once:!0})},[eH]),eA?.isInput!==!0||s&&eA.unstable?.ltxEnabled&&eq||eA.live)?/*#__PURE__*/E.createElement(et.X,{src:l,metrics:c,staging:$,customerDomainPrefix:H,flavor:ej.flavor},/*#__PURE__*/E.createElement(Q.nK,{textTrackLabels:T},/*#__PURE__*/E.createElement(eF.QB,{defaultLanguageCode:x},/*#__PURE__*/E.createElement("div",{key:tt,style:{"--primary-color":z&&CSS.supports("color",z)?z:"white"},className:(0,j.x)(e3,{[e4]:e9})},/*#__PURE__*/E.createElement("video",e0({ref:eX,poster:C,className:e5,loop:S,playsInline:!0,preload:M,muted:p},{onAbort:V,onCanPlay:Y,onCanPlayThrough:J,onDurationChange:er,onEnded:ei,onError:es,onLoadedData:eu,onLoadedMetadata:e=>{ed&&ed(e),eW()},onLoadStart:ef,onPause:ep,onPlay:eh,onPlaying:eg,onProgress:ev,onSeeked:e_,onSeeking:eS,onStalled:ex,onSuspend:eE,onTimeUpdate:eT,onWaiting:eC,onRateChange:e=>{ey&&ey(e.currentTarget.playbackRate)},onVolumeChange:e=>{U&&e.currentTarget.muted!==p&&U(e.currentTarget.muted),ek&&ek(e.currentTarget.volume)}})),/*#__PURE__*/E.createElement(X,{adUrl:o,videoRef:eX,onAdStart:q,onAdEnd:W,onAdTimeout:K,onAdManagerLoaded:G},e=>{let{waitingOnAdManager:t,adPlaying:n}=e;return t||!eH?/*#__PURE__*/E.createElement(eU,null):/*#__PURE__*/E.createElement(E.Suspense,{fallback:/*#__PURE__*/E.createElement(eU,null)},/*#__PURE__*/E.createElement(eV,{value:eH},e=>/*#__PURE__*/E.createElement(eo.Dm,{source:ej,playbackProviderRef:eK,key:e.name},/*#__PURE__*/E.createElement(A.L9,{videoRef:eX,muted:p,volume:v,src:ej.src,playbackProvider:e,autoPlay:y,playbackRate:k,playsInline:F,onMutedChange:U,onVolumeChange:ek,onPlaybackRateChange:ey,playbackProviderRef:eK,fullscreenContainerRef:eY,onError:()=>{es&&es()},resets:e7},e=>{let{waiting:t,canPlay:r}=e;return /*#__PURE__*/E.createElement(E.Fragment,null,/*#__PURE__*/E.createElement(el,{poster:C}),B&&!n&&/*#__PURE__*/E.createElement(e1,{hideUiAfterInactiveMs:L,source:ej,details:{title:P,shareLink:N,channelLink:O,logo:R},dvrEnabled:s}),/*#__PURE__*/E.createElement(eF.y8,null),eA?.live&&!s&&/*#__PURE__*/E.createElement(eZ,null),/*#__PURE__*/E.createElement(Z,{onResize:ew}),eA?.isInput&&/*#__PURE__*/E.createElement(en,{revalidate:eI}),B&&(t||y&&!r)&&/*#__PURE__*/E.createElement(eU,null),eH!==eO&&/*#__PURE__*/E.createElement(eo.ai,null),eK.current instanceof eP&&/*#__PURE__*/E.createElement(E.Fragment,null,/*#__PURE__*/E.createElement(ec,{provider:eK.current}),/*#__PURE__*/E.createElement(eQ,{shakaProvider:eK.current})),eK.current?.hls&&/*#__PURE__*/E.createElement(eJ,{hlsJsProvider:eK.current}))}))))}))))):/*#__PURE__*/E.createElement(ea,{poster:C,revalidate:eI})});class e7{setState=e=>{this.state={...this.state,...e},this.render()};play=async()=>{if(await this.waitForAdsManager(),!this.player)throw Error("player missing");return this.player.play()};pause=()=>this.player&&this.player.pause();seek=e=>this.player&&this.player.seek(e);updateSrc=e=>{this.setState({src:e})};destroy=()=>{this.player?.destroy()};resolveProviderReady=null;async waitForPlaybackProvider(){return new Promise(e=>this.resolveProviderReady=e)}async waitForAdsManager(){return this.config.adURL&&await new Promise(e=>{this.setState({onAdsManagerLoaded:e})}),this}player=null;constructor(e,t,n){this.config=n,this.metrics=t;const{muted:r,controls:i,autoplay:a,poster:o,preload:s,defaultTextTrack:l,letterboxColor:u,primaryColor:c,title:d,logo:f,channelLink:p,shareLink:h}=n;this.state={src:e,muted:r,controls:i,preload:s??"none",autoplay:a,playbackRate:1,volume:1,letterboxColor:u??void 0,primaryColor:c??void 0,poster:o,videoHeight:0,videoWidth:0,seeking:!1,defaultTextTrack:l??void 0,title:d??"",logo:f??"",channelLink:p??"",shareLink:h??""},this.render()}render(){let{eventCb:e}=this.config;T.render(/*#__PURE__*/E.createElement(e9,{ref:e=>{this.player=e,null!==e&&e.ready&&this.resolveProviderReady&&(this.resolveProviderReady(),this.resolveProviderReady=null)},adUrl:this.config.adURL,dvrEnabled:this.config.dvrEnabled,poster:this.state.poster,src:this.state.src,muted:this.state.muted,preload:this.state.preload,playbackRate:this.state.playbackRate,volume:this.state.volume,defaultTextTrack:this.state.defaultTextTrack,textTrackLabels:this.state.textTrackLabels,autoPlay:this.state.autoplay,loop:this.state.loop,controls:this.state.controls,primaryColor:this.state.primaryColor,letterboxColor:this.state.letterboxColor,forceFlavor:this.config.forceFlavor,title:this.state.title,logo:this.state.logo,channelLink:this.state.channelLink,shareLink:this.state.shareLink,onAbort:()=>e("abort"),onAdStart:()=>e((0,k.f0)("adstart")),onAdEnd:()=>e((0,k.f0)("adend")),onAdTimeout:()=>e((0,k.f0)("adtimeout")),onAdManagerLoaded:this.state.onAdsManagerLoaded,onCanPlay:()=>e("canplay"),onCanPlayThrough:()=>e("canplaythrough"),onDurationChange:t=>{this.setState({duration:t.currentTarget.duration}),e("durationchange")},onEnded:()=>e("ended"),onError:()=>e("error"),onLoadedData:()=>e("loadeddata"),onLoadedMetadata:()=>e("loadedmetadata"),onLoadStart:()=>e("loadstart"),onPause:()=>e("pause"),onPlay:()=>e("play"),onPlaying:()=>e("playing"),onProgress:t=>{this.setState({buffered:t.currentTarget.buffered}),e("progress")},onRateChange:t=>{this.setState({playbackRate:t}),e("ratechange")},onResize:e=>{this.setState(e),this.config.eventCb("resize")},onSeeked:t=>{let{seeking:n}=t.currentTarget;this.setState({seeking:n}),e("seeked")},onSeeking:t=>{let{seeking:n}=t.currentTarget;this.setState({seeking:n}),e("seeking")},onStalled:()=>e("stalled"),onSuspend:()=>e("suspend"),onTimeUpdate:t=>{let{played:n,currentTime:r,seeking:i}=t.currentTarget;this.setState({played:n,currentTime:r,seeking:i}),e("timeupdate")},onWaiting:()=>e("waiting"),debug:this.config.debugGlobals,onMutedChange:e=>{this.setState({muted:e})},onVolumeChange:t=>{this.setState({volume:t}),e("volumechange")},metrics:this.metrics,staging:this.config.streamElement.hasAttribute("staging"),cmcd:this.config.cmcd,customerDomainPrefix:this.config.streamElement.getAttribute("customer-domain-prefix")}),this.config.streamElement)}}let te=function(e){let{play:t,pause:n,updateSrc:r,destroy:i}=e;return{play:t,pause:n,updateSrc:r,destroy:i}},tt=async function(e,t,r){"hls"===r.forceFlavor&&await n.e("821").then(n.t.bind(n,588,23)).then(e=>{Object.assign(window,{muxjs:e})});let i=new e7(e,t,r);return await i.waitForAdsManager(),await i.waitForPlaybackProvider(),i};var tn=n(1273),tr=n(5072),ti=/*#__PURE__*/n.n(tr),ta=n(7825),to=/*#__PURE__*/n.n(ta),ts=n(7659),tl=/*#__PURE__*/n.n(ts),tu=n(5056),tc=/*#__PURE__*/n.n(tu),td=n(540),tf=/*#__PURE__*/n.n(td),tp=n(1113),th=/*#__PURE__*/n.n(tp),tg=n(3725),tm=/*#__PURE__*/n.n(tg),tv={};function ty(e){let t=e.getAttribute("src"),n=e.hasAttribute("staging"),r=e.getAttribute("customer-domain-prefix"),{resourceUrl:a}=(0,i.u)(t,n,r);return e.hasAttribute("poster")?e.getAttribute("poster"):function(e){let t=[240,360,480,720,1080],n=new URLSearchParams,{innerHeight:r}=window;if(0===r)n.set("height","720");else{let e=t.find(e=>e>=r)??t[t.length-1];n.set("height",e.toString())}return e+`/thumbnails/thumbnail.jpg?${n}`}(a)}function tb(e){try{if(e.cleanlyInitialized||e.initializing)return;e.initializing=!0;let t=e.getAttribute("src");t||console.error("Failed to load Stream element: src attribute not defined");let n=document.createElement("div");n.id=crypto.randomUUID(),e.appendChild(n);let o=e.hasAttribute("staging"),s=e.getAttribute("customer-domain-prefix"),{beaconUrl:l}=(0,i.u)(e,o,s),u=e.getAttribute("force-flavor"),c=e.hasAttribute("autoplay"),d=e.hasAttribute("muted")||e.hasAttribute("mute"),f=e.hasAttribute("controls"),p=e.getAttribute("preload"),h=e.getAttribute("default-text-track"),g=ty(e),m=e.hasAttribute("fit"),v=e.hasAttribute("no-quality-selector"),y=e.hasAttribute("debug-beacons"),b=e.hasAttribute("debug-globals"),w=e.getAttribute("bypass"),_=e.getAttribute("width");null!==_&&(e.style.width="number"==typeof e.style.width?`${_}px`:_);let S=e.getAttribute("height");null!==S&&(e.style.height="number"==typeof e.style.height?`${S}px`:S);let E=e.getAttribute("ad-url");E||(E=null);let T=e.getAttribute("primary-color"),k=e.getAttribute("letterbox-color"),A=e.hasAttribute("dvr-enabled"),I=e.getAttribute("title"),M=e.getAttribute("logo"),R=(0,r.U4)(e.getAttribute("share-link")),P=(0,r.U4)(e.getAttribute("channel-link")),D=e.hasAttribute("cmcd"),O=new x({element:n,site:l,src:t,playerVersion:a.K2}).withDebug(y);return tt(t,O,{poster:g,autoplay:c,cmcd:D,fit:m,dvrEnabled:A,muted:d,defaultTextTrack:h,preload:p,forceFlavor:u,controls:f,primaryColor:T,letterboxColor:k,streamElement:e,containerElement:n,bypass:w,debugGlobals:b,src:t,adURL:E,title:I,logo:M,shareLink:R,channelLink:P,controlBarConfig:{noQualitySelector:v},eventCb:t=>{let n=new CustomEvent(t);e.dispatchEvent(n);let r=`on${t}`;if(!e.hasAttribute(r))return;let i=e.getAttribute(r);Function("event",i)(n)}}).then(n=>{(function(e){var t;let{player:n,streamElement:r,metrics:i}=e,a=(t=n,{buffered:{get:()=>t.state.buffered??new C.j([]),set:null},played:{get:()=>t.state.played??new C.j([]),set:null},currentTime:{get:()=>t.state.currentTime,set:e=>void 0!==e&&t.seek(e)},defaultTextTrack:{get:()=>t.state.defaultTextTrack,set:e=>t.setState({defaultTextTrack:e})},__unstableTextTrackLabels:{get:()=>t.state.textTrackLabels,set:e=>t.setState({textTrackLabels:e})},volume:{get:()=>t.state.volume,set:e=>void 0!==e&&t.setState({volume:e})},autoplay:{get:()=>t.state.autoplay,set:e=>void 0!==e&&t.setState({autoplay:e})},letterboxColor:{get:()=>t.state.letterboxColor,set:e=>t.setState({letterboxColor:e})},duration:{get:()=>t.state.duration,set:null},ended:{get:()=>t.state.ended,set:null},paused:{get:()=>t.state.paused,set:null},playbackRate:{get:()=>t.state.playbackRate,set:e=>void 0!==e&&t.setState({playbackRate:e})},preload:{get:()=>t.state.preload,set:e=>void 0!==e&&t.setState({preload:e??"none"})},primaryColor:{get:()=>t.state.primaryColor,set:e=>t.setState({primaryColor:e})},poster:{get:()=>t.state.poster,set:e=>t.setState({poster:e})},loop:{get:()=>t.state.loop,set:e=>void 0!==e&&t.setState({loop:e})},muted:{get:()=>t.state.muted,set:e=>void 0!==e&&t.setState({muted:e})},controls:{get:()=>t.state.controls,set:e=>void 0!==e&&t.setState({controls:e})},videoHeight:{get:()=>t.state.videoHeight,set:null},videoWidth:{get:()=>t.state.videoWidth,set:null},seeking:{get:()=>t.state.seeking,set:null}});Object.keys(a).forEach(e=>{let{get:t,set:n}=a[e],i={configurable:!0};t&&(i.get=t),n&&(r.hasOwnProperty(e)&&n(r[e]),i.set=n),Object.defineProperty(r,e,i)});let o=r.getAttribute("preload");r.preload=o,r.hasAttribute("loop")&&(r.loop=!0),(r.hasAttribute("muted")||r.hasAttribute("mute"))&&(r.muted=!0);let s=new MutationObserver(e=>{if(Array.from(e).some(e=>"src"===e.attributeName)){var t;t=r.getAttribute("src"),i.updateSrc(t),r.poster=ty(r),l.updateSrc(t)}});s.observe(r,{attributes:!0,subtree:!1});let l=te(n);r.play=function(){return l.play()},r.pause=function(){l.pause()},r.destroy=function(){l.destroy(),s.disconnect()},r.hookBeacon=function(e){i.getBeaconClient().hook(e)},r.__getSource=function(){return r.getAttribute("src")},r.cleanlyInitialized=!0,r.initializing=!1})({player:n,src:t,streamElement:e,metrics:O,staging:o}),(0,tn.A)({__privateUnstableMessageType:"iframeReady"});let r=Number(e.getAttribute("start-time"));return!isNaN(r)&&r>0&&(e.currentTime=r),e}).catch(eu.V)}catch(e){(0,eu.V)(e)}}tv.styleTagTransform=th(),tv.setAttributes=tc(),tv.insert=tl().bind(null,"head"),tv.domAPI=to(),tv.insertStyleElement=tf(),ti()(tm(),tv),tm()&&tm().locals&&tm().locals,window.__stream||(window.__stream={init:function(){Array.prototype.slice.call(document.querySelectorAll("stream")).forEach(e=>{tb(e)})},initElement:tb}),window.__stream.init()},9085(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},298(e,t,n){var r=n(1602),i=n(3105),a=n(3610),o=r("unscopables"),s=Array.prototype;void 0==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},3938(e,t,n){var r=n(5335);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},8186(e,t,n){var r=n(5476),i=n(3747),a=n(6539),o=function(e){return function(t,n,o){var s,l=r(t),u=i(l.length),c=a(o,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},8569(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},3062(e,t,n){var r=n(3129),i=n(8569),a=n(1602)("toStringTag"),o="Arguments"==i(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),a))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},7115(e,t,n){"use strict";var r=n(3938),i=n(9085);e.exports=function(){for(var e=r(this),t=i(e.add),n=0,a=arguments.length;n<a;n++)t.call(e,arguments[n]);return e}},7593(e,t,n){"use strict";var r=n(3938),i=n(9085);e.exports=function(){for(var e,t=r(this),n=i(t.delete),a=!0,o=0,s=arguments.length;o<s;o++)e=n.call(t,arguments[o]),a=a&&e;return!!a}},4361(e,t,n){var r=n(1883),i=n(5816),a=n(7632),o=n(3610);e.exports=function(e,t){for(var n=i(t),s=o.f,l=a.f,u=0;u<n.length;u++){var c=n[u];r(e,c)||s(e,c,l(t,c))}}},7712(e,t,n){var r=n(5077),i=n(3610),a=n(6843);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},6843(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5077(e,t,n){e.exports=!n(2074)(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},3262(e,t,n){var r=n(200),i=n(5335),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},7061(e,t,n){e.exports=n(6492)("navigator","userAgent")||""},6845(e,t,n){var r,i,a=n(200),o=n(7061),s=a.process,l=s&&s.versions,u=l&&l.v8;u?i=(r=u.split("."))[0]<4?1:r[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},290(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1605(e,t,n){var r=n(200),i=n(7632).f,a=n(7712),o=n(7485),s=n(5975),l=n(4361),u=n(4977);e.exports=function(e,t){var n,c,d,f,p,h=e.target,g=e.global,m=e.stat;if(n=g?r:m?r[h]||s(h,{}):(r[h]||{}).prototype)for(c in t){if(f=t[c],d=e.noTargetGet?(p=i(n,c))&&p.value:n[c],!u(g?c:h+(m?".":"#")+c,e.forced)&&void 0!==d){if(typeof f===typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&a(f,"sham",!0),o(n,c,f,e)}}},2074(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},6885(e,t,n){var r=n(9085);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},6492(e,t,n){var r=n(9720),i=n(200),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},1898(e,t,n){var r=n(3062),i=n(2228),a=n(1602)("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},9526(e,t,n){var r=n(3938),i=n(1898);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},9219(e,t,n){var r=n(6926),i=n(9526);e.exports=r?i:function(e){return Map.prototype.entries.call(e)}},253(e,t,n){var r=n(6926),i=n(9526);e.exports=r?i:function(e){return Set.prototype.values.call(e)}},200(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},1883(e,t,n){var r=n(2612),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},7708(e){e.exports={}},8890(e,t,n){e.exports=n(6492)("document","documentElement")},7694(e,t,n){var r=n(5077),i=n(2074),a=n(3262);e.exports=!r&&!i(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},8664(e,t,n){var r=n(2074),i=n(8569),a="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},9965(e,t,n){var r=n(9310),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},9206(e,t,n){var r,i,a,o=n(2886),s=n(200),l=n(5335),u=n(7712),c=n(1883),d=n(9310),f=n(5904),p=n(7708),h="Object already initialized",g=s.WeakMap;if(o||d.state){var m=d.state||(d.state=new g),v=m.get,y=m.has,b=m.set;r=function(e,t){if(y.call(m,e))throw TypeError(h);return t.facade=e,b.call(m,e,t),t},i=function(e){return v.call(m,e)||{}},a=function(e){return y.call(m,e)}}else{var w=f("state");p[w]=!0,r=function(e,t){if(c(e,w))throw TypeError(h);return t.facade=e,u(e,w,t),t},i=function(e){return c(e,w)?e[w]:{}},a=function(e){return c(e,w)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},9034(e,t,n){var r=n(1602),i=n(2228),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},4977(e,t,n){var r=n(2074),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==u||n!=l&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},5335(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},6926(e){e.exports=!1},2929(e,t,n){var r=n(3938),i=n(9034),a=n(3747),o=n(6885),s=n(1898),l=n(9868),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var c,d,f,p,h,g,m,v=n&&n.that,y=!!(n&&n.AS_ENTRIES),b=!!(n&&n.IS_ITERATOR),w=!!(n&&n.INTERRUPTED),_=o(t,v,1+y+w),S=function(e){return c&&l(c),new u(!0,e)},x=function(e){return y?(r(e),w?_(e[0],e[1],S):_(e[0],e[1])):w?_(e,S):_(e)};if(b)c=e;else{if("function"!=typeof(d=s(e)))throw TypeError("Target is not iterable");if(i(d)){for(f=0,p=a(e.length);p>f;f++)if((h=x(e[f]))&&h instanceof u)return h;return new u(!1)}c=d.call(e)}for(g=c.next;!(m=g.call(c)).done;){try{h=x(m.value)}catch(e){throw l(c),e}if("object"==typeof h&&h&&h instanceof u)return h}return new u(!1)}},9868(e,t,n){var r=n(3938);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},2228(e){e.exports={}},1849(e,t,n){var r=n(6845),i=n(2074);e.exports=!!Object.getOwnPropertySymbols&&!i(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41})},2886(e,t,n){var r=n(200),i=n(9965),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},3105(e,t,n){var r,i=n(3938),a=n(5318),o=n(290),s=n(7708),l=n(8890),u=n(3262),c=n(5904),d="prototype",f="script",p=c("IE_PROTO"),h=function(){},g=function(e){return"<"+f+">"+e+"</"+f+">"},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){var e,t=u("iframe");return t.style.display="none",l.appendChild(t),t.src=String("java"+f+":"),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F},y=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}y=r?m(r):v();for(var e=o.length;e--;)delete y[d][o[e]];return y()};s[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h[d]=i(e),n=new h,h[d]=null,n[p]=e):n=y(),void 0===t?n:a(n,t)}},5318(e,t,n){var r=n(5077),i=n(3610),a=n(3938),o=n(1641);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),s=r.length,l=0;s>l;)i.f(e,n=r[l++],t[n]);return e}},3610(e,t,n){var r=n(5077),i=n(7694),a=n(3938),o=n(874),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7632(e,t,n){var r=n(5077),i=n(9304),a=n(6843),o=n(5476),s=n(874),l=n(1883),u=n(7694),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return a(!i.f.call(e,t),e[t])}},4789(e,t,n){var r=n(6347),i=n(290).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},8916(e,t){t.f=Object.getOwnPropertySymbols},6347(e,t,n){var r=n(1883),i=n(5476),a=n(8186).indexOf,o=n(7708);e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)!r(o,n)&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(u,n)||u.push(n));return u}},1641(e,t,n){var r=n(6347),i=n(290);e.exports=Object.keys||function(e){return r(e,i)}},9304(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor;t.f=r&&!n.call({1:2},1)?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},5816(e,t,n){var r=n(6492),i=n(4789),a=n(8916),o=n(3938);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},9720(e,t,n){e.exports=n(200)},7485(e,t,n){var r=n(200),i=n(7712),a=n(1883),o=n(5975),s=n(9965),l=n(9206),u=l.get,c=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var l,u=!!s&&!!s.unsafe,f=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;("function"==typeof n&&("string"!=typeof t||a(n,"name")||i(n,"name",t),(l=c(n)).source||(l.source=d.join("string"==typeof t?t:""))),e===r)?f?e[t]=n:o(t,n):(u?!p&&e[t]&&(f=!0):delete e[t],f?e[t]=n:i(e,t,n))})(Function.prototype,"toString",function(){return"function"==typeof this&&u(this).source||s(this)})},1229(e){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},3744(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},5975(e,t,n){var r=n(200),i=n(7712);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},5904(e,t,n){var r=n(2),i=n(665),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},9310(e,t,n){var r=n(200),i=n(5975),a="__core-js_shared__";e.exports=r[a]||i(a,{})},2(e,t,n){var r=n(6926),i=n(9310);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.13.1",mode:r?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},3444(e,t,n){var r=n(3938),i=n(9085),a=n(1602)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},7804(e,t,n){var r=n(7317),i=n(1229),a=function(e){return function(t,n){var a,o,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):(a-55296<<10)+(o-56320)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},6539(e,t,n){var r=n(7317),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},5476(e,t,n){var r=n(8664),i=n(1229);e.exports=function(e){return r(i(e))}},7317(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e*=1)?0:(e>0?n:t)(e)}},3747(e,t,n){var r=n(7317),i=Math.min;e.exports=function(e){return e>0?i(r(e),0x1fffffffffffff):0}},2612(e,t,n){var r=n(1229);e.exports=function(e){return Object(r(e))}},874(e,t,n){var r=n(5335);e.exports=function(e,t){var n,i;if(!r(e))return e;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e))||"function"==typeof(n=e.valueOf)&&!r(i=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},3129(e,t,n){var r=n(1602)("toStringTag"),i={};i[r]="z",e.exports="[object z]"===String(i)},665(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},5225(e,t,n){e.exports=n(1849)&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},1602(e,t,n){var r=n(200),i=n(2),a=n(1883),o=n(665),s=n(1849),l=n(5225),u=i("wks"),c=r.Symbol,d=l?c:c&&c.withoutSetter||o;e.exports=function(e){return a(u,e)&&(s||"string"==typeof u[e])||(s&&a(c,e)?u[e]=c[e]:u[e]=d("Symbol."+e)),u[e]}},1845(e,t,n){"use strict";var r=n(5077),i=n(298),a=n(2612),o=n(3747),s=n(3610).f;!r||"lastIndex"in[]||(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=o(a(this).length);return 0==e?0:e-1}}),i("lastIndex"))},9404(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(7593);r({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},9982(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(6885),s=n(9219),l=n(2929);r({target:"Map",proto:!0,real:!0,forced:i},{every:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return!l(n,function(e,n,i){if(!r(n,e,t))return i()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},7399(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(6492),o=n(3938),s=n(9085),l=n(6885),u=n(3444),c=n(9219),d=n(2929);r({target:"Map",proto:!0,real:!0,forced:i},{filter:function(e){var t=o(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,a("Map"))),f=s(i.set);return d(n,function(e,n){r(n,e,t)&&f.call(i,e,n)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},1048(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(6885),s=n(9219),l=n(2929);r({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e,n,i){if(r(n,e,t))return i(e)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},6970(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(6885),s=n(9219),l=n(2929);r({target:"Map",proto:!0,real:!0,forced:i},{find:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e,n,i){if(r(n,e,t))return i(n)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},2236(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(9219),s=n(3744),l=n(2929);r({target:"Map",proto:!0,real:!0,forced:i},{includes:function(e){return l(o(a(this)),function(t,n,r){if(s(n,e))return r()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},1650(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(9219),s=n(2929);r({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(e){return s(o(a(this)),function(t,n,r){if(n===e)return r(t)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},6884(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(6492),o=n(3938),s=n(9085),l=n(6885),u=n(3444),c=n(9219),d=n(2929);r({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(e){var t=o(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,a("Map"))),f=s(i.set);return d(n,function(e,n){f.call(i,r(n,e,t),n)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},8710(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(6492),o=n(3938),s=n(9085),l=n(6885),u=n(3444),c=n(9219),d=n(2929);r({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(e){var t=o(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,a("Map"))),f=s(i.set);return d(n,function(e,n){f.call(i,e,r(n,e,t))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},3617(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(9085),s=n(2929);r({target:"Map",proto:!0,real:!0,forced:i},{merge:function(e){for(var t=a(this),n=o(t.set),r=0;r<arguments.length;)s(arguments[r++],n,{that:t,AS_ENTRIES:!0});return t}})},3019(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(9085),s=n(9219),l=n(2929);r({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(e){var t=a(this),n=s(t),r=arguments.length<2,i=r?void 0:arguments[1];if(o(e),l(n,function(n,a){r?(r=!1,i=a):i=e(i,a,n,t)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty map with no initial value");return i}})},8657(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(6885),s=n(9219),l=n(2929);r({target:"Map",proto:!0,real:!0,forced:i},{some:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e,n,i){if(r(n,e,t))return i()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},3380(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(9085);r({target:"Map",proto:!0,real:!0,forced:i},{update:function(e,t){var n=a(this),r=arguments.length;o(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");var s=i?n.get(e):o(r>2?arguments[2]:void 0)(e,n);return n.set(e,t(s,e,n)),n}})},8198(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(7115);r({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return a.apply(this,arguments)}})},7918(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(7593);r({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},8900(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(6492),o=n(3938),s=n(9085),l=n(3444),u=n(2929);r({target:"Set",proto:!0,real:!0,forced:i},{difference:function(e){var t=o(this),n=new(l(t,a("Set")))(t),r=s(n.delete);return u(e,function(e){r.call(n,e)}),n}})},708(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(6885),s=n(253),l=n(2929);r({target:"Set",proto:!0,real:!0,forced:i},{every:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return!l(n,function(e,n){if(!r(e,e,t))return n()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},2657(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(6492),o=n(3938),s=n(9085),l=n(6885),u=n(3444),c=n(253),d=n(2929);r({target:"Set",proto:!0,real:!0,forced:i},{filter:function(e){var t=o(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,a("Set"))),f=s(i.add);return d(n,function(e){r(e,e,t)&&f.call(i,e)},{IS_ITERATOR:!0}),i}})},1452(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(6885),s=n(253),l=n(2929);r({target:"Set",proto:!0,real:!0,forced:i},{find:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e,n){if(r(e,e,t))return n(e)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},6546(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(6492),o=n(3938),s=n(9085),l=n(3444),u=n(2929);r({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(e){var t=o(this),n=new(l(t,a("Set"))),r=s(t.has),i=s(n.add);return u(e,function(e){r.call(t,e)&&i.call(n,e)}),n}})},1749(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(9085),s=n(2929);r({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var t=a(this),n=o(t.has);return!s(e,function(e,r){if(!0===n.call(t,e))return r()},{INTERRUPTED:!0}).stopped}})},6754(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(6492),o=n(3938),s=n(9085),l=n(9526),u=n(2929);r({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(e){var t=l(this),n=o(e),r=n.has;return"function"!=typeof r&&(r=s((n=new(a("Set"))(e)).has)),!u(t,function(e,t){if(!1===r.call(n,e))return t()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},6299(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(9085),s=n(2929);r({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(e){var t=a(this),n=o(t.has);return!s(e,function(e,r){if(!1===n.call(t,e))return r()},{INTERRUPTED:!0}).stopped}})},3643(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(253),s=n(2929);r({target:"Set",proto:!0,real:!0,forced:i},{join:function(e){var t=o(a(this)),n=void 0===e?",":String(e),r=[];return s(t,r.push,{that:r,IS_ITERATOR:!0}),r.join(n)}})},3053(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(6492),o=n(3938),s=n(9085),l=n(6885),u=n(3444),c=n(253),d=n(2929);r({target:"Set",proto:!0,real:!0,forced:i},{map:function(e){var t=o(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,a("Set"))),f=s(i.add);return d(n,function(e){f.call(i,r(e,e,t))},{IS_ITERATOR:!0}),i}})},1029(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(9085),s=n(253),l=n(2929);r({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(e){var t=a(this),n=s(t),r=arguments.length<2,i=r?void 0:arguments[1];if(o(e),l(n,function(n){r?(r=!1,i=n):i=e(i,n,n,t)},{IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty set with no initial value");return i}})},9155(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(3938),o=n(6885),s=n(253),l=n(2929);r({target:"Set",proto:!0,real:!0,forced:i},{some:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e,n){if(r(e,e,t))return n()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},3070(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(6492),o=n(3938),s=n(9085),l=n(3444),u=n(2929);r({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(e){var t=o(this),n=new(l(t,a("Set")))(t),r=s(n.delete),i=s(n.add);return u(e,function(e){r.call(n,e)||i.call(n,e)}),n}})},3696(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(6492),o=n(3938),s=n(9085),l=n(3444),u=n(2929);r({target:"Set",proto:!0,real:!0,forced:i},{union:function(e){var t=o(this),n=new(l(t,a("Set")))(t);return u(e,s(n.add),{that:n}),n}})},1733(e,t,n){"use strict";var r=n(1605),i=n(7804).charAt;r({target:"String",proto:!0,forced:n(2074)(function(){return"\uD842\uDFB7"!=="\uD842\uDFB7".at(0)})},{at:function(e){return i(this,e)}})},3051(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(7593);r({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},6139(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(7115);r({target:"WeakSet",proto:!0,real:!0,forced:i},{addAll:function(){return a.apply(this,arguments)}})},2569(e,t,n){"use strict";var r=n(1605),i=n(6926),a=n(7593);r({target:"WeakSet",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},3725(e,t,n){(e.exports=n(9328)(!1)).push([e.id,'stream {\n  display: block;\n  position: relative;\n}\n\n:root {\n  --cloudflare-orange: #f38020;\n  --cloudflare-alt-white: #ffffff;\n  --cloudflare-sans-serif-font: Avenir;\n}\n\nstream {\n  --cloudflare-video-theme-color: var(--cloudflare-alt-white);\n  --cloudflare-video-theme-font: var(--cloudflare-sans-serif-font);\n}\n\ntextarea.cf-video-stats {\n  position: fixed;\n  right: 10px;\n  top: 10px;\n  z-index: 999999;\n  opacity: 0.6;\n  background: #000;\n  border: 1px solid yellow;\n  margin: 0px;\n  padding: 5px;\n  overflow: hidden;\n  text-rendering: auto;\n  line-height: normal;\n  color: yellow;\n  width: 12em;\n  height: 6.4em;\n  font-family: "Lucida Console", Monaco, monospace;\n  font-size: 11px;\n}',""])},5072(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],o=0;o<e.length;o++){var s=e[o],l=r.base?s[0]+r.base:s[0],u=i[l]||0,c="".concat(l," ").concat(u);i[l]=u+1;var d=n(c),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var p=function(e,t){var n=t.domAPI(t);return n.update(e),function(t){t?(t.css!==e.css||t.media!==e.media||t.sourceMap!==e.sourceMap||t.supports!==e.supports||t.layer!==e.layer)&&n.update(e=t):n.remove()}}(f,r);r.byIndex=o,t.splice(o,0,{identifier:c,updater:p,references:1})}a.push(c)}return a}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var s=n(a[o]);t[s].references--}for(var l=r(e,i),u=0;u<a.length;u++){var c=n(a[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=l}}},7659(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825(e){"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){var r,i,a;r="",n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {")),(i=void 0!==n.layer)&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}"),(a=n.sourceMap)&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)},remove:function(){var e;null===(e=t).parentNode||e.parentNode.removeChild(e)}}}},1113(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=r,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,t){if(1&t&&(e=this(e)),8&t||"object"==typeof e&&e&&(4&t&&e.__esModule||16&t&&"function"==typeof e.then))return e;var n=Object.create(null);a.r(n);var r={};o=o||[null,s({}),s([]),s(s)];for(var i=2&t&&e;("object"==typeof i||"function"==typeof i)&&!~o.indexOf(i);i=s(i))Object.getOwnPropertyNames(i).forEach(t=>{r[t]=()=>e[t]});return r.default=()=>e,a.d(n,r),n},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,n)=>(a.f[n](e,t),t),[])),a.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),a.u=e=>""+e+"."+({10:"8bc27614",130:"45f5dbf0",360:"a163cb57",385:"8fb37889",782:"c7cb3fba",792:"0cb47c76",821:"b12f9b05",925:"7cfa1c83",953:"6ace68ec"})[e]+".chunk.js",a.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l={},a.l=function(e,t,n,r){if(l[e])return void l[e].push(t);if(void 0!==n)for(var i,o,s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var c=s[u];if(c.getAttribute("src")==e||c.getAttribute("data-rspack")=="cffs:"+n){i=c;break}}i||(o=!0,(i=document.createElement("script")).timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-rspack","cffs:"+n),i.src=e),l[e]=[t];var d=function(t,n){i.onerror=i.onload=null,clearTimeout(f);var r=l[e];if(delete l[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach(function(e){return e(n)}),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),o&&document.head.appendChild(i)},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.nc=void 0,a.rv=()=>"1.6.7",a.g.importScripts&&(u=a.g.location+"");var o,s,l,u,c=a.g.document;if(!u&&c&&(c.currentScript&&"SCRIPT"===c.currentScript.tagName.toUpperCase()&&(u=c.currentScript.src),!u)){var d=c.getElementsByTagName("script");if(d.length)for(var f=d.length-1;f>-1&&(!u||!/^http(s?):/.test(u));)u=d[f--].src}if(!u)throw Error("Automatic publicPath is not supported in this browser");a.p=u=u.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e={860:0},a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((n,i)=>r=e[t]=[n,i]);n.push(r[2]=i);var o=a.p+a.u(t),s=Error();a.l(o,function(n){if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}},"chunk-"+t,t)}},t=(t,n)=>{var r,i,o=n[0],s=n[1],l=n[2],u=0;if(o.some(t=>0!==e[t])){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);l&&l(a)}for(t&&t(n);u<o.length;u++)i=o[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},(n=self.__cfswpl__=self.__cfswpl__||[]).forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n)),a.ruid="bundler=rspack@1.6.7",(()=>{"use strict";a(6620);var e=a(9152),t=a(1273),n=a(9743);let r=["currentTime","playbackRate","volume","muted","autoplay","preload","loop","controls","poster","primaryColor","letterboxColor","defaultTextTrack","__unstableTextTrackLabels","title","logo","shareLink","channelLink"];var i=a(2963);let o=new RegExp(/^https?:\/\//),s=new RegExp(/^\/\//),l=new RegExp(/^\//),u=e=>e,c=Object.keys({poster:e=>{var t;return null===e?null:(t=window.location,o.test(e)?e:s.test(e)?t.protocol+e:l.test(e)?t.origin+e:[t.origin,...t.pathname.split("/").filter((e,t,n)=>0!==t&&t!==n.length-1),e].join("/"))},height:e=>null===e?null:"100vh",width:e=>null===e?null:"100vw",src:u,autoplay:u,controls:u,loop:u,preload:u,mute:u,muted:u,staging:u,"default-text-track":u,"ad-url":u,"debug-globals":u,"primary-color":u,"letterbox-color":u,"force-flavor":u,"dvr-enabled":u,"customer-domain-prefix":u,title:u,logo:u,"share-link":i.U4,"channel-link":i.U4});a(5184);let d=document.querySelector("stream");if(!d)throw Error("no stream element found");[...e.eW,...e.MJ.map(e.f0)].forEach(r=>d.addEventListener(r,()=>{switch("timeupdate"===r&&(0,t.A)({__privateUnstableMessageType:"playedTimeRangesUpdate",timeRanges:d.played?(0,n.h)(d.played):[]}),"progress"===r&&(0,t.A)({__privateUnstableMessageType:"bufferedTimeRangesUpdate",timeRanges:d.buffered?(0,n.h)(d.buffered):[]}),r===(0,e.f0)("adstart")&&(0,t.A)({__privateUnstableMessageType:"event",eventName:"adstart"}),r){case"timeupdate":case"seeking":case"seeked":(0,t.A)({__privateUnstableMessageType:"propertyChange",property:"seeking",value:d.seeking}),(0,t.A)({__privateUnstableMessageType:"propertyChange",property:"currentTime",value:d.currentTime});break;case"ratechange":(0,t.A)({__privateUnstableMessageType:"propertyChange",property:"playbackRate",value:d.playbackRate});break;case"resize":(0,t.A)({__privateUnstableMessageType:"propertyChange",property:"videoHeight",value:d.videoHeight}),(0,t.A)({__privateUnstableMessageType:"propertyChange",property:"videoWidth",value:d.videoWidth});break;case"volumechange":(0,t.A)({__privateUnstableMessageType:"propertyChange",property:"volume",value:d.volume}),(0,t.A)({__privateUnstableMessageType:"propertyChange",property:"muted",value:d.muted});break;case"durationchange":(0,t.A)({__privateUnstableMessageType:"propertyChange",property:"duration",value:d.duration});break;case"ended":(0,t.A)({__privateUnstableMessageType:"propertyChange",property:"ended",value:!0});break;case"pause":(0,t.A)({__privateUnstableMessageType:"propertyChange",property:"paused",value:!0});break;case"play":(0,t.A)({__privateUnstableMessageType:"propertyChange",property:"ended",value:!1}),(0,t.A)({__privateUnstableMessageType:"propertyChange",property:"paused",value:!1})}(0,t.A)({__privateUnstableMessageType:"event",eventName:r})})),window.addEventListener("message",e=>{if(e.source!==window.parent)return;let n=e.data;switch(n.__privateUnstableMessageType){case"attributeChange":c.includes(n.attribute)&&(void 0===n.value||null===n.value?d.removeAttribute(n.attribute):d.setAttribute(n.attribute,n.value));break;case"setProperty":r.includes(n.property)&&(d[n.property]=n.value);break;case"playCommand":d.play().then(()=>{(0,t.A)({__privateUnstableMessageType:"playSuccess",promiseId:n.promiseId})}).catch(()=>{(0,t.A)({__privateUnstableMessageType:"playFailure",promiseId:n.promiseId})});break;case"pauseCommand":d.pause();break;case"closeContextMenu":document.body.click()}}),d.hookBeacon&&d.hookBeacon(e=>{(0,t.A)({__privateUnstableMessageType:"metrics",metrics:e})})})()})();